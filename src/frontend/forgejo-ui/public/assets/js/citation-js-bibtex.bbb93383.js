(self.webpackChunkforgejo=self.webpackChunkforgejo||[]).push([["citation-js-bibtex"],{"./node_modules/@citation-js/date/lib/index.js":function(fe,N,T){"use strict";Object.defineProperty(N,"__esModule",{value:!0}),Object.defineProperty(N,"format",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(N,"parse",{enumerable:!0,get:function(){return M.default}});var M=R(T("./node_modules/@citation-js/date/lib/input.js")),P=R(T("./node_modules/@citation-js/date/lib/output.js"));function R(j){return j&&j.__esModule?j:{default:j}}},"./node_modules/@citation-js/date/lib/input.js":function(fe,N){"use strict";Object.defineProperty(N,"__esModule",{value:!0}),N.default=void 0;function T(s,h){return D(s)||j(s,h)||P(s,h)||M()}function M(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P(s,h){if(s){if(typeof s=="string")return R(s,h);var p=Object.prototype.toString.call(s).slice(8,-1);if(p==="Object"&&s.constructor&&(p=s.constructor.name),p==="Map"||p==="Set")return Array.from(s);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return R(s,h)}}function R(s,h){(h==null||h>s.length)&&(h=s.length);for(var p=0,v=new Array(h);p<h;p++)v[p]=s[p];return v}function j(s,h){var p=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(p!=null){var v=[],u=!0,E=!1,k,A;try{for(p=p.call(s);!(u=(k=p.next()).done)&&(v.push(k.value),!(h&&v.length===h));u=!0);}catch(i){E=!0,A=i}finally{try{!u&&p.return!=null&&p.return()}finally{if(E)throw A}}return v}}function D(s){if(Array.isArray(s))return s}const _={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12},Y=/ (?:to|[-/]) | ?(?:--|[–—]) ?/,ue=/^(\d{4}-\d{2}-\d{2})\/(\d{4}-\d{2}-\d{2})$/;function $(s){return _[s.toLowerCase().slice(0,3)]}function ne(s){const h=new Date(s);return typeof s=="number"&&!isNaN(h.valueOf())?[h.getFullYear(),h.getMonth()+1,h.getDate()]:null}const G=function(h){const p=/^(\d{4}|[-+]\d{6,})-(\d{2})(?:-(\d{2}))?/;if(typeof h!="string"||!p.test(h))return null;const v=h.match(p),u=T(v,4),E=u[1],k=u[2],A=u[3];return+k?+A?[E,k,A]:[E,k]:[E]},W=function(h){const p=/^(?:[a-z]{3},\s*)?(\d{1,2}) ([a-z]{3}) (\d{4,})/i;if(typeof h!="string"||!p.test(h))return null;let v=h.match(p),u=T(v,4),E=u[1],k=u[2],A=u[3];return k=$(k),k?[A,k,E]:null};function K(s){const h=/^(\d{1,2})\/(\d{1,2})\/(\d{2}(?:\d{2})?)/;if(typeof s!="string"||!h.test(s))return null;const p=s.match(h),v=T(p,4),u=v[1],E=v[2],k=v[3];return new Date(k,u,E).getMonth()===parseInt(u)?[k,u,E]:null}function H(s){const h=/^(\d{1,2})[ .\-/](\d{1,2}|[a-z]{3,10})[ .\-/](-?\d+)/i,p=/^(-?\d+)[ .\-/](\d{1,2}|[a-z]{3,10})[ .\-/](\d{1,2})/i;let v,u,E;if(typeof s!="string")return null;if(h.test(s)){var k=s.match(h),A=T(k,4);E=A[1],u=A[2],v=A[3]}else if(p.test(s)){var i=s.match(p),a=T(i,4);v=a[1],u=a[2],E=a[3]}else return null;if($(u))u=$(u);else if(isNaN(u))return null;return[v,u,E]}function ce(s){const h=/^([a-z]{3,10}|-?\d+)[^\w-]+([a-z]{3,10}|-?\d+)$/i;if(typeof s=="string"&&h.test(s)){const p=s.match(h).slice(1,3);let v;if($(p[1]))v=$(p.pop());else if($(p[0]))v=$(p.shift());else{if(p.some(isNaN)||p.every(E=>+E<0))return null;+p[0]<0||+p[0]>+p[1]&&+p[1]>0?v=p.pop():v=p.shift()}return[p.pop(),v]}else return null}function Z(s){if(typeof s!="string")return null;const h=s.match(/^(\d+) ?(a\.?d\.?|b\.?c\.?)$/i);if(h){const p=h.slice(1),v=T(p,2),u=v[0],E=v[1];return[u*(E.toLowerCase()[0]==="a"?1:-1)]}else return/^-?\d+$/.test(s)?[s]:null}function q(s){const h=ne(s)||G(s)||W(s)||K(s)||H(s)||ce(s)||Z(s);return h&&h.map(p=>parseInt(p))}function U(s){return ue.test(s)?s.match(ue).slice(1,3):s.split(Y)}function ie(s,h){const p=[],v=typeof s=="string"&&U(s);h?p.push(s,h):v&&v.length===2?p.push(...v):p.push(s);const u=p.map(q);return u.filter(Boolean).length===p.length?{"date-parts":u}:{raw:h?p.join("/"):s}}var oe=ie;N.default=oe},"./node_modules/@citation-js/date/lib/output.js":function(fe,N){"use strict";Object.defineProperty(N,"__esModule",{value:!0}),N.default=void 0;function T(R,j,D){if(R.length>=j)return R;for(;R.length<j;)R=D+R;return R.slice(-j)}var P=function(j,D="-"){if(!j["date-parts"])return j.raw;const _=j["date-parts"][0].map(Y=>Y.toString());switch(_.length){case 3:_[2]=T(_[2],2,"0");case 2:_[1]=T(_[1],2,"0");case 1:_[0]=T(_[0],4,"0");break}return _.join(D)};N.default=P},"./node_modules/@citation-js/plugin-bibtex/lib-mjs/index.js":function(fe,N,T){"use strict";var M={};T.r(M),T.d(M,{argumentCommands:function(){return ie},commands:function(){return K},defaultStrings:function(){return ce},diacritics:function(){return W},fieldTypes:function(){return G},formatting:function(){return U},formattingCommands:function(){return q},formattingEnvs:function(){return Z},ligaturePattern:function(){return oe},ligatures:function(){return s},mathCommands:function(){return H},mathScriptFormatting:function(){return h},mathScripts:function(){return p},required:function(){return ne},sentenceCaseLanguages:function(){return v}});var P=T("./node_modules/@citation-js/core/lib-mjs/index.js"),R=T("./node_modules/moo/moo.js"),j=T.n(R),D=JSON.parse('{"source":{"article":"article-journal","book":"book","mvbook":"book","inbook":"chapter","bookinbook":"book","booklet":"book","collection":"book","mvcollection":"book","incollection":"chapter","dataset":"dataset","manual":"report","misc":"document","online":"webpage","patent":"patent","periodical":"periodical","proceedings":"book","mvproceedings":"book","inproceedings":"paper-conference","reference":"book","mvreference":"book","inreference":"entry","report":"report","software":"software","thesis":"thesis","unpublished":"manuscript","artwork":"graphic","audio":"song","image":"figure","jurisdiction":"legal_case","legislation":"legislation","legal":"treaty","letter":"personal_communication","movie":"motion_picture","music":"musical_score","performance":"performance","review":"review","standard":"standard","video":"motion_picture","conference":"paper-conference","electronic":"webpage","mastersthesis":"thesis","phdthesis":"thesis","techreport":"report","www":"webpage"},"target":{"article":"article","article-journal":"article","article-magazine":"article","article-newspaper":"article","bill":"legislation","book":"book","broadcast":"audio","chapter":"inbook","classic":"unpublished","collection":"misc","dataset":"dataset","document":"misc","entry":"inreference","entry-dictionary":"inreference","entry-encyclopedia":"inreference","event":"misc","figure":"artwork","graphic":"artwork","hearing":"legal","interview":"audio","legal_case":"jurisdiction","legislation":"legislation","manuscript":"unpublished","motion_picture":"movie","musical_score":"music","paper-conference":"inproceedings","patent":"patent","performance":"performance","periodical":"periodical","personal_communication":"letter","post":"online","post-weblog":"online","regulation":"legal","report":"report","review":"review","review-book":"review","software":"software","song":"music","speech":"audio","standard":"standard","thesis":"thesis","treaty":"legal","webpage":"online"}}'),_=JSON.parse('{"source":{"article":"article-journal","book":"book","booklet":"book","conference":"paper-conference","inbook":"chapter","incollection":"chapter","inproceedings":"paper-conference","manual":"report","mastersthesis":"thesis","misc":"document","phdthesis":"thesis","proceedings":"book","techreport":"report","unpublished":"manuscript"},"target":{"article":"article","article-journal":"article","article-magazine":"article","article-newspaper":"article","book":"book","chapter":"inbook","manuscript":"unpublished","paper-conference":"inproceedings","report":"techreport","review":"article","review-book":"article"}}'),Y=JSON.parse('{"biblatex":{"article":["author","title","journaltitle",["year","date"]],"book":["author","title",["year","date"]],"mvbook":["author","title",["year","date"]],"inbook":["author","title","booktitle",["year","date"]],"booklet":[["author","editor"],"title",["year","date"]],"collection":["editor","title",["year","date"]],"mvcollection":["editor","title",["year","date"]],"incollection":["author","title","booktitle",["year","date"]],"dataset":[["author","editor"],"title",["year","date"]],"online":[["author","editor"],"title",["year","date"],["doi","eprint","url"]],"patent":["author","title","number",["year","date"]],"periodical":["editor","title",["year","date"]],"proceedings":["title",["year","date"]],"mvproceedings":["title",["year","date"]],"inproceedings":["author","title","booktitle",["year","date"]],"report":["author","title","type","institution",["year","date"]],"thesis":["author","title","type","institution",["year","date"]],"unpublished":["author","title",["year","date"]],"conference":["author","title","booktitle",["year","date"]],"electronic":[["author","editor"],"title",["year","date"],["doi","eprint","url"]],"mastersthesis":["author","title","institution",["year","date"]],"phdthesis":["author","title","institution",["year","date"]],"techreport":["author","title","institution",["year","date"]],"www":[["author","editor"],"title",["year","date"],["doi","eprint","url"]]},"bibtex":{"article":["author","title","journal","year"],"book":[["author","editor"],"title","publisher","year"],"booklet":["title"],"inbook":[["author","editor"],"title",["chapter","pages"],"publisher","year"],"incollection":["author","title","booktitle","publisher","year"],"inproceedings":["author","title","booktitle","year"],"mastersthesis":["author","title","school","year"],"phdthesis":["author","title","school","year"],"proceedings":["title","year"],"techreport":["author","title","institution","year"],"unpublished":["author","title","note"]}}'),ue=JSON.parse('{"abstract":["field","literal"],"addendum":["field","literal"],"afterword":["list","name"],"annotation":["field","literal"],"annotator":["list","name"],"author":["list","name"],"authortype":["field","key"],"bookauthor":["list","name"],"bookpagination":["field","key"],"booksubtitle":["field","literal"],"booktitle":["field","title"],"booktitleaddon":["field","literal"],"chapter":["field","literal"],"commentator":["list","name"],"date":["field","date"],"doi":["field","verbatim"],"edition":["field","literal"],"editor":["list","name"],"editora":["list","name"],"editorb":["list","name"],"editorc":["list","name"],"editortype":["field","key"],"editoratype":["field","key"],"editorbtype":["field","key"],"editorctype":["field","key"],"eid":["field","literal"],"entrysubtype":["field","literal"],"eprint":["field","verbatim"],"eprintclass":["field","literal"],"eprinttype":["field","literal"],"eventdate":["field","date"],"eventtitle":["field","title"],"eventtitleaddon":["field","literal"],"file":["field","verbatim"],"foreword":["list","name"],"holder":["list","name"],"howpublished":["field","literal"],"indextitle":["field","literal"],"institution":["list","literal"],"introduction":["list","name"],"isan":["field","literal"],"isbn":["field","literal"],"ismn":["field","literal"],"isrn":["field","literal"],"issn":["field","literal"],"issue":["field","literal"],"issuesubtitle":["field","literal"],"issuetitle":["field","literal"],"iswc":["field","literal"],"journalsubtitle":["field","literal"],"journaltitle":["field","literal"],"label":["field","literal"],"language":["list","key"],"library":["field","literal"],"location":["list","literal"],"mainsubtitle":["field","literal"],"maintitle":["field","title"],"maintitleaddon":["field","literal"],"month":["field","literal"],"nameaddon":["field","literal"],"note":["field","literal"],"number":["field","literal"],"organization":["list","literal"],"origdate":["field","date"],"origlanguage":["list","key"],"origlocation":["list","literal"],"origpublisher":["list","literal"],"origtitle":["field","title"],"pages":["field","range"],"pagetotal":["field","literal"],"pagination":["field","key"],"part":["field","literal"],"publisher":["list","literal"],"pubstate":["field","key"],"reprinttitle":["field","literal"],"series":["field","title"],"shortauthor":["list","name"],"shorteditor":["list","name"],"shorthand":["field","literal"],"shorthandintro":["field","literal"],"shortjournal":["field","literal"],"shortseries":["field","literal"],"shorttitle":["field","title"],"subtitle":["field","literal"],"title":["field","title"],"titleaddon":["field","literal"],"translator":["list","name"],"type":["field","title"],"url":["field","uri"],"urldate":["field","date"],"venue":["field","literal"],"version":["field","literal"],"volume":["field","integer"],"volumes":["field","integer"],"year":["field","literal"],"crossref":["field","entry key"],"entryset":["separated","literal"],"execute":["field","code"],"gender":["field","gender"],"langid":["field","identifier"],"langidopts":["field","literal"],"ids":["separated","entry key"],"indexsorttitle":["field","literal"],"keywords":["separated","literal"],"options":["separated","options"],"presort":["field","string"],"related":["separated","literal"],"relatedoptions":["separated","literal"],"relatedtype":["field","identifier"],"relatedstring":["field","literal"],"sortkey":["field","literal"],"sortname":["list","name"],"sortshorthand":["field","literal"],"sorttitle":["field","literal"],"sortyear":["field","integer"],"xdata":["separated","entry key"],"xref":["field","entry key"],"namea":["list","name"],"nameb":["list","name"],"namec":["list","name"],"nameatype":["field","key"],"namebtype":["field","key"],"namectype":["field","key"],"lista":["list","literal"],"listb":["list","literal"],"listc":["list","literal"],"listd":["list","literal"],"liste":["list","literal"],"listf":["list","literal"],"usera":["field","literal"],"userb":["field","literal"],"userc":["field","literal"],"userd":["field","literal"],"usere":["field","literal"],"userf":["field","literal"],"verba":["field","literal"],"verbb":["field","literal"],"verbc":["field","literal"],"address":["list","literal"],"annote":["field","literal"],"archiveprefix":["field","literal"],"journal":["field","literal"],"key":["field","literal"],"pdf":["field","verbatim"],"primaryclass":["field","literal"],"school":["list","literal"],"numpages":["field","integer"],"pmid":["field","literal"],"pmcid":["field","literal"]}'),$=JSON.parse('{"SN":{"`":"\u0300","\'":"\u0301","^":"\u0302","~":"\u0303","=":"\u0304","u":"\u0306",".":"\u0307","\\"":"\u0308","r":"\u030A","H":"\u030B","v":"\u030C","b":"\u0332","d":"\u0323","c":"\u0327","k":"\u0328","t":"\u0361","textcommabelow":"\u0326"},"Pi":{"textquotesingle":"\'","textasciigrave":"`","textquotedbl":"\\"","textdollar":"$","textless":"<","textgreater":">","textbackslash":"\\\\","textasciicircum":"^","textunderscore":"_","textbraceleft":"{","textbar":"|","textbraceright":"}","textasciitilde":"~","textexclamdown":"\xA1","textcent":"\xA2","textsterling":"\xA3","textcurrency":"\xA4","textyen":"\xA5","textbrokenbar":"\xA6","textsection":"\xA7","textasciidieresis":"\xA8","textcopyright":"\xA9","textordfeminine":"\xAA","guillemetleft":"\xAB","guillemotleft":"\xAB","textlnot":"\xAC","textregistered":"\xAE","textasciimacron":"\xAF","textdegree":"\xB0","textpm":"\xB1","texttwosuperior":"\xB2","textthreesuperior":"\xB3","textasciiacute":"\xB4","textmu":"\xB5","textparagraph":"\xB6","textperiodcentered":"\xB7","textonesuperior":"\xB9","textordmasculine":"\xBA","guillemetright":"\xBB","guillemotright":"\xBB","textonequarter":"\xBC","textonehalf":"\xBD","textthreequarters":"\xBE","textquestiondown":"\xBF","AE":"\xC6","DH":"\xD0","texttimes":"\xD7","O":"\xD8","TH":"\xDE","ss":"\xDF","ae":"\xE6","dh":"\xF0","textdiv":"\xF7","o":"\xF8","th":"\xFE","DJ":"\u0110","dj":"\u0111","i":"\u0131","IJ":"\u0132","ij":"\u0133","L":"\u0141","l":"\u0142","NG":"\u014A","ng":"\u014B","OE":"\u0152","oe":"\u0153","textflorin":"\u0192","j":"\u0237","textasciicaron":"\u02C7","textasciibreve":"\u02D8","textacutedbl":"\u02DD","textgravedbl":"\u02F5","texttildelow":"\u02F7","textbaht":"\u0E3F","SS":"\u1E9E","textcompwordmark":"\u200C","textendash":"\u2013","textemdash":"\u2014","textbardbl":"\u2016","textquoteleft":"\u2018","textquoteright":"\u2019","quotesinglbase":"\u201A","textquotedblleft":"\u201C","textquotedblright":"\u201D","quotedblbase":"\u201E","textdagger":"\u2020","textdaggerdbl":"\u2021","textbullet":"\u2022","textellipsis":"\u2026","textperthousand":"\u2030","textpertenthousand":"\u2031","guilsinglleft":"\u2039","guilsinglright":"\u203A","textreferencemark":"\u203B","textinterrobang":"\u203D","textfractionsolidus":"\u2044","textlquill":"\u2045","textrquill":"\u2046","textdiscount":"\u2052","textcolonmonetary":"\u20A1","textlira":"\u20A4","textnaira":"\u20A6","textwon":"\u20A9","textdong":"\u20AB","texteuro":"\u20AC","textpeso":"\u20B1","textcelsius":"\u2103","textnumero":"\u2116","textcircledP":"\u2117","textrecipe":"\u211E","textservicemark":"\u2120","texttrademark":"\u2122","textohm":"\u2126","textmho":"\u2127","textestimated":"\u212E","textleftarrow":"\u2190","textuparrow":"\u2191","textrightarrow":"\u2192","textdownarrow":"\u2193","textminus":"\u2212","Hwithstroke":"\u0126","hwithstroke":"\u0127","textasteriskcentered":"\u2217","textsurd":"\u221A","textlangle":"\u2329","textrangle":"\u232A","textblank":"\u2422","textvisiblespace":"\u2423","textopenbullet":"\u25E6","textbigcircle":"\u25EF","textmusicalnote":"\u266A","textmarried":"\u26AD","textdivorced":"\u26AE","textinterrobangdown":"\u2E18","textcommabelow":null,"copyright":"\xA9"},"vl":{"Gamma":"\u0393","Delta":"\u0394","Theta":"\u0398","Lambda":"\u039B","Xi":"\u039E","Pi":"\u03A0","Sigma":"\u03A3","Phi":"\u03A6","Psi":"\u03A8","Omega":"\u03A9","alpha":"\u03B1","beta":"\u03B2","gamma":"\u03B3","delta":"\u03B4","varepsilon":"\u03B5","zeta":"\u03B6","eta":"\u03B7","theta":"\u03B8","iota":"\u03B9","kappa":"\u03BA","lambda":"\u03BB","mu":"\u03BC","nu":"\u03BD","xi":"\u03BE","pi":"\u03C0","rho":"\u03C1","varsigma":"\u03C2","sigma":"\u03C3","tau":"\u03C4","upsilon":"\u03C5","varphi":"\u03C6","chi":"\u03C7","psi":"\u03C8","omega":"\u03C9","vartheta":"\u03D1","Upsilon":"\u03D2","phi":"\u03D5","varpi":"\u03D6","varrho":"\u03F1","epsilon":"\u03F5"}}');const ne=Y,G=ue,W=$.SN,K=$.Pi,H=$.vl,ce={jan:"01",feb:"02",mar:"03",apr:"04",may:"05",jun:"06",jul:"07",aug:"08",sep:"09",oct:"10",nov:"11",dec:"12",acmcs:"ACM Computing Surveys",acta:"Acta Informatica",cacm:"Communications of the ACM",ibmjrd:"IBM Journal of Research and Development",ibmsj:"IBM Systems Journal",ieeese:"IEEE Transactions on Software Engineering",ieeetc:"IEEE Transactions on Computers",ieeetcad:"IEEE Transactions on Computer-Aided Design of Integrated Circuits",ipl:"Information Processing Letters",jacm:"Journal of the ACM",jcss:"Journal of Computer and System Sciences",scp:"Science of Computer Programming",sicomp:"SIAM Journal on Computing",tocs:"ACM Transactions on Computer Systems",tods:"ACM Transactions on Database Systems",tog:"ACM Transactions on Graphics",toms:"ACM Transactions on Mathematical Software",toois:"ACM Transactions on Office Information Systems",toplas:"ACM Transactions on Programming Languages and Systems",tcs:"Theoretical Computer Science"},Z={it:"italics",itshape:"italics",sl:"italics",slshape:"italics",em:"italics",bf:"bold",bfseries:"bold",sc:"smallcaps",scshape:"smallcaps",rm:void 0,sf:void 0,tt:void 0},q={textit:"italics",textsl:"italics",emph:"italics",mkbibitalic:"italics",mkbibemph:"italics",textbf:"bold",strong:"bold",mkbibbold:"bold",textsc:"smallcaps",textsuperscript:"superscript",textsubscript:"subscript",enquote:"quotes",mkbibquote:"quotes",textmd:void 0,textrm:void 0,textsf:void 0,texttt:void 0,textup:void 0},U={italics:["<i>","</i>"],bold:["<b>","</b>"],superscript:["<sup>","</sup>"],subscript:["<sub>","</sub>"],smallcaps:['<span style="font-variant:small-caps;">',"</span>"],nocase:['<span class="nocase">',"</span>"],quotes:["\u201C","\u201D"]},ie={ElsevierGlyph(e){return String.fromCharCode(parseInt(e,16))},href(e,t){return e},url(e){return e}},oe=/---?|''|``|~/g,s={"--":"\u2013","---":"\u2014","``":"\u201C","''":"\u201D","~":"\xA0"},h={"^":"superscript",sp:"superscript",_:"subscript",sb:"subscript",mathrm:void 0},p={"^":{0:"\u2070",1:"\xB9",2:"\xB2",3:"\xB3",4:"\u2074",5:"\u2075",6:"\u2076",7:"\u2077",8:"\u2078",9:"\u2079","+":"\u207A","-":"\u207B","=":"\u207C","(":"\u207D",")":"\u207E",i:"\u2071",n:"\u207F"},_:{0:"\u2080",1:"\u2081",2:"\u2082",3:"\u2083",4:"\u2084",5:"\u2085",6:"\u2086",7:"\u2087",8:"\u2088",9:"\u2089","+":"\u208A","-":"\u208B","=":"\u208C","(":"\u208D",")":"\u208E",a:"\u2090",e:"\u2091",o:"\u2092",x:"\u2093",\u0259:"\u2094",h:"\u2095",k:"\u2096",l:"\u2097",m:"\u2098",n:"\u2099",s:"\u209A",p:"\u209B",t:"\u209C"}},v=["american","british","canadian","english","australian","newzealand","usenglish","ukenglish","en","eng","en-au","en-bz","en-ca","en-cb","en-gb","en-ie","en-jm","en-nz","en-ph","en-tt","en-us","en-za","en-zw","anglais"];var u={constants:M,types:{biblatex:D,bibtex:_},parse:{biblatex:!0,strict:!1,sentenceCase:"never"},format:{useIdAsLabel:!1,checkLabel:!0,asciiOnly:!0},biber:{annotationMarker:"+an",namedAnnotationMarker:":"}};function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E(Object(r),!0).forEach(function(n){A(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A(e,t,r){return(t=i(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e){var t=a(e,"string");return typeof t=="symbol"?t:t+""}function a(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const l=/[a-zA-Z_][a-zA-Z0-9_:+-]*/,f={comment:/%.*/,whitespace:{match:/\s+/,lineBreaks:!0}},b=j().states({main:{junk:{match:/@[cC][oO][mM][mM][eE][nN][tT].+|[^@]+/,lineBreaks:!0},at:{match:"@",push:"entry"}},entry:k(k({},f),{},{otherEntryType:{match:/[sS][tT][rR][iI][nN][gG]|[pP][rR][eE][aA][mM][bB][lL][eE]/,next:"otherEntryContents"},dataEntryType:{match:l,next:"dataEntryContents"}}),otherEntryContents:k(k({},f),{},{lbrace:{match:/[{(]/,next:"fields"}}),dataEntryContents:k(k({},f),{},{lbrace:{match:/[{(]/,next:"dataEntryContents"},label:/[^,\s]+/,comma:{match:",",next:"fields"}}),fields:k(k({},f),{},{identifier:l,number:/-?\d+/,hash:"#",equals:"=",comma:",",quote:{match:'"',push:"quotedLiteral"},lbrace:{match:"{",push:"bracedLiteral"},rbrace:{match:/[})]/,pop:!0}}),quotedLiteral:{lbrace:{match:"{",push:"bracedLiteral"},quote:{match:'"',pop:!0},text:{match:/(?:\\[\\{]|[^{"])+/,lineBreaks:!0}},bracedLiteral:{lbrace:{match:"{",push:"bracedLiteral"},rbrace:{match:"}",pop:!0},text:{match:/(?:\\[\\{}]|[^{}])+/,lineBreaks:!0}}}),m={"(":")","{":"}"},y=new P.util.Grammar({Main(){const e=[];for(;;){for(;this.matchToken("junk");)this.consumeToken("junk");if(this.matchEndOfFile())break;e.push(this.consumeRule("Entry"))}return e.filter(Boolean)},_(){let e;for(;e!==this.token;)e=this.token,this.consumeToken("whitespace",!0),this.consumeToken("comment",!0)},Entry(){this.consumeToken("at"),this.consumeRule("_");const e=(this.matchToken("otherEntryType")?this.consumeToken("otherEntryType"):this.consumeToken("dataEntryType")).value.toLowerCase();this.consumeRule("_");const t=this.consumeToken("lbrace").value;this.consumeRule("_");let r;if(e==="string"){const[o,c]=this.consumeRule("Field");this.state.strings[o]=c}else if(e==="preamble")this.consumeRule("Expression");else{const o=this.consumeToken("label").value;this.consumeRule("_"),this.consumeToken("comma"),this.consumeRule("_");const c=this.consumeRule("EntryBody");r=k({type:e,label:o},c)}this.consumeRule("_");const n=this.consumeToken("rbrace").value;return n!==m[t]&&P.logger.warn("[plugin-bibtex]",`entry started with "${t}", but ends with "${n}"`),r},EntryBody(){const e={properties:{}};for(;this.matchToken("identifier");){const[t,r]=this.consumeRule("Field");let n,o="default";if(t.endsWith(u.biber.annotationMarker)?n=t.slice(0,-u.biber.annotationMarker.length):t.includes(u.biber.annotationMarker+u.biber.namedAnnotationMarker)&&([n,o]=t.split(u.biber.annotationMarker+u.biber.namedAnnotationMarker)),n?(e.annotations||(e.annotations={}),e.annotations[n]||(e.annotations[n]={}),e.annotations[n][o]=r):e.properties[t]=r,this.consumeRule("_"),this.consumeToken("comma",!0))this.consumeRule("_");else break}return e},Field(){const e=this.consumeToken("identifier").value.toLowerCase();this.consumeRule("_"),this.consumeToken("equals"),this.consumeRule("_");const t=this.consumeRule("Expression");return[e,t]},Expression(){let e=this.consumeRule("ExpressionPart");for(this.consumeRule("_");this.matchToken("hash");)this.consumeToken("hash"),this.consumeRule("_"),e+=this.consumeRule("ExpressionPart").toString(),this.consumeRule("_");return e},ExpressionPart(){return this.matchToken("identifier")?this.state.strings[this.consumeToken("identifier").value.toLowerCase()]||"":this.matchToken("number")?parseInt(this.consumeToken("number")):this.matchToken("quote")?this.consumeRule("QuoteString"):this.consumeRule("BracketString")},QuoteString(){let e="";for(this.consumeToken("quote");!this.matchToken("quote");)e+=this.consumeRule("Text");return this.consumeToken("quote"),e},BracketString(){let e="";for(this.consumeToken("lbrace");!this.matchToken("rbrace");)e+=this.consumeRule("Text");return this.consumeToken("rbrace"),e},Text(){return this.matchToken("lbrace")?`{${this.consumeRule("BracketString")}}`:this.consumeToken("text").value}},{strings:ce});function x(e){return y.parse(b.reset(e))}const w={splitEntries:/\n\s*(?=\[)/g,parseEntry:/^\[(.+?)\]\s*(?:\n([\s\S]+))?$/,splitPairs:/((?=.)\s)*\n\s*/g,splitPair:/:(.*)/},g=e=>{const[,t,r]=e.match(w.parseEntry)||[];if(!t||!r)return{};{const n={type:"book",label:t,properties:{}};return r.trim().split(w.splitPairs).filter(o=>o).forEach(o=>{let[c,S]=o.split(w.splitPair);S&&(c=c.trim(),S=S.trim(),c==="type"?n.type=S:n.properties[c]=S)}),n}},C=e=>e.trim().split(w.splitEntries).map(g),J=new Set(["the","a","an"]),z=/(?:<\/?.*?>|[\u0020-\u002F\u003A-\u0040\u005B-\u005E\u0060\u007B-\u007F])+/g,V=/[^\u0020-\u007F]+/g;function X(e){return!u.format.checkLabel||!e.match(z)}function L(e){return e===null?"null":e===void 0?"undefined":u.format.checkLabel?e.toString().replace(z,""):e.toString()}function Q(e){return e?e.normalize("NFKD").replace(V,"").split(z).find(t=>t.length&&!J.has(t.toLowerCase())):""}const F=new P.util.Translator([{source:"given",target:"given"},{source:"family",target:"family"},{source:"suffix",target:"suffix"},{source:"prefix",target:"non-dropping-particle"},{source:"family",target:"literal",when:{source:!1,target:{family:!1,given:!1}}}]),ae=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],O="BibTeX type",se="BibTeX label",pe={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12,january:1,february:2,march:3,april:4,may:5,june:6,july:7,august:8,september:9,october:10,november:11,december:12},Ye={bathesis:"Bachelor's thesis",mathesis:"Master's thesis",phdthesis:"PhD thesis",candthesis:"Candidate thesis",techreport:"technical report",resreport:"research report",software:"computer software",datacd:"data cd",audiocd:"audio cd",patent:"patent",patentde:"German patent",patenteu:"European patent",patentfr:"French patent",patentuk:"British patent",patentus:"U.S. patent",patreq:"patent request",patreqde:"German patent request",patreqeu:"European patent request",patreqfr:"French patent request",patrequk:"British patent request",patrequs:"U.S. patent request"},Ze=/(^(?:ISAN )?(?:[0-9a-f]{4}-){4}[0-9a-z](?:-(?:[0-9a-f]{4}-){2}[0-9a-z])?$)|(^(?:979-?0-?|M-?)(?:\d{9}|(?=[\d-]{11}$)\d+-\d+-\d)$)|(^ISRN .{1,36}$)|(^(?:ISWC )?T-?\d{9}-?\d$)/i;function Xe(e){const t=e.split("T")[0].replace(/[?~%]$/,"").split("-"),r=+t[0].replace(/^Y(?=-?\d{4}\d+)/,"").replace(/X/g,"0"),n=+t[1],o=+t[2];return!n||n>20?[r]:o?[r,n,o]:[r,n]}function Qe(e){if(e==null)return[];if(+e)return[parseInt(e,10)];if(e=e.trim().toLowerCase(),e in pe)return[pe[e]];const t=e.split(/\s+/);let r,n;return t[0]in pe?(r=pe[t[0]],n=parseInt(t[1])):t[1]in pe&&(r=pe[t[1]],n=parseInt(t[0])),n?[r,n]:r?[r]:[]}function et(e,t,r,n){let o="";return e&&e[0]&&(o+=Q(e[0].family||e[0].literal)),t&&t["date-parts"]&&t["date-parts"][0]&&(o+=t["date-parts"][0][0]),r?o+=r:n&&(o+=Q(n)),o}const d={PICK:{toTarget(...e){return e.find(Boolean)},toSource(e){return[e]}},DATE:{toTarget(e){const t=e.split("/").map(r=>r&&r!==".."?Xe(r):void 0);return isNaN(t[0][0])?{literal:e}:{"date-parts":t}},toSource(e){if("date-parts"in e)return e["date-parts"].map(t=>t.map(r=>r.toString().padStart(2,"0")).join("-")).join("/")}},YEAR_MONTH:{toTarget(e,t,r){return isNaN(+e)?{literal:e}:!isNaN(+r)&&!isNaN(+t)?{"date-parts":[[+e,+t,+r]]}:{"date-parts":[[+e,...Qe(t)]]}},toSource(e){if("date-parts"in e){const[t,r,n]=e["date-parts"][0];return[t.toString(),r?n?`${ae[r-1]} ${n}`:r:void 0]}else return[]}},EPRINT:{toTarget(e,t){if(t==="pubmed")return e},toSource(e){return[e,"pubmed"]}},EVENT_TITLE:{toTarget(e,t){return t&&(e+=" ("+t+")"),e},toSource(e){return e.match(/^(.+)(?: \((.+)\))?$/).slice(1,3)}},HOW_PUBLISHED:{toTarget(e){if(e.startsWith("http"))return e}},KEYWORDS:{toTarget(e){return e.join(",")},toSource(e){return e.split(",")}},LABEL:{toTarget(e){return[e,e]},toSource(e,t,r,n,o,c){return t&&X(t)?t:u.format.useIdAsLabel?L(e):et(r,n,o,c)||L(e)}},NAMES:{toTarget(e){return e.map(F.convertToTarget)},toSource(e){return e.map(F.convertToSource)}},NAMES_ORCID:{toTarget(e,t){return e.map((r,n)=>{var o;const c=F.convertToTarget(r);return typeof(t==null||(o=t.item)===null||o===void 0?void 0:o[n])=="string"&&(c._orcid=t.item[n]),c})},toSource(e){const t=[],r=[];for(let n=0;n<e.length;n++)t.push(F.convertToSource(e[n])),e[n]._orcid&&(r[n]=e[n]._orcid);return[t,r.length?{item:r}:void 0]}},PAGES:{toTarget(e){return e.replace(/[–—]/,"-")},toSource(e){return e.replace("-","--")}},STANDARD_NUMBERS:{toTarget(...e){return e.find(Boolean)},toSource(e){const t=e.toString().match(Ze);return t?t.slice(1,5):[]}},STATUS:{toSource(e){if(/^(inpreparation|submitted|forthcoming|inpress|prepublished)$/i.test(e))return e}},TITLE:{toTarget(e,t,r){return t&&(e+=": "+t),e},toSource(e){return[e]}}};var we=T("./node_modules/@citation-js/date/lib/index.js");const tt=[{source:"note",target:"accessed",when:{source:!1,target:{note:!1,addendum:!1}},convert:{toSource(e){return`[Online; accessed ${(0,we.format)(e)}]`}}},{source:"numpages",target:"number-of-pages",when:{source:{pagetotal:!1},target:!1}},{source:"pmid",target:"PMID",when:{source:{eprinttype(e){return e!=="pmid"},archiveprefix(e){return e!=="pmid"}},target:!1}},{source:"pmcid",target:"PMCID",when:{target:!1}},{source:"s2id",target:"custom",convert:{toTarget(e){return{S2ID:e}},toSource({S2ID:e}){return e}}}],rt=[{source:"annote",target:"annote",when:{source:{annotation:!1},target:!1}},{source:"address",target:"publisher-place",convert:d.PICK,when:{source:{location:!1},target:!1}},{source:["eprint","archiveprefix"],target:"PMID",convert:d.EPRINT,when:{source:{eprinttype:!1},target:!1}},{source:"journal",target:"container-title",when:{source:{maintitle:!1,booktitle:!1,journaltitle:!1},target:!1}},{source:"school",target:"publisher",convert:d.PICK,when:{source:{institution:!1,organization:!1,publisher:!1},target:!1}}];var ke=new P.util.Translator([...rt,...tt,{source:"abstract",target:"abstract"},{source:"urldate",target:"accessed",convert:d.DATE},{source:"annotation",target:"annote"},{source:["author","author+an:orcid"],target:"author",convert:d.NAMES_ORCID},{source:"library",target:"call-number"},{source:"chapter",target:"chapter-number"},{source:"bookauthor",target:"container-author",convert:d.NAMES},{source:["maintitle","mainsubtitle","maintitleaddon"],target:"container-title",when:{source:!0,target:{"number-of-volumes":!0}},convert:d.TITLE},{source:["booktitle","booksubtitle","booktitleaddon"],target:"container-title",when:{source:{maintitle:!1},target:{"number-of-volumes":!1,type(e){return!e||!e.startsWith("article")}}},convert:d.TITLE},{source:["journaltitle","journalsubtitle","journaltitleaddon"],target:"container-title",when:{source:{[O]:"article"},target:{type:["article","article-newspaper","article-journal","article-magazine"]}},convert:d.TITLE},{source:"shortjournal",target:"container-title-short",when:{source:{[O]:"article"},target:{type:["article","article-newspaper","article-journal","article-magazine"]}}},{source:"shortjournal",target:"journalAbbreviation",when:{source:!1,target:{"container-title-short":!1}}},{source:"number",target:"collection-number",when:{source:{[O]:["book","mvbook","inbook","bookinbook","suppbook","collection","mvcollection","incollection","suppcollection","manual","suppperiodical","proceedings","mvproceedings","refererence"]},target:{type:["bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legislation","legal_case","manuscript","map","motion_picture","musical_score","pamphlet","post","post-weblog","personal_communication","review","review-book","song","speech","thesis","treaty","webpage"]}}},{source:"series",target:"collection-title"},{source:"shortseries",target:"collection-title-short"},{source:"doi",target:"DOI"},{source:"edition",target:"edition"},{source:"editor",target:"editor",convert:d.NAMES},{source:[O,"entrysubtype","type"],target:["type","genre"],convert:{toTarget(e,t,r){return r||(e==="mastersthesis"&&(r="mathesis"),e==="phdthesis"&&(r="phdthesis"),e==="techreport"&&(r="techreport")),[D.source[e]||"document",r||t]},toSource(e,t){const r=D.target[e]||"misc";return t in Ye?[r,void 0,t]:[r,t]}}},{source:O,when:{target:{type:!1}},convert:{toSource(){return"misc"}}},{source:"eventdate",target:"event-date",convert:d.DATE},{source:"venue",target:"event-place"},{source:["eventtitle","eventtitleaddon"],target:"event-title",convert:d.EVENT_TITLE},{source:["eventtitle","eventtitleaddon"],target:"event",convert:d.EVENT_TITLE,when:{source:!1,target:{"event-title":!1}}},{source:se,target:["id","citation-key","author","issued","year-suffix","title"],convert:d.LABEL},{source:"isbn",target:"ISBN"},{source:"issn",target:"ISSN"},{source:"issue",target:"issue",when:{source:{number:!1,[O]:["article","periodical"]},target:{issue(e){return typeof e=="string"&&!e.match(/\d+/)},type:["article","article-journal","article-newspaper","article-magazine","periodical"]}}},{source:"number",target:"issue",when:{source:{[O]:["article","periodical","inproceedings"]},target:{issue(e){return e&&(typeof e=="number"||e.match(/\d+/))},type:["article","article-journal","article-newspaper","article-magazine","paper-conference","periodical"]}}},{source:"date",target:"issued",convert:d.DATE},{source:["year","month","day"],target:"issued",convert:d.YEAR_MONTH,when:{source:{date:!1},target:!1}},{source:"location",target:"jurisdiction",when:{source:{type:"patent"},target:{type:"patent"}}},{source:"keywords",target:"keyword",convert:d.KEYWORDS},{source:"language",target:"language",convert:d.PICK},{source:"langid",target:"language",when:{source:{language:!1},target:!1}},{source:"note",target:"note"},{source:"addendum",target:"note",when:{source:{note:!1},target:!1}},{source:"eid",target:"number",when:{target:{type:["article-journal"]}}},{source:["isan","ismn","isrn","iswc"],target:"number",convert:d.STANDARD_NUMBERS,when:{source:{[O](e){return e!=="patent"}},target:{type(e){return e!=="patent"}}}},{source:"number",target:"number",when:{source:{[O]:["patent","report","techreport","legislation"]},target:{type:["patent","report","legislation"]}}},{source:"origdate",target:"original-date",convert:d.DATE},{source:"origlocation",target:"original-publisher-place",convert:d.PICK},{source:"origpublisher",target:"original-publisher",convert:d.PICK},{source:"origtitle",target:"original-title"},{source:"pages",target:"page",when:{source:{bookpagination:[void 0,"page"]}},convert:d.PAGES},{source:"pagetotal",target:"number-of-pages"},{source:"part",target:"part-number"},{source:["eprint","eprinttype"],target:"PMID",convert:d.EPRINT},{source:"location",target:"publisher-place",convert:d.PICK},{source:"publisher",target:"publisher",convert:d.PICK,when:{source:!0,target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","classic","collection","dataset","document","entry","entry-dictionary","entry-encyclopedia","event","figure","graphic","hearing","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","performance","periodical","personal_communication","post","post-weblog","regulation","review","review-book","software","song","speech","standard","treaty"]}}},{source:"organization",target:"publisher",convert:d.PICK,when:{source:{publisher:!1},target:{type:"webpage"}}},{source:"institution",target:"publisher",convert:d.PICK,when:{source:{publisher:!1,organization:!1},target:{type:["report","thesis"]}}},{source:"howpublished",target:"publisher",convert:d.PICK,when:{source:{howpublished(e){return e&&!e.startsWith("http")},publisher:!1,organization:!1,institution:!1},target:{type:"manuscript"}}},{source:["pages","bookpagination"],target:"section",when:{source:{bookpagination:"section"},target:{page:!1}},convert:{toTarget(e){return e},toSource(e){return[e,"section"]}}},{source:"pubstate",target:"status",convert:d.STATUS},{source:"shorttitle",target:"title-short"},{source:"shorttitle",target:"shortTitle",when:{source:!1,target:{"title-short":!1}}},{source:["title","subtitle","titleaddon"],target:"title",convert:d.TITLE},{source:"translator",target:"translator",convert:d.NAMES},{source:"url",target:"URL"},{source:"howpublished",target:"URL",convert:d.HOW_PUBLISHED,when:{source:{url:!1},target:!1}},{source:"version",target:"version"},{source:"volume",target:"volume"},{source:"volumes",target:"number-of-volumes"},{source:["issuetitle","issuesubtitle","issuetitleaddon"],target:"volume-title",convert:d.TITLE}]),xe=new P.util.Translator([{source:"note",target:"accessed",when:{source:!1,target:{note:!1}},convert:{toSource(e){return`[Online; accessed ${(0,we.format)(e)}]`}}},{source:"annote",target:"annote"},{source:"address",target:"publisher-place",convert:d.PICK},{source:"author",target:"author",convert:d.NAMES},{source:"chapter",target:"chapter-number"},{source:"number",target:"collection-number",when:{source:{[O]:["book","mvbook","inbook","collection","mvcollection","incollection","suppcollection","manual","suppperiodical","proceedings","mvproceedings","refererence"]},target:{type:["bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legislation","legal_case","manuscript","map","motion_picture","musical_score","pamphlet","post","post-weblog","personal_communication","review","review-book","song","speech","thesis","treaty","webpage"]}}},{source:"series",target:"collection-title"},{source:"booktitle",target:"container-title",when:{target:{type:["chapter","paper-conference"]}}},{source:"journal",target:"container-title",when:{source:{[O]:"article"},target:{type:["article","article-newspaper","article-journal","article-magazine"]}}},{source:"doi",target:"DOI"},{source:"edition",target:"edition"},{source:"editor",target:"editor",convert:d.NAMES},{source:se,target:["id","citation-key","author","issued","year-suffix","title"],convert:d.LABEL},{source:"isbn",target:"ISBN"},{source:"issn",target:"ISSN"},{source:"number",target:"issue",when:{source:{[O]:["article","periodical","inproceedings"]},target:{issue(e){return typeof e=="number"||typeof e=="string"&&e.match(/\d+/)},type:["article","article-journal","article-newspaper","article-magazine","paper-conference","periodical"]}}},{source:["year","month","day"],target:"issued",convert:d.YEAR_MONTH},{source:"note",target:"note"},{source:"number",target:"number",when:{source:{[O]:["patent","report","techreport"]},target:{type:["patent","report"]}}},{source:"eid",target:"number",when:{source:{number:!1},target:{type:["article-journal"]}}},{source:"pages",target:"page",convert:d.PAGES},{source:"publisher",target:"publisher",convert:d.PICK,when:{target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","classic","collection","dataset","document","entry","entry-dictionary","entry-encyclopedia","event","figure","graphic","hearing","interview","legal_case","legislation","map","motion_picture","musical_score","pamphlet","patent","performance","periodical","personal_communication","post","post-weblog","regulation","review","review-book","software","song","speech","standard","treaty","webpage"]}}},{source:"organization",target:"publisher",convert:d.PICK,when:{source:{publisher:!1},target:{type:"paper-conference"}}},{source:"institution",target:"publisher",convert:d.PICK,when:{source:{publisher:!1,organization:!1},target:{type:"report"}}},{source:"school",target:"publisher",convert:d.PICK,when:{source:{institution:!1,organization:!1,publisher:!1},target:{type:"thesis"}}},{source:"howpublished",target:"publisher",convert:d.PICK,when:{source:{howpublished(e){return e&&!e.startsWith("http")},publisher:!1,organization:!1,institution:!1,school:!1},target:{type:"manuscript"}}},{source:"title",target:"title"},{source:[O,"type"],target:["type","genre"],convert:{toTarget(e,t){const r=_.source[e]||"document";return t?[r,t]:e==="mastersthesis"?[r,"Master's thesis"]:e==="phdthesis"?[r,"PhD thesis"]:[r]},toSource(e,t){const r=_.target[e]||"misc";return/^(master'?s|diploma) thesis$/i.test(t)?["mastersthesis"]:/^(phd|doctoral) thesis$/i.test(t)?["phdthesis"]:[r,t]}}},{source:O,when:{target:{type:!1}},convert:{toSource(){return"misc"}}},{source:"url",target:"URL"},{source:"howpublished",target:"URL",convert:d.HOW_PUBLISHED,when:{target:{publisher:!1}}},{source:"volume",target:"volume"}]);function Te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Te(Object(r),!0).forEach(function(n){it(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Te(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function it(e,t,r){return(t=ot(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ot(e){var t=at(e,"string");return typeof t=="symbol"?t:t+""}function at(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const st=new Set(["book","inbook","bookinbook","suppbook"]),Se=new Set(["inbook","bookinbook","suppbook"]),Ee=new Set(["collection","reference","incollection","inreference","suppcollection"]),je=new Set(["incollection","inreference","suppcollection"]),Oe={mvbook:["main",st],mvcollection:["main",Ee],mvreference:["main",Ee],mvproceedings:["main",new Set(["proceedings","inproceedings"])],book:["book",Se],collection:["book",je],reference:["book",je],proceedings:["book",new Set(["inproceedings"])],periodical:["journal",new Set(["article","suppperiodical"])]};function _e(e,t,r){if(t.crossref in r){const n=r[t.crossref];if(n.properties===t)return t;const o=nt({},_e(n.type,n.properties,r));if(delete o.ids,delete o.crossref,delete o.xref,delete o.entryset,delete o.entrysubtype,delete o.execute,delete o.label,delete o.options,delete o.presort,delete o.related,delete o.relatedoptions,delete o.relatedstring,delete o.relatedtype,delete o.shortand,delete o.shortandintro,delete o.sortkey,(n.type==="mvbook"||n.type==="book")&&Se.has(e)&&(o.bookauthor=o.author),n.type in Oe){const[c,S]=Oe[n.type];S.has(e)&&(o[c+"title"]=o.title,o[c+"subtitle"]=o.subtitle,c!=="journal"&&(o[c+"titleaddon"]=o.titleaddon),delete o.title,delete o.subtitle,delete o.titleaddon,delete o.shorttitle,delete o.sorttitle,delete o.indextitle,delete o.indexsorttitle)}return Object.assign(o,t)}return t}function lt(e,t){if(e==null)return{};var r,n,o=ut(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function ut(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}function Pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pe(Object(r),!0).forEach(function(n){pt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pe(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pt(e,t,r){return(t=Ce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ce(e){var t=ft(e,"string");return typeof t=="symbol"?t:t+""}function ft(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Re(e,t){const r={};for(const n of e)r[n.label]=n;return e.map(({type:n,label:o,properties:c})=>t.convertToTarget(ct({[O]:n,[se]:o},_e(n,c,r))))}function Ae(e,t){return e.map(r=>{const n=t.convertToSource(r),{[O]:o,[se]:c}=n,S=lt(n,[O,se].map(Ce));return{type:o,label:c,properties:S}})}function ht(e){return Re(e,xe)}function mt(e){return Ae(e,xe)}function dt(e){return Re(e,ke)}function gt(e){return Ae(e,ke)}function bt(e){const t=e.toUpperCase(),r=e.toLowerCase();for(let n=0;n<e.length;n++)if(t[n]!==r[n])return t[n]===e[n];return null}function ee(e){if(e.length===0)return;let t="";for(;e.length>1;){const{value:n,hyphenated:o}=e.shift();t+=n+(o?"-":" ")}const r=t+e[0].value;return r[0]&&r}function yt(e,t=!0){const r=[],n=[];if(t)for(;e.length>1&&e[0].upperCase!==!1;){for(r.push(...n),n.length=0;e.length>1&&e[0].upperCase!==!1&&!e[0].hyphenated;)r.push(e.shift());for(;e.length>0&&e[0].upperCase!==!1&&e[0].hyphenated;)n.push(e.shift())}const o=[],c=[];for(;e.length>1;){for(o.push(...c),c.length=0;e.length>1&&e[0].upperCase===!1;)o.push(e.shift());for(;e.length>0&&e[0].upperCase!==!1;)c.push(e.shift())}return n.length&&c.unshift(...n),e.length&&c.push(e[0]),[ee(r),ee(o),ee(c)]}function vt(e){if(e[0][0].label){const c={};for(const[{value:S,label:B}]of e)c[B]=S;return c}const t={},[r,n,o]=yt(e[0],e.length===1);return o&&(t.family=o),n&&(t.prefix=n),e.length===3?(t.given=ee(e[2]),t.suffix=ee(e[1])):e.length===2?t.given=ee(e[1]):r&&(t.given=r),t}function Ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ie(Object(r),!0).forEach(function(n){wt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ie(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wt(e,t,r){return(t=kt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kt(e){var t=xt(e,"string");return typeof t=="symbol"?t:t+""}function xt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const te={commandBegin:{match:"\\begin",push:"environment"},command:{match:/\\(?:[a-zA-Z]+|.) */,value:e=>e.slice(1).trim()},lbrace:{match:"{",push:"bracedLiteral"},mathShift:{match:"$",push:"mathLiteral"},whitespace:{match:/[\s]+|~/,lineBreaks:!0,value(e){return e==="~"?"\xA0":" "}}},Ne=j().states({stringLiteral:I(I({},te),{},{text:/[^{$}\s~\\]+/}),namesLiteral:I(I({and:/\s+[aA][nN][dD]\s+/,comma:",",hyphen:"-",equals:"="},te),{},{text:/[^{$}\s~\\,=-]+/}),listLiteral:I(I({and:/\s+and\s+/},te),{},{text:/[^{$}\s~\\]+/}),separatedLiteral:I(I({comma:","},te),{},{text:/[^{$}\s~\\,]+/}),annotation:I(I({},te),{},{colon:":",equals:"=",comma:",",semicolon:";",quote:'"',itemCount:/\d+/,text:/[^{$}\s~\\":;,=]+/}),bracedLiteral:I(I({},te),{},{rbrace:{match:"}",pop:!0},text:/[^{$}\s~\\]+/}),mathLiteral:I(I({},te),{},{mathShift:{match:"$",pop:!0},script:/[\^_]/,text:/[^{$}\s~\\^_]+/}),environment:I(I({commandEnd:{match:"\\end",pop:!0}},te),{},{text:/[^{$}\s~\\]+/})});function le(e){return e[0],e}function he(e,t){return t in U?e&&U[t].join(e):e}const Le=new P.util.Grammar({String(){let e="";for(;!this.matchEndOfFile();)e+=this.consumeRule("Text");return le(e)},StringNames(){const e=[];for(;;){if(this.consumeToken("whitespace",!0),e.push(this.consumeRule("Name")),this.consumeToken("whitespace",!0),this.matchEndOfFile())return e;this.consumeToken("and")}},Name(){const e=[];for(;;){if(e.push(this.consumeRule("NamePiece")),this.matchEndOfFile()||this.matchToken("and"))return vt(e);this.consumeToken("comma"),this.consumeToken("whitespace",!0)}},NamePiece(){const e=[];for(;;){const t=this.consumeRule("NameToken");if(t.label)return t.label=ee([...e,{value:t.label}]),[t];if(e.push(t),this.matchEndOfFile()||this.matchToken("and")||this.matchToken("comma"))return e;for(;this.matchToken("hyphen")||this.matchToken("whitespace");)this.consumeToken()}},NameToken(){let e=null,t="";for(;;)if(e===null&&this.matchToken("text")){const r=this.consumeToken().value;t+=r,e=bt(r)}else{if(this.matchEndOfFile()||this.matchToken("and")||this.matchToken("comma")||this.matchToken("whitespace"))return{value:t,upperCase:e};if(this.matchToken("hyphen"))return{value:t,upperCase:e,hyphenated:!0};if(this.matchToken("equals")){this.consumeToken("equals");const r=this.consumeRule("NamePiece");return r[0].label&&(t+="="+r[0].label),{value:ee(r),label:t}}else t+=this.consumeRule("Text")}},StringList(){const e=[];for(;!this.matchEndOfFile();){let t="";for(;!this.matchEndOfFile()&&!this.matchToken("and");)t+=this.consumeRule("Text");e.push(le(t)),this.consumeToken("and",!0)}return e.length===1?e[0]:e},StringSeparated(){const e=[];for(;!this.matchEndOfFile();){let t="";for(;!this.matchEndOfFile()&&!this.matchToken("comma");)t+=this.consumeRule("Text");e.push(t.trim()),this.consumeToken("comma",!0),this.consumeToken("whitespace",!0)}return e},StringVerbatim(){let e="";for(;!this.matchEndOfFile();)e+=this.consumeToken().text;return le(e)},StringUri(){const e=this.consumeRule("StringVerbatim");try{return decodeURI(e)===e?encodeURI(e):e}catch{return encodeURI(e)}},StringTitleCase(){this.state.sentenceCase=!0;let e="";for(;!this.matchEndOfFile();)e+=this.consumeRule("Text");return le(e)},Annotations(){const e={};for(;;){const{scope:t,item:r,part:n,value:o}=this.consumeRule("Annotation");if(t==="part"?(e.part||(e.part=[]),e.part[r]||(e.part[r]={}),e.part[r][n]=o):t==="item"?(e.item||(e.item=[]),e.item[r]=o):e.field=o,this.matchEndOfFile())break;this.consumeToken("semicolon"),this.consumeRule("_")}return e},Annotation(){const e={};if(this.matchToken("itemCount")?(e.item=parseInt(this.consumeToken("itemCount"))-1,this.matchToken("colon")?(this.consumeToken("colon"),e.part=this.consumeToken("text"),e.scope="part"):e.scope="item"):e.scope="field",this.consumeToken("equals"),this.consumeRule("_"),this.matchToken("quote")){this.consumeToken("quote");let t="";for(;!this.matchToken("quote");)this.matchToken("itemCount")||this.matchToken("colon")||this.matchToken("comma")||this.matchToken("semicolon")||this.matchToken("equals")?(t+=this.token.value,this.token=this.lexer.next()):t+=this.consumeRule("Text");this.consumeToken("quote"),e.value=le(t),this.consumeRule("_")}else{e.value=[];let t="";for(;;)if(t+=this.consumeRule("Text"),this.matchToken("comma"))this.consumeToken("comma"),this.consumeRule("_"),e.value.push(le(t)),t="";else if(this.matchEndOfFile()||this.matchToken("semicolon")){e.value.push(le(t));break}}return e},BracketString(){var e;let t="";this.consumeToken("lbrace");const r=this.state.sentenceCase;for(this.state.sentenceCase=r&&this.matchToken("command"),(e=this.state).partlyLowercase&&(e.partlyLowercase=this.state.sentenceCase);!this.matchToken("rbrace");)t+=this.consumeRule("Text");const o=r&&!this.state.sentenceCase&&this.state.partlyLowercase;return this.state.sentenceCase=r,this.consumeToken("rbrace"),o?he(t,"nocase"):t},MathString(){let e="";for(this.consumeToken("mathShift");!this.matchToken("mathShift");){if(this.matchToken("script")){const t=this.consumeToken("script").value,r=this.consumeRule("Text").split("");if(r.every(n=>n in p[t]))e+=r.map(n=>p[t][n]).join("");else{const n=h[t];e+=U[n].join(r.join(""))}continue}if(this.matchToken("command")){const t=this.token.value;if(t in h){this.consumeToken("command");const r=this.consumeRule("BracketString");e+=he(r,h[t]);continue}}e+=this.consumeRule("Text")}return this.consumeToken("mathShift"),e},Text(){if(this.matchToken("lbrace"))return this.consumeRule("BracketString");if(this.matchToken("mathShift"))return this.consumeRule("MathString");if(this.matchToken("whitespace"))return this.consumeToken("whitespace").value;if(this.matchToken("commandBegin"))return this.consumeRule("EnclosedEnv");if(this.matchToken("command"))return this.consumeRule("Command");const e=this.consumeToken("text").value.replace(oe,B=>s[B]),t=this.state.afterPunctuation;if(this.state.afterPunctuation=/[?!.:]$/.test(e),!this.state.sentenceCase){var r;return(r=this.state).partlyLowercase||(r.partlyLowercase=e===e.toLowerCase()&&e!==e.toUpperCase()),e}const[n,...o]=e,c=o.join(""),S=c.toLowerCase();return c!==S?e:t?n+S:e.toLowerCase()},Command(){const e=this.consumeToken("command"),t=e.value;if(t in Z){const r=this.consumeRule("Env"),n=Z[t];return he(r,n)}else if(t in q){const r=this.consumeRule("BracketString"),n=q[t];return he(r,n)}else{if(t in K)return K[t];if(t in H)return H[t];if(t in W&&!this.matchEndOfFile()){const r=this.consumeRule("Text");return(r[0]+W[t]).normalize("NFC")+r.slice(1)}else if(t in ie){const r=ie[t],n=[];let o=r.length;for(;o-- >0;)this.consumeToken("whitespace",!0),n.push(this.consumeRule("BracketString"));return r(...n)}else return/^[&%$#_{}]$/.test(t)?e.text.slice(1):e.text}},Env(){let e="";for(;!this.matchEndOfFile()&&!this.matchToken("rbrace");)e+=this.consumeRule("Text");return e},EnclosedEnv(){this.consumeToken("commandBegin");const e=this.consumeRule("BracketString");let t="";for(;!this.matchToken("commandEnd");)t+=this.consumeRule("Text");const r=this.consumeToken("commandEnd"),n=this.consumeRule("BracketString");if(e!==n)throw new SyntaxError(this.lexer.formatError(r,`environment started with "${e}", ended with "${n}"`));return he(t,Z[e])},_(){for(;this.matchToken("whitespace");)this.consumeToken("whitespace")}},{sentenceCase:!1,partlyLowercase:!1,afterPunctuation:!0});function De(e){return v.includes(e.toLowerCase())}function Tt(e){return Array.isArray(e)?e.every(De):De(e)}function St(e,t){if(e[1]==="name")return e[0]==="list"?"StringNames":"Name";if(e[1]==="title"){const r=u.parse.sentenceCase;return r==="always"||r==="english"&&Tt(t)?"StringTitleCase":"String"}switch(e[0]==="field"?e[1]:e[0]){case"list":return"StringList";case"separated":return"StringSeparated";case"verbatim":return"StringVerbatim";case"uri":return"StringUri";case"title":case"literal":default:return"String"}}function Et(e){if(e[1]==="name")return"namesLiteral";switch(e[0]){case"list":return"listLiteral";case"separated":return"separatedLiteral";case"field":default:return"stringLiteral"}}function $e(e,t,r=[]){const n=G[t]||[];return Le.parse(Ne.reset(e,{state:Et(n),line:0,col:0}),St(n,r))}function jt(e){return Le.parse(Ne.reset(e,{state:"annotation",line:0,col:0}),"Annotations")}function Be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Me(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Be(Object(r),!0).forEach(function(n){Ot(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Be(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ot(e,t,r){return(t=_t(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _t(e){var t=Pt(e,"string");return typeof t=="symbol"?t:t+""}function Pt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qe(e,t){const r=[];for(const{type:n,label:o,properties:c}of e)if(n in t){const S=[];for(const B of t[n])Array.isArray(B)&&!B.some(Wt=>Wt in c)?S.push(B.join("/")):typeof B=="string"&&!(B in c)&&S.push(B);S.length&&r.push([o,`missing fields: ${S.join(", ")}`])}else r.push([o,`invalid type: "${n}"`]);if(r.length)throw new RangeError(["Invalid entries:"].concat(r.map(([n,o])=>`  - ${n} has ${o}`)).join(`
`))}function ze(e){const t={};"language"in e.properties&&(t.language=$e(e.properties.language,"language"));for(const r in e.properties){const n=e.properties[r];n!==""&&(t[r]=$e(n+"",r,t.language))}for(const r in e.annotations)for(const n in e.annotations[r])t[r+"+an:"+n]=jt(e.annotations[r][n]);return Me(Me({},e),{},{properties:t})}function Fe(e){return u.parse.strict&&qe(e,ne.biblatex),dt(e.map(ze))}function Ke(e){return u.parse.strict&&qe(e,ne.bibtex),ht(e.map(ze))}const Ct="@bibtex",Rt={"@biblatex/text":{parse:x,parseType:{dataType:"String",predicate:/@\s{0,5}[A-Za-z]{1,13}\s{0,5}\{\s{0,5}[^@{}"=,\\\s]{0,100}\s{0,5},[\s\S]*\}/}},"@biblatex/entry+object":{parse(e){return Fe([e])},parseType:{dataType:"SimpleObject",propertyConstraint:{props:["type","label","properties"]}}},"@biblatex/entries+list":{parse:Fe,parseType:{elementConstraint:"@biblatex/entry+object"}},"@bibtex/text":{parse:x,outputs:"@bibtex/entries+list"},"@bibtex/entry+object":{parse(e){return Ke([e])}},"@bibtex/entries+list":{parse:Ke},"@bibtxt/text":{parse:C,parseType:{dataType:"String",predicate:/^\s*(\[(?!\s*[{[]).*?\]\s*(\n\s*[^[]((?!:)\S)+\s*:\s*.+?\s*)*\s*)+$/}}},re={};for(const e in K)re[K[e]]=e;for(const e in W)re[W[e]]=e;for(const e in s)re[s[e]]=e;const de={};for(const e in H)de[H[e]]=e;const At=/[^a-zA-Z0-9\s!"'()*+,\-./:;=?@[\]\u0300-\u0308\u030a-\u030c\u0332\u0323\u0327\u0328\u0361\u0326]/g,It=/.[\u0300-\u0308\u030a-\u030c\u0332\u0323\u0327\u0328\u0361\u0326]+/g,Nt=/[\u0300-\u0308\u030a-\u030c\u0332\u0323\u0327\u0328\u0361\u0326]/g,ge={separated:",",list:" and "},Ue={i:"\\textit{",b:"\\textbf{",sc:"\\textsc{",sup:"\\textsuperscript{",sub:"\\textsubscript{",'span style="font-variant:small-caps;"':"\\textsc{",'span class="nocase"':"{"};function Lt(e){return e in re?re[e]in s?re[e]:`\\${re[e]}{}`:e in de?`$\\${de[e]}$`:/^[&%$#_{}]$/.test(e)?`\\${e}`:""}function me(e){return u.format.asciiOnly?e.normalize("NFKD").replace(At,t=>Lt(t)).replace(It,t=>Array.from(t).reduce((r,n)=>`{\\${re[n]} ${r}}`)).replace(Nt,""):e}function Ge(e){const t=[];let r=e.split(/<(\/?(?:i|b|sc|sup|sub|span)|span .*?)>/g);return r=r.map((n,o)=>o%2===0?me(n):n in Ue?(t.push("/"+n.split(" ")[0]),Ue[n]):n===t[t.length-1]?(t.pop(),"}"):""),r.join("")}function Dt(e){if(e.family&&!e.prefix&&!e.given&!e.suffix)return e.family.includes(ge.list)?e.family:`{${e.family}}`;const t=[""];return e.prefix&&e.family&&(t[0]+=e.prefix+" "),e.family&&(t[0]+=e.family),e.suffix?(t.push(e.suffix),t.push(e.given||"")):t.push(e.given),me(t.join(", ").trim())}function $t(e){return Ge(e).split(/(:\s*)/).map((t,r)=>r%2?t:t.replace(/([^\\])\b([a-z]*[A-Z].*?)\b/g,"$1{$2}")).join("")}function be(e,t){switch(t){case"title":return $t(e);case"literal":return Ge(e.toString());case"name":return Dt(e);case"verbatim":case"uri":return e.toString();default:return me(e.toString())}}function Bt(e,t,r){const n=ge[r];return e.map(o=>{const c=be(o,t);return c.includes(n)?`{${c}}`:c}).join(n)}function ye(e){return Array.isArray(e)?e.map(t=>me(t).replace(/([;,"])/g,"{$1}")).join(", "):'"'+me(e).replace(/(["])/g,"{$1}")+'"'}function Mt(e,t){if(!(e in G))return be(t,"verbatim");const[r,n]=G[e];return r in ge?Bt(t,n,r):be(t,n)}function qt(e){const t=[];if(e.field&&t.push("="+ye(e.field)),e.item)for(const[r,n]of Object.entries(e.item)){if(!n)continue;const o=parseInt(r)+1;t.push(o+"="+ye(n))}if(e.part)for(const[r,n]of Object.entries(e.part)){if(!n)continue;const o=parseInt(r)+1;for(const c in n)n[c]&&t.push(o+":"+c+"="+ye(n[c]))}return t.join("; ")}function We({type:e,label:t,properties:r}){const n={type:e,label:t,properties:{}};for(const o in r){const c=r[o],[S,B]=o.split("+an:");B?(n.annotations||(n.annotations={}),n.annotations[S]||(n.annotations[S]={}),n.annotations[S][B]=qt(c)):n.properties[o]=Mt(o,c)}return n}function zt(e){return gt(e).map(We)}function He(e){return mt(e).map(We)}function Je(e,t,r){return r.listItem.join(`${e} = {${t}},`)}function Ft(e,t){const r=[];for(const n in e.properties)if(r.push(Je(n,e.properties[n],t)),e.annotations&&e.annotations[n])for(const o in e.annotations[n]){let c=n+u.biber.annotationMarker;o!=="default"&&(c+=u.biber.namedAnnotationMarker+o),r.push(Je(c,e.annotations[n][o],t))}return t.entry.join(`@${e.type}{${e.label},${t.list.join(r.join(""))}}`)}function Ve(e,t){const r=e.map(n=>Ft(n,t)).join("");return t.bibliographyContainer.join(r)}function Kt({type:e,label:t,properties:r},n){const o=Object.entries(r).concat([["type",e]]).map(([c,S])=>n.listItem.join(`${c}: ${S}`));return n.entry.join(`[${t}]${n.list.join(o.join(""))}`)}function Ut(e,t){const r=e.map(n=>Kt(n,t)).join(`
`);return t.bibliographyContainer.join(r)}const ve=function(e,t){return function(r,n={}){const{type:o,format:c=o||"text"}=n;if(r=e(r),c==="object")return r;if(P.plugins.dict.has(c))return t(r,P.plugins.dict.get(c),n);throw new RangeError(`Output dictionary "${c}" not available`)}};var Gt={bibtex:ve(He,Ve),biblatex:ve(zt,Ve),bibtxt:ve(He,Ut)};P.plugins.add(Ct,{input:Rt,output:Gt,config:u})},"./node_modules/moo/moo.js":function(fe,N){var T,M,P;(function(R,j){M=[],T=j,P=typeof T=="function"?T.apply(N,M):T,P!==void 0&&(fe.exports=P)})(this,function(){"use strict";var R=Object.prototype.hasOwnProperty,j=Object.prototype.toString,D=typeof new RegExp().sticky=="boolean";function _(i){return i&&j.call(i)==="[object RegExp]"}function Y(i){return i&&typeof i=="object"&&!_(i)&&!Array.isArray(i)}function ue(i){return i.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function $(i){var a=new RegExp("|"+i);return a.exec("").length-1}function ne(i){return"("+i+")"}function G(i){if(!i.length)return"(?!)";var a=i.map(function(l){return"(?:"+l+")"}).join("|");return"(?:"+a+")"}function W(i){if(typeof i=="string")return"(?:"+ue(i)+")";if(_(i)){if(i.ignoreCase)throw new Error("RegExp /i flag not allowed");if(i.global)throw new Error("RegExp /g flag is implied");if(i.sticky)throw new Error("RegExp /y flag is implied");if(i.multiline)throw new Error("RegExp /m flag is implied");return i.source}else throw new Error("Not a pattern: "+i)}function K(i,a){return i.length>a?i:Array(a-i.length+1).join(" ")+i}function H(i,a){for(var l=i.length,f=0;;){var b=i.lastIndexOf(`
`,l-1);if(b===-1||(f++,l=b,f===a)||l===0)break}var m=f<a?0:l+1;return i.substring(m).split(`
`)}function ce(i){for(var a=Object.getOwnPropertyNames(i),l=[],f=0;f<a.length;f++){var b=a[f],m=i[b],y=[].concat(m);if(b==="include"){for(var x=0;x<y.length;x++)l.push({include:y[x]});continue}var w=[];y.forEach(function(g){Y(g)?(w.length&&l.push(q(b,w)),l.push(q(b,g)),w=[]):w.push(g)}),w.length&&l.push(q(b,w))}return l}function Z(i){for(var a=[],l=0;l<i.length;l++){var f=i[l];if(f.include){for(var b=[].concat(f.include),m=0;m<b.length;m++)a.push({include:b[m]});continue}if(!f.type)throw new Error("Rule has no type: "+JSON.stringify(f));a.push(q(f.type,f))}return a}function q(i,a){if(Y(a)||(a={match:a}),a.include)throw new Error("Matching rules cannot also include states");var l={defaultType:i,lineBreaks:!!a.error||!!a.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var f in a)R.call(a,f)&&(l[f]=a[f]);if(typeof l.type=="string"&&i!==l.type)throw new Error("Type transform cannot be a string (type '"+l.type+"' for token '"+i+"')");var b=l.match;return l.match=Array.isArray(b)?b:b?[b]:[],l.match.sort(function(m,y){return _(m)&&_(y)?0:_(y)?-1:_(m)?1:y.length-m.length}),l}function U(i){return Array.isArray(i)?Z(i):ce(i)}var ie=q("error",{lineBreaks:!0,shouldThrow:!0});function oe(i,a){for(var l=null,f=Object.create(null),b=!0,m=null,y=[],x=[],w=0;w<i.length;w++)i[w].fallback&&(b=!1);for(var w=0;w<i.length;w++){var g=i[w];if(g.include)throw new Error("Inheritance is not allowed in stateless lexers");if(g.error||g.fallback){if(l)throw!g.fallback==!l.fallback?new Error("Multiple "+(g.fallback?"fallback":"error")+" rules not allowed (for token '"+g.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+g.defaultType+"')");l=g}var C=g.match.slice();if(b)for(;C.length&&typeof C[0]=="string"&&C[0].length===1;){var J=C.shift();f[J.charCodeAt(0)]=g}if(g.pop||g.push||g.next){if(!a)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+g.defaultType+"')");if(g.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+g.defaultType+"')")}if(C.length!==0){b=!1,y.push(g);for(var z=0;z<C.length;z++){var V=C[z];if(_(V)){if(m===null)m=V.unicode;else if(m!==V.unicode&&g.fallback===!1)throw new Error("If one rule is /u then all must be")}}var X=G(C.map(W)),L=new RegExp(X);if(L.test(""))throw new Error("RegExp matches empty string: "+L);var Q=$(X);if(Q>0)throw new Error("RegExp has capture groups: "+L+`
Use (?: \u2026 ) instead`);if(!g.lineBreaks&&L.test(`
`))throw new Error("Rule should declare lineBreaks: "+L);x.push(ne(X))}}var F=l&&l.fallback,ae=D&&!F?"ym":"gm",O=D||F?"":"|";m===!0&&(ae+="u");var se=new RegExp(G(x)+O,ae);return{regexp:se,groups:y,fast:f,error:l||ie}}function s(i){var a=oe(U(i));return new u({start:a},"start")}function h(i,a,l){var f=i&&(i.push||i.next);if(f&&!l[f])throw new Error("Missing state '"+f+"' (in token '"+i.defaultType+"' of state '"+a+"')");if(i&&i.pop&&+i.pop!=1)throw new Error("pop must be 1 (in token '"+i.defaultType+"' of state '"+a+"')")}function p(i,a){var l=i.$all?U(i.$all):[];delete i.$all;var f=Object.getOwnPropertyNames(i);a||(a=f[0]);for(var b=Object.create(null),m=0;m<f.length;m++){var y=f[m];b[y]=U(i[y]).concat(l)}for(var m=0;m<f.length;m++)for(var y=f[m],x=b[y],w=Object.create(null),g=0;g<x.length;g++){var C=x[g];if(C.include){var J=[g,1];if(C.include!==y&&!w[C.include]){w[C.include]=!0;var z=b[C.include];if(!z)throw new Error("Cannot include nonexistent state '"+C.include+"' (in state '"+y+"')");for(var V=0;V<z.length;V++){var X=z[V];x.indexOf(X)===-1&&J.push(X)}}x.splice.apply(x,J),g--}}for(var L=Object.create(null),m=0;m<f.length;m++){var y=f[m];L[y]=oe(b[y],!0)}for(var m=0;m<f.length;m++){for(var Q=f[m],F=L[Q],ae=F.groups,g=0;g<ae.length;g++)h(ae[g],Q,L);for(var O=Object.getOwnPropertyNames(F.fast),g=0;g<O.length;g++)h(F.fast[O[g]],Q,L)}return new u(L,a)}function v(i){for(var a=typeof Map<"u",l=a?new Map:Object.create(null),f=Object.getOwnPropertyNames(i),b=0;b<f.length;b++){var m=f[b],y=i[m],x=Array.isArray(y)?y:[y];x.forEach(function(w){if(typeof w!="string")throw new Error("keyword must be string (in keyword '"+m+"')");a?l.set(w,m):l[w]=m})}return function(w){return a?l.get(w):l[w]}}var u=function(i,a){this.startState=a,this.states=i,this.buffer="",this.stack=[],this.reset()};u.prototype.reset=function(i,a){return this.buffer=i||"",this.index=0,this.line=a?a.line:1,this.col=a?a.col:1,this.queuedToken=a?a.queuedToken:null,this.queuedText=a?a.queuedText:"",this.queuedThrow=a?a.queuedThrow:null,this.setState(a?a.state:this.startState),this.stack=a&&a.stack?a.stack.slice():[],this},u.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedText:this.queuedText,queuedThrow:this.queuedThrow}},u.prototype.setState=function(i){if(!(!i||this.state===i)){this.state=i;var a=this.states[i];this.groups=a.groups,this.error=a.error,this.re=a.regexp,this.fast=a.fast}},u.prototype.popState=function(){this.setState(this.stack.pop())},u.prototype.pushState=function(i){this.stack.push(this.state),this.setState(i)};var E=D?function(i,a){return i.exec(a)}:function(i,a){var l=i.exec(a);return l[0].length===0?null:l};u.prototype._getGroup=function(i){for(var a=this.groups.length,l=0;l<a;l++)if(i[l+1]!==void 0)return this.groups[l];throw new Error("Cannot find token type for matched text")};function k(){return this.value}if(u.prototype.next=function(){var i=this.index;if(this.queuedGroup){var a=this._token(this.queuedGroup,this.queuedText,i);return this.queuedGroup=null,this.queuedText="",a}var l=this.buffer;if(i!==l.length){var y=this.fast[l.charCodeAt(i)];if(y)return this._token(y,l.charAt(i),i);var f=this.re;f.lastIndex=i;var b=E(f,l),m=this.error;if(b==null)return this._token(m,l.slice(i,l.length),i);var y=this._getGroup(b),x=b[0];return m.fallback&&b.index!==i?(this.queuedGroup=y,this.queuedText=x,this._token(m,l.slice(i,b.index),i)):this._token(y,x,i)}},u.prototype._token=function(i,a,l){var f=0;if(i.lineBreaks){var b=/\n/g,m=1;if(a===`
`)f=1;else for(;b.exec(a);)f++,m=b.lastIndex}var y={type:typeof i.type=="function"&&i.type(a)||i.defaultType,value:typeof i.value=="function"?i.value(a):a,text:a,toString:k,offset:l,lineBreaks:f,line:this.line,col:this.col},x=a.length;if(this.index+=x,this.line+=f,f!==0?this.col=x-m+1:this.col+=x,i.shouldThrow){var w=new Error(this.formatError(y,"invalid syntax"));throw w}return i.pop?this.popState():i.push?this.pushState(i.push):i.next&&this.setState(i.next),y},typeof Symbol<"u"&&Symbol.iterator){var A=function(i){this.lexer=i};A.prototype.next=function(){var i=this.lexer.next();return{value:i,done:!i}},A.prototype[Symbol.iterator]=function(){return this},u.prototype[Symbol.iterator]=function(){return new A(this)}}return u.prototype.formatError=function(i,a){if(i==null)var l=this.buffer.slice(this.index),i={text:l,offset:this.index,lineBreaks:l.indexOf(`
`)===-1?0:1,line:this.line,col:this.col};var f=2,b=Math.max(i.line-f,1),m=i.line+f,y=String(m).length,x=H(this.buffer,this.line-i.line+f+1).slice(0,5),w=[];w.push(a+" at line "+i.line+" col "+i.col+":"),w.push("");for(var g=0;g<x.length;g++){var C=x[g],J=b+g;w.push(K(String(J),y)+"  "+C),J===i.line&&w.push(K("",y+i.col+1)+"^")}return w.join(`
`)},u.prototype.clone=function(){return new u(this.states,this.state)},u.prototype.has=function(i){return!0},{compile:s,states:p,error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:v}})}}]);
