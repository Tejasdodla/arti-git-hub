"use strict";var Ka=Object.defineProperty;var Wa=(Le,J,R)=>J in Le?Ka(Le,J,{enumerable:!0,configurable:!0,writable:!0,value:R}):Le[J]=R;var bn=(Le,J,R)=>Wa(Le,typeof J!="symbol"?J+"":J,R);(self.webpackChunkforgejo=self.webpackChunkforgejo||[]).push([["-----"],{"./node_modules/@chevrotain/regexp-to-ast/lib/src/api.js":function(Le,J,R){R.d(J,{z:function(){return y},H:function(){return g}});function v($){return $.charCodeAt(0)}function M($,p){Array.isArray($)?$.forEach(function(N){p.push(N)}):p.push($)}function H($,p){if($[p]===!0)throw"duplicate flag "+p;const N=$[p];$[p]=!0}function x($){if($===void 0)throw Error("Internal Error - Should never get here!");return!0}function P(){throw Error("Internal Error - Should never get here!")}function D($){return $.type==="Character"}const K=[];for(let $=v("0");$<=v("9");$++)K.push($);const U=[v("_")].concat(K);for(let $=v("a");$<=v("z");$++)U.push($);for(let $=v("A");$<=v("Z");$++)U.push($);const k=[v(" "),v("\f"),v(`
`),v("\r"),v("	"),v("\v"),v("	"),v("\xA0"),v("\u1680"),v("\u2000"),v("\u2001"),v("\u2002"),v("\u2003"),v("\u2004"),v("\u2005"),v("\u2006"),v("\u2007"),v("\u2008"),v("\u2009"),v("\u200A"),v("\u2028"),v("\u2029"),v("\u202F"),v("\u205F"),v("\u3000"),v("\uFEFF")],A=/[0-9a-fA-F]/,I=/[0-9]/,m=/[1-9]/;class g{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(p){this.idx=p.idx,this.input=p.input,this.groupIdx=p.groupIdx}pattern(p){this.idx=0,this.input=p,this.groupIdx=0,this.consumeChar("/");const N=this.disjunction();this.consumeChar("/");const b={type:"Flags",loc:{begin:this.idx,end:p.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":H(b,"global");break;case"i":H(b,"ignoreCase");break;case"m":H(b,"multiLine");break;case"u":H(b,"unicode");break;case"y":H(b,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:b,value:N,loc:this.loc(0)}}disjunction(){const p=[],N=this.idx;for(p.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),p.push(this.alternative());return{type:"Disjunction",value:p,loc:this.loc(N)}}alternative(){const p=[],N=this.idx;for(;this.isTerm();)p.push(this.term());return{type:"Alternative",value:p,loc:this.loc(N)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){const p=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(p)};case"$":return{type:"EndAnchor",loc:this.loc(p)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(p)};case"B":return{type:"NonWordBoundary",loc:this.loc(p)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let N;switch(this.popChar()){case"=":N="Lookahead";break;case"!":N="NegativeLookahead";break}x(N);const b=this.disjunction();return this.consumeChar(")"),{type:N,value:b,loc:this.loc(p)}}return P()}quantifier(p=!1){let N;const b=this.idx;switch(this.popChar()){case"*":N={atLeast:0,atMost:1/0};break;case"+":N={atLeast:1,atMost:1/0};break;case"?":N={atLeast:0,atMost:1};break;case"{":const F=this.integerIncludingZero();switch(this.popChar()){case"}":N={atLeast:F,atMost:F};break;case",":let V;this.isDigit()?(V=this.integerIncludingZero(),N={atLeast:F,atMost:V}):N={atLeast:F,atMost:1/0},this.consumeChar("}");break}if(p===!0&&N===void 0)return;x(N);break}if(!(p===!0&&N===void 0)&&x(N))return this.peekChar(0)==="?"?(this.consumeChar("?"),N.greedy=!1):N.greedy=!0,N.type="Quantifier",N.loc=this.loc(b),N}atom(){let p;const N=this.idx;switch(this.peekChar()){case".":p=this.dotAll();break;case"\\":p=this.atomEscape();break;case"[":p=this.characterClass();break;case"(":p=this.group();break}return p===void 0&&this.isPatternCharacter()&&(p=this.patternCharacter()),x(p)?(p.loc=this.loc(N),this.isQuantifier()&&(p.quantifier=this.quantifier()),p):P()}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[v(`
`),v("\r"),v("\u2028"),v("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let p,N=!1;switch(this.popChar()){case"d":p=K;break;case"D":p=K,N=!0;break;case"s":p=k;break;case"S":p=k,N=!0;break;case"w":p=U;break;case"W":p=U,N=!0;break}return x(p)?{type:"Set",value:p,complement:N}:P()}controlEscapeAtom(){let p;switch(this.popChar()){case"f":p=v("\f");break;case"n":p=v(`
`);break;case"r":p=v("\r");break;case"t":p=v("	");break;case"v":p=v("\v");break}return x(p)?{type:"Character",value:p}:P()}controlLetterEscapeAtom(){this.consumeChar("c");const p=this.popChar();if(/[a-zA-Z]/.test(p)===!1)throw Error("Invalid ");return{type:"Character",value:p.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:v("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){const p=this.popChar();return{type:"Character",value:v(p)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:const p=this.popChar();return{type:"Character",value:v(p)}}}characterClass(){const p=[];let N=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),N=!0);this.isClassAtom();){const b=this.classAtom(),F=b.type==="Character";if(D(b)&&this.isRangeDash()){this.consumeChar("-");const V=this.classAtom(),Z=V.type==="Character";if(D(V)){if(V.value<b.value)throw Error("Range out of order in character class");p.push({from:b.value,to:V.value})}else M(b.value,p),p.push(v("-")),M(V.value,p)}else M(b.value,p)}return this.consumeChar("]"),{type:"Set",complement:N,value:p}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:v("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let p=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),p=!1;break;default:this.groupIdx++;break}const N=this.disjunction();this.consumeChar(")");const b={type:"Group",capturing:p,value:N};return p&&(b.idx=this.groupIdx),b}positiveInteger(){let p=this.popChar();if(m.test(p)===!1)throw Error("Expecting a positive integer");for(;I.test(this.peekChar(0));)p+=this.popChar();return parseInt(p,10)}integerIncludingZero(){let p=this.popChar();if(I.test(p)===!1)throw Error("Expecting an integer");for(;I.test(this.peekChar(0));)p+=this.popChar();return parseInt(p,10)}patternCharacter(){const p=this.popChar();switch(p){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:v(p)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return I.test(this.peekChar(0))}isClassAtom(p=0){switch(this.peekChar(p)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}}isQuantifier(){const p=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(p)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(p){let N="";for(let F=0;F<p;F++){const V=this.popChar();if(A.test(V)===!1)throw Error("Expecting a HexDecimal digits");N+=V}return{type:"Character",value:parseInt(N,16)}}peekChar(p=0){return this.input[this.idx+p]}popChar(){const p=this.peekChar(0);return this.consumeChar(void 0),p}consumeChar(p){if(p!==void 0&&this.input[this.idx]!==p)throw Error("Expected: '"+p+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(p){return{begin:p,end:this.idx}}}class y{visitChildren(p){for(const N in p){const b=p[N];p.hasOwnProperty(N)&&(b.type!==void 0?this.visit(b):Array.isArray(b)&&b.forEach(F=>{this.visit(F)},this))}}visit(p){switch(p.type){case"Pattern":this.visitPattern(p);break;case"Flags":this.visitFlags(p);break;case"Disjunction":this.visitDisjunction(p);break;case"Alternative":this.visitAlternative(p);break;case"StartAnchor":this.visitStartAnchor(p);break;case"EndAnchor":this.visitEndAnchor(p);break;case"WordBoundary":this.visitWordBoundary(p);break;case"NonWordBoundary":this.visitNonWordBoundary(p);break;case"Lookahead":this.visitLookahead(p);break;case"NegativeLookahead":this.visitNegativeLookahead(p);break;case"Character":this.visitCharacter(p);break;case"Set":this.visitSet(p);break;case"Group":this.visitGroup(p);break;case"GroupBackReference":this.visitGroupBackReference(p);break;case"Quantifier":this.visitQuantifier(p);break}this.visitChildren(p)}visitPattern(p){}visitFlags(p){}visitDisjunction(p){}visitAlternative(p){}visitStartAnchor(p){}visitEndAnchor(p){}visitWordBoundary(p){}visitNonWordBoundary(p){}visitLookahead(p){}visitNegativeLookahead(p){}visitCharacter(p){}visitSet(p){}visitGroup(p){}visitGroupBackReference(p){}visitQuantifier(p){}}},"./node_modules/@mermaid-js/parser/dist/chunks/mermaid-parser.core/chunk-2NYFTIL2.mjs":function(Le,J,R){var U;R.d(J,{b:function(){return K}});var v=R("./node_modules/@mermaid-js/parser/dist/chunks/mermaid-parser.core/chunk-7PKI6E2E.mjs"),M=R("./node_modules/langium/lib/workspace/file-system-provider.js"),H=R("./node_modules/langium/lib/dependency-injection.js"),x=R("./node_modules/langium/lib/default-module.js"),P=(U=class extends v.mR{constructor(){super(["gitGraph"])}},(0,v.K2)(U,"GitGraphTokenBuilder"),U),D={parser:{TokenBuilder:(0,v.K2)(()=>new P,"TokenBuilder"),ValueConverter:(0,v.K2)(()=>new v.Tm,"ValueConverter")}};function K(k=M.D){const A=(0,H.WQ)((0,x.u)(k),v.sr),I=(0,H.WQ)((0,x.t)({shared:A}),v.eZ,D);return A.ServiceRegistry.register(I),{shared:A,GitGraph:I}}(0,v.K2)(K,"createGitGraphServices")},"./node_modules/@mermaid-js/parser/dist/chunks/mermaid-parser.core/chunk-2O5ZK7RR.mjs":function(Le,J,R){var U;R.d(J,{f:function(){return K}});var v=R("./node_modules/@mermaid-js/parser/dist/chunks/mermaid-parser.core/chunk-7PKI6E2E.mjs"),M=R("./node_modules/langium/lib/workspace/file-system-provider.js"),H=R("./node_modules/langium/lib/dependency-injection.js"),x=R("./node_modules/langium/lib/default-module.js"),P=(U=class extends v.mR{constructor(){super(["radar-beta"])}},(0,v.K2)(U,"RadarTokenBuilder"),U),D={parser:{TokenBuilder:(0,v.K2)(()=>new P,"TokenBuilder"),ValueConverter:(0,v.K2)(()=>new v.Tm,"ValueConverter")}};function K(k=M.D){const A=(0,H.WQ)((0,x.u)(k),v.sr),I=(0,H.WQ)((0,x.t)({shared:A}),v.YP,D);return A.ServiceRegistry.register(I),{shared:A,Radar:I}}(0,v.K2)(K,"createRadarServices")},"./node_modules/@mermaid-js/parser/dist/chunks/mermaid-parser.core/chunk-7PKI6E2E.mjs":function(Le,J,R){var ht,jt,mt,St,pt;R.d(J,{mR:function(){return et},dg:function(){return It},jE:function(){return Un},Tm:function(){return Yt},eZ:function(){return Et},e5:function(){return Gt},sr:function(){return jn},AM:function(){return Fn},KX:function(){return st},YP:function(){return Gn},K2:function(){return y}});var v=R("./node_modules/langium/lib/syntax-tree.js"),M=R("./node_modules/langium/lib/default-module.js"),H=R("./node_modules/langium/lib/dependency-injection.js"),x=R("./node_modules/langium/lib/languages/generated/ast.js"),P=R("./node_modules/langium/lib/workspace/file-system-provider.js"),D=R("./node_modules/vscode-uri/lib/esm/index.mjs");const K={Grammar:()=>{},LanguageMetaData:()=>({caseInsensitive:!1,fileExtensions:[".langium"],languageId:"langium"})},U={AstReflection:()=>new x.QX};function k(){const be=(0,H.WQ)((0,M.u)(P.D),U),Ne=(0,H.WQ)((0,M.t)({shared:be}),K);return be.ServiceRegistry.register(Ne),Ne}function A(be){var Ne;const Ie=k(),Fe=Ie.serializer.JsonSerializer.deserialize(be);return Ie.shared.workspace.LangiumDocumentFactory.fromModel(Fe,D.r.parse(`memory://${(Ne=Fe.name)!==null&&Ne!==void 0?Ne:"grammar"}.langium`)),Fe}var I=R("./node_modules/langium/lib/parser/value-converter.js"),m=R("./node_modules/langium/lib/parser/token-builder.js"),g=Object.defineProperty,y=(be,Ne)=>g(be,"name",{value:Ne,configurable:!0}),$="Statement",p="Architecture";function N(be){return Ae.isInstance(be,p)}y(N,"isArchitecture");var b="Axis",F="Branch";function V(be){return Ae.isInstance(be,F)}y(V,"isBranch");var Z="Checkout",le="CherryPicking",ue="Commit";function G(be){return Ae.isInstance(be,ue)}y(G,"isCommit");var te="Common";function de(be){return Ae.isInstance(be,te)}y(de,"isCommon");var ge="Curve",Ce="Edge",ve="Entry",Be="GitGraph";function ee(be){return Ae.isInstance(be,Be)}y(ee,"isGitGraph");var X="Group",se="Info";function oe(be){return Ae.isInstance(be,se)}y(oe,"isInfo");var Ee="Junction",ye="Merge";function me(be){return Ae.isInstance(be,ye)}y(me,"isMerge");var Je="Option",ke="Packet";function Me(be){return Ae.isInstance(be,ke)}y(Me,"isPacket");var rt="PacketBlock";function ct(be){return Ae.isInstance(be,rt)}y(ct,"isPacketBlock");var De="Pie";function qe(be){return Ae.isInstance(be,De)}y(qe,"isPie");var E="PieSection";function L(be){return Ae.isInstance(be,E)}y(L,"isPieSection");var W="Radar",fe="Service",ce="Direction",Re=(ht=class extends v.kD{getAllTypes(){return[p,b,F,Z,le,ue,te,ge,ce,Ce,ve,Be,X,se,Ee,ye,Je,ke,rt,De,E,W,fe,$]}computeIsSubtype(Ne,Ie){switch(Ne){case F:case Z:case le:case ue:case ye:return this.isSubtype($,Ie);case ce:return this.isSubtype(Be,Ie);default:return!1}}getReferenceType(Ne){const Ie=`${Ne.container.$type}:${Ne.property}`;switch(Ie){case"Entry:axis":return b;default:throw new Error(`${Ie} is not a valid reference id.`)}}getTypeMetaData(Ne){switch(Ne){case p:return{name:p,properties:[{name:"accDescr"},{name:"accTitle"},{name:"edges",defaultValue:[]},{name:"groups",defaultValue:[]},{name:"junctions",defaultValue:[]},{name:"services",defaultValue:[]},{name:"title"}]};case b:return{name:b,properties:[{name:"label"},{name:"name"}]};case F:return{name:F,properties:[{name:"name"},{name:"order"}]};case Z:return{name:Z,properties:[{name:"branch"}]};case le:return{name:le,properties:[{name:"id"},{name:"parent"},{name:"tags",defaultValue:[]}]};case ue:return{name:ue,properties:[{name:"id"},{name:"message"},{name:"tags",defaultValue:[]},{name:"type"}]};case te:return{name:te,properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case ge:return{name:ge,properties:[{name:"entries",defaultValue:[]},{name:"label"},{name:"name"}]};case Ce:return{name:Ce,properties:[{name:"lhsDir"},{name:"lhsGroup",defaultValue:!1},{name:"lhsId"},{name:"lhsInto",defaultValue:!1},{name:"rhsDir"},{name:"rhsGroup",defaultValue:!1},{name:"rhsId"},{name:"rhsInto",defaultValue:!1},{name:"title"}]};case ve:return{name:ve,properties:[{name:"axis"},{name:"value"}]};case Be:return{name:Be,properties:[{name:"accDescr"},{name:"accTitle"},{name:"statements",defaultValue:[]},{name:"title"}]};case X:return{name:X,properties:[{name:"icon"},{name:"id"},{name:"in"},{name:"title"}]};case se:return{name:se,properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case Ee:return{name:Ee,properties:[{name:"id"},{name:"in"}]};case ye:return{name:ye,properties:[{name:"branch"},{name:"id"},{name:"tags",defaultValue:[]},{name:"type"}]};case Je:return{name:Je,properties:[{name:"name"},{name:"value",defaultValue:!1}]};case ke:return{name:ke,properties:[{name:"accDescr"},{name:"accTitle"},{name:"blocks",defaultValue:[]},{name:"title"}]};case rt:return{name:rt,properties:[{name:"end"},{name:"label"},{name:"start"}]};case De:return{name:De,properties:[{name:"accDescr"},{name:"accTitle"},{name:"sections",defaultValue:[]},{name:"showData",defaultValue:!1},{name:"title"}]};case E:return{name:E,properties:[{name:"label"},{name:"value"}]};case W:return{name:W,properties:[{name:"accDescr"},{name:"accTitle"},{name:"axes",defaultValue:[]},{name:"curves",defaultValue:[]},{name:"options",defaultValue:[]},{name:"title"}]};case fe:return{name:fe,properties:[{name:"icon"},{name:"iconText"},{name:"id"},{name:"in"},{name:"title"}]};case ce:return{name:ce,properties:[{name:"accDescr"},{name:"accTitle"},{name:"dir"},{name:"statements",defaultValue:[]},{name:"title"}]};default:return{name:Ne,properties:[]}}}},y(ht,"MermaidAstReflection"),ht),Ae=new Re,we,Lt=y(()=>we??(we=A('{"$type":"Grammar","isDeclared":true,"name":"Info","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Info","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"info"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"showInfo"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}')),"InfoGrammar"),Ht,dt=y(()=>Ht??(Ht=A(`{"$type":"Grammar","isDeclared":true,"name":"Packet","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Packet","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"packet-beta"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"+"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PacketBlock","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"start","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"end","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}}],"cardinality":"?"},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|'[^']*'/"},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}`)),"PacketGrammar"),pn,_t=y(()=>pn??(pn=A('{"$type":"Grammar","isDeclared":true,"name":"Pie","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Pie","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"pie"},{"$type":"Assignment","feature":"showData","operator":"?=","terminal":{"$type":"Keyword","value":"showData"},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"+"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PieSection","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"PIE_SECTION_LABEL","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]+\\"/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"PIE_SECTION_VALUE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/(0|[1-9][0-9]*)(\\\\.[0-9]+)?/"},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}')),"PieGrammar"),gn,zt=y(()=>gn??(gn=A('{"$type":"Grammar","isDeclared":true,"name":"Architecture","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Architecture","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"architecture-beta"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"*"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"groups","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"services","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"junctions","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"edges","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"LeftPort","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"lhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"RightPort","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"rhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Keyword","value":":"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Arrow","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Assignment","feature":"lhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"--"},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}},{"$type":"Keyword","value":"-"}]}]},{"$type":"Assignment","feature":"rhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Group","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"group"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]},"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Service","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"service"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"iconText","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}}],"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Junction","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"junction"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Edge","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"lhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"lhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"rhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"rhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"ARROW_DIRECTION","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"L"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"R"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"T"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"B"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_ID","definition":{"$type":"RegexToken","regex":"/[\\\\w]+/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TEXT_ICON","definition":{"$type":"RegexToken","regex":"/\\\\(\\"[^\\"]+\\"\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_ICON","definition":{"$type":"RegexToken","regex":"/\\\\([\\\\w-:]+\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TITLE","definition":{"$type":"RegexToken","regex":"/\\\\[[\\\\w ]+\\\\]/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_GROUP","definition":{"$type":"RegexToken","regex":"/\\\\{group\\\\}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_INTO","definition":{"$type":"RegexToken","regex":"/<|>/"},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}')),"ArchitectureGrammar"),Xe,Pt=y(()=>Xe??(Xe=A(`{"$type":"Grammar","isDeclared":true,"name":"GitGraph","interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"rules":[{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"ParserRule","entry":true,"name":"GitGraph","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Keyword","value":":"}]},{"$type":"Keyword","value":"gitGraph:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]},{"$type":"Keyword","value":":"}]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@0"},"arguments":[]},{"$type":"Assignment","feature":"statements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Direction","definition":{"$type":"Assignment","feature":"dir","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"LR"},{"$type":"Keyword","value":"TB"},{"$type":"Keyword","value":"BT"}]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Commit","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"commit"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"msg:","cardinality":"?"},{"$type":"Assignment","feature":"message","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Branch","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"branch"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"order:"},{"$type":"Assignment","feature":"order","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Merge","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"merge"},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Checkout","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"checkout"},{"$type":"Keyword","value":"switch"}]},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CherryPicking","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"cherry-pick"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"parent:"},{"$type":"Assignment","feature":"parent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+(?=\\\\s)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\\\w([-\\\\./\\\\w]*[-\\\\w])?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|'[^']*'/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"imports":[],"types":[],"usedGrammars":[]}`)),"GitGraphGrammar"),yn,bt=y(()=>yn??(yn=A(`{"$type":"Grammar","isDeclared":true,"name":"Radar","interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]},{"$type":"Interface","name":"Entry","attributes":[{"$type":"TypeAttribute","name":"axis","isOptional":true,"type":{"$type":"ReferenceType","referenceType":{"$type":"SimpleType","typeRef":{"$ref":"#/rules@12"}}}},{"$type":"TypeAttribute","name":"value","type":{"$type":"SimpleType","primitiveType":"number"},"isOptional":false}],"superTypes":[]}],"rules":[{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"ParserRule","entry":true,"name":"Radar","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":"radar-beta:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":":"}]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@0"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Keyword","value":"axis"},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"curve"},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Label","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"["},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Keyword","value":"]"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Axis","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Curve","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[],"cardinality":"?"},{"$type":"Keyword","value":"{"},{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},{"$type":"Keyword","value":"}"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Entries","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"DetailedEntry","returnType":{"$ref":"#/interfaces@1"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"axis","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@12"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Keyword","value":":","cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"NumberEntry","returnType":{"$ref":"#/interfaces@1"},"definition":{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Option","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"showLegend"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"ticks"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"max"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"min"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"graticule"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/(0|[1-9][0-9]*)(\\\\.[0-9]+)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"GRATICULE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"circle"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"polygon"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[a-zA-Z_][a-zA-Z0-9\\\\-_]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|'[^']*'/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"imports":[],"types":[],"usedGrammars":[]}`)),"RadarGrammar"),an={languageId:"info",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Mt={languageId:"packet",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Mn={languageId:"pie",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Ve={languageId:"architecture",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Dn={languageId:"gitGraph",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},kt={languageId:"radar",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},jn={AstReflection:y(()=>new Re,"AstReflection")},Gt={Grammar:y(()=>Lt(),"Grammar"),LanguageMetaData:y(()=>an,"LanguageMetaData"),parser:{}},Fn={Grammar:y(()=>dt(),"Grammar"),LanguageMetaData:y(()=>Mt,"LanguageMetaData"),parser:{}},st={Grammar:y(()=>_t(),"Grammar"),LanguageMetaData:y(()=>Mn,"LanguageMetaData"),parser:{}},Un={Grammar:y(()=>zt(),"Grammar"),LanguageMetaData:y(()=>Ve,"LanguageMetaData"),parser:{}},Et={Grammar:y(()=>Pt(),"Grammar"),LanguageMetaData:y(()=>Dn,"LanguageMetaData"),parser:{}},Gn={Grammar:y(()=>bt(),"Grammar"),LanguageMetaData:y(()=>kt,"LanguageMetaData"),parser:{}},ot=/accDescr(?:[\t ]*:([^\n\r]*)|\s*{([^}]*)})/,Xt=/accTitle[\t ]*:([^\n\r]*)/,Dt=/title([\t ][^\n\r]*|)/,An={ACC_DESCR:ot,ACC_TITLE:Xt,TITLE:Dt},It=(jt=class extends I.d{runConverter(Ne,Ie,Fe){let it=this.runCommonConverter(Ne,Ie,Fe);return it===void 0&&(it=this.runCustomConverter(Ne,Ie,Fe)),it===void 0?super.runConverter(Ne,Ie,Fe):it}runCommonConverter(Ne,Ie,Fe){const it=An[Ne.name];if(it===void 0)return;const Qe=it.exec(Ie);if(Qe!==null){if(Qe[1]!==void 0)return Qe[1].trim().replace(/[\t ]{2,}/gm," ");if(Qe[2]!==void 0)return Qe[2].replace(/^\s*/gm,"").replace(/\s+$/gm,"").replace(/[\t ]{2,}/gm," ").replace(/[\n\r]{2,}/gm,`
`)}}},y(jt,"AbstractMermaidValueConverter"),jt),Yt=(mt=class extends It{runCustomConverter(Ne,Ie,Fe){}},y(mt,"CommonValueConverter"),mt),et=(St=class extends m.Q{constructor(Ne){super(),this.keywords=new Set(Ne)}buildKeywordTokens(Ne,Ie,Fe){const it=super.buildKeywordTokens(Ne,Ie,Fe);return it.forEach(Qe=>{this.keywords.has(Qe.name)&&Qe.PATTERN!==void 0&&(Qe.PATTERN=new RegExp(Qe.PATTERN.toString()+"(?:(?=%%)|(?!\\S))"))}),it}},y(St,"AbstractMermaidTokenBuilder"),St),Ct=(pt=class extends et{},y(pt,"CommonTokenBuilder"),pt)},"./node_modules/@mermaid-js/parser/dist/chunks/mermaid-parser.core/chunk-C4OEIS7N.mjs":function(Le,J,R){var k,A;R.d(J,{S:function(){return U}});var v=R("./node_modules/@mermaid-js/parser/dist/chunks/mermaid-parser.core/chunk-7PKI6E2E.mjs"),M=R("./node_modules/langium/lib/workspace/file-system-provider.js"),H=R("./node_modules/langium/lib/dependency-injection.js"),x=R("./node_modules/langium/lib/default-module.js"),P=(k=class extends v.mR{constructor(){super(["architecture"])}},(0,v.K2)(k,"ArchitectureTokenBuilder"),k),D=(A=class extends v.dg{runCustomConverter(m,g,y){if(m.name==="ARCH_ICON")return g.replace(/[()]/g,"").trim();if(m.name==="ARCH_TEXT_ICON")return g.replace(/["()]/g,"");if(m.name==="ARCH_TITLE")return g.replace(/[[\]]/g,"").trim()}},(0,v.K2)(A,"ArchitectureValueConverter"),A),K={parser:{TokenBuilder:(0,v.K2)(()=>new P,"TokenBuilder"),ValueConverter:(0,v.K2)(()=>new D,"ValueConverter")}};function U(I=M.D){const m=(0,H.WQ)((0,x.u)(I),v.sr),g=(0,H.WQ)((0,x.t)({shared:m}),v.jE,K);return m.ServiceRegistry.register(g),{shared:m,Architecture:g}}(0,v.K2)(U,"createArchitectureServices")},"./node_modules/@mermaid-js/parser/dist/chunks/mermaid-parser.core/chunk-EXZZNE6F.mjs":function(Le,J,R){var U;R.d(J,{v:function(){return K}});var v=R("./node_modules/@mermaid-js/parser/dist/chunks/mermaid-parser.core/chunk-7PKI6E2E.mjs"),M=R("./node_modules/langium/lib/workspace/file-system-provider.js"),H=R("./node_modules/langium/lib/dependency-injection.js"),x=R("./node_modules/langium/lib/default-module.js"),P=(U=class extends v.mR{constructor(){super(["info","showInfo"])}},(0,v.K2)(U,"InfoTokenBuilder"),U),D={parser:{TokenBuilder:(0,v.K2)(()=>new P,"TokenBuilder"),ValueConverter:(0,v.K2)(()=>new v.Tm,"ValueConverter")}};function K(k=M.D){const A=(0,H.WQ)((0,x.u)(k),v.sr),I=(0,H.WQ)((0,x.t)({shared:A}),v.e5,D);return A.ServiceRegistry.register(I),{shared:A,Info:I}}(0,v.K2)(K,"createInfoServices")},"./node_modules/@mermaid-js/parser/dist/chunks/mermaid-parser.core/chunk-ROXG7S4E.mjs":function(Le,J,R){var k,A;R.d(J,{f:function(){return U}});var v=R("./node_modules/@mermaid-js/parser/dist/chunks/mermaid-parser.core/chunk-7PKI6E2E.mjs"),M=R("./node_modules/langium/lib/workspace/file-system-provider.js"),H=R("./node_modules/langium/lib/dependency-injection.js"),x=R("./node_modules/langium/lib/default-module.js"),P=(k=class extends v.mR{constructor(){super(["pie","showData"])}},(0,v.K2)(k,"PieTokenBuilder"),k),D=(A=class extends v.dg{runCustomConverter(m,g,y){if(m.name==="PIE_SECTION_LABEL")return g.replace(/"/g,"").trim()}},(0,v.K2)(A,"PieValueConverter"),A),K={parser:{TokenBuilder:(0,v.K2)(()=>new P,"TokenBuilder"),ValueConverter:(0,v.K2)(()=>new D,"ValueConverter")}};function U(I=M.D){const m=(0,H.WQ)((0,x.u)(I),v.sr),g=(0,H.WQ)((0,x.t)({shared:m}),v.KX,K);return m.ServiceRegistry.register(g),{shared:m,Pie:g}}(0,v.K2)(U,"createPieServices")},"./node_modules/@mermaid-js/parser/dist/chunks/mermaid-parser.core/chunk-V4Q32G6S.mjs":function(Le,J,R){var U;R.d(J,{$:function(){return K}});var v=R("./node_modules/@mermaid-js/parser/dist/chunks/mermaid-parser.core/chunk-7PKI6E2E.mjs"),M=R("./node_modules/langium/lib/workspace/file-system-provider.js"),H=R("./node_modules/langium/lib/dependency-injection.js"),x=R("./node_modules/langium/lib/default-module.js"),P=(U=class extends v.mR{constructor(){super(["packet-beta"])}},(0,v.K2)(U,"PacketTokenBuilder"),U),D={parser:{TokenBuilder:(0,v.K2)(()=>new P,"TokenBuilder"),ValueConverter:(0,v.K2)(()=>new v.Tm,"ValueConverter")}};function K(k=M.D){const A=(0,H.WQ)((0,x.u)(k),v.sr),I=(0,H.WQ)((0,x.t)({shared:A}),v.AM,D);return A.ServiceRegistry.register(I),{shared:A,Packet:I}}(0,v.K2)(K,"createPacketServices")},"./node_modules/@mermaid-js/parser/dist/mermaid-parser.core.mjs":function(Le,J,R){var m;R.d(J,{qg:function(){return A}});var v=R("./node_modules/@mermaid-js/parser/dist/chunks/mermaid-parser.core/chunk-2NYFTIL2.mjs"),M=R("./node_modules/@mermaid-js/parser/dist/chunks/mermaid-parser.core/chunk-EXZZNE6F.mjs"),H=R("./node_modules/@mermaid-js/parser/dist/chunks/mermaid-parser.core/chunk-V4Q32G6S.mjs"),x=R("./node_modules/@mermaid-js/parser/dist/chunks/mermaid-parser.core/chunk-ROXG7S4E.mjs"),P=R("./node_modules/@mermaid-js/parser/dist/chunks/mermaid-parser.core/chunk-C4OEIS7N.mjs"),D=R("./node_modules/@mermaid-js/parser/dist/chunks/mermaid-parser.core/chunk-2O5ZK7RR.mjs"),K=R("./node_modules/@mermaid-js/parser/dist/chunks/mermaid-parser.core/chunk-7PKI6E2E.mjs"),U={},k={info:(0,K.K2)(async()=>{const{createInfoServices:g}=await R.e("node_modules_mermaid-js_parser_dist_chunks_mermaid-parser_core_info-4N47QTOZ_mjs").then(R.bind(R,"./node_modules/@mermaid-js/parser/dist/chunks/mermaid-parser.core/info-4N47QTOZ.mjs")),y=g().Info.parser.LangiumParser;U.info=y},"info"),packet:(0,K.K2)(async()=>{const{createPacketServices:g}=await R.e("node_modules_mermaid-js_parser_dist_chunks_mermaid-parser_core_packet-KVYON367_mjs").then(R.bind(R,"./node_modules/@mermaid-js/parser/dist/chunks/mermaid-parser.core/packet-KVYON367.mjs")),y=g().Packet.parser.LangiumParser;U.packet=y},"packet"),pie:(0,K.K2)(async()=>{const{createPieServices:g}=await R.e("node_modules_mermaid-js_parser_dist_chunks_mermaid-parser_core_pie-R6RNRRYF_mjs").then(R.bind(R,"./node_modules/@mermaid-js/parser/dist/chunks/mermaid-parser.core/pie-R6RNRRYF.mjs")),y=g().Pie.parser.LangiumParser;U.pie=y},"pie"),architecture:(0,K.K2)(async()=>{const{createArchitectureServices:g}=await R.e("node_modules_mermaid-js_parser_dist_chunks_mermaid-parser_core_architecture-4AB2E3PP_mjs").then(R.bind(R,"./node_modules/@mermaid-js/parser/dist/chunks/mermaid-parser.core/architecture-4AB2E3PP.mjs")),y=g().Architecture.parser.LangiumParser;U.architecture=y},"architecture"),gitGraph:(0,K.K2)(async()=>{const{createGitGraphServices:g}=await R.e("node_modules_mermaid-js_parser_dist_chunks_mermaid-parser_core_gitGraph-O2Q2CXLX_mjs").then(R.bind(R,"./node_modules/@mermaid-js/parser/dist/chunks/mermaid-parser.core/gitGraph-O2Q2CXLX.mjs")),y=g().GitGraph.parser.LangiumParser;U.gitGraph=y},"gitGraph"),radar:(0,K.K2)(async()=>{const{createRadarServices:g}=await R.e("node_modules_mermaid-js_parser_dist_chunks_mermaid-parser_core_radar-MK3ICKWK_mjs").then(R.bind(R,"./node_modules/@mermaid-js/parser/dist/chunks/mermaid-parser.core/radar-MK3ICKWK.mjs")),y=g().Radar.parser.LangiumParser;U.radar=y},"radar")};async function A(g,y){const $=k[g];if(!$)throw new Error(`Unknown diagram type: ${g}`);U[g]||await $();const N=U[g].parse(y);if(N.lexerErrors.length>0||N.parserErrors.length>0)throw new I(N);return N.value}(0,K.K2)(A,"parse");var I=(m=class extends Error{constructor(y){const $=y.lexerErrors.map(N=>N.message).join(`
`),p=y.parserErrors.map(N=>N.message).join(`
`);super(`Parsing failed: ${$} ${p}`),this.result=y}},(0,K.K2)(m,"MermaidParseError"),m)},"./node_modules/chevrotain/lib/src/api.js":function(Le,J,R){R.d(J,{ak:function(){return Ae},mT:function(){return Da},LT:function(){return qt},jr:function(){return ja},T6:function(){return ia},JG:function(){return Ze},wL:function(){return De},c$:function(){return L},Y2:function(){return ce},$P:function(){return W},Cy:function(){return fe},Pp:function(){return Re},BK:function(){return we},PW:function(){return Bs},my:function(){return Hr},jk:function(){return ya},Sk:function(){return xn},G:function(){return Ue}});var v=R("./node_modules/lodash-es/forEach.js"),M=R("./node_modules/lodash-es/values.js"),H=R("./node_modules/lodash-es/isEmpty.js"),x=R("./node_modules/lodash-es/map.js"),P=R("./node_modules/lodash-es/has.js"),D=R("./node_modules/lodash-es/clone.js");function K(o){function t(){}t.prototype=o;const a=new t;function u(){return typeof a.bar}return u(),u(),o;(0,eval)(o)}function U(o,t,a){var u=-1,d=o.length;t<0&&(t=-t>d?0:d+t),a=a>d?d:a,a<0&&(a+=d),d=t>a?0:a-t>>>0,t>>>=0;for(var f=Array(d);++u<d;)f[u]=o[u+t];return f}var k=U,A=R("./node_modules/lodash-es/toInteger.js");function I(o,t,a){var u=o==null?0:o.length;return u?(t=a||t===void 0?1:(0,A.A)(t),k(o,t<0?0:t,u)):[]}var m=I,g=R("./node_modules/lodash-es/isString.js"),y=R("./node_modules/lodash-es/_assignValue.js"),$=R("./node_modules/lodash-es/_copyObject.js"),p=R("./node_modules/lodash-es/_createAssigner.js"),N=R("./node_modules/lodash-es/isArrayLike.js"),b=R("./node_modules/lodash-es/_isPrototype.js"),F=R("./node_modules/lodash-es/keys.js"),V=Object.prototype,Z=V.hasOwnProperty,le=(0,p.A)(function(o,t){if((0,b.A)(t)||(0,N.A)(t)){(0,$.A)(t,(0,F.A)(t),o);return}for(var a in t)Z.call(t,a)&&(0,y.A)(o,a,t[a])}),ue=le,G=R("./node_modules/lodash-es/_arrayMap.js"),te=R("./node_modules/lodash-es/_baseIteratee.js"),de=R("./node_modules/lodash-es/_basePickBy.js"),ge=R("./node_modules/lodash-es/_getAllKeysIn.js");function Ce(o,t){if(o==null)return{};var a=(0,G.A)((0,ge.A)(o),function(u){return[u]});return t=(0,te.A)(t),(0,de.A)(o,a,function(u,d){return t(u,d[0])})}var ve=Ce,Be=R("./node_modules/lodash-es/_baseGetTag.js"),ee=R("./node_modules/lodash-es/isObjectLike.js"),X="[object RegExp]";function se(o){return(0,ee.A)(o)&&(0,Be.A)(o)==X}var oe=se,Ee=R("./node_modules/lodash-es/_baseUnary.js"),ye=R("./node_modules/lodash-es/_nodeUtil.js"),me=ye.A&&ye.A.isRegExp,Je=me?(0,Ee.A)(me):oe,ke=Je;function Me(o){return rt(o)?o.LABEL:o.name}function rt(o){return(0,g.A)(o.LABEL)&&o.LABEL!==""}class ct{get definition(){return this._definition}set definition(t){this._definition=t}constructor(t){this._definition=t}accept(t){t.visit(this),(0,v.A)(this.definition,a=>{a.accept(t)})}}class De extends ct{constructor(t){super([]),this.idx=1,ue(this,ve(t,a=>a!==void 0))}set definition(t){}get definition(){return this.referencedRule!==void 0?this.referencedRule.definition:[]}accept(t){t.visit(this)}}class qe extends ct{constructor(t){super(t.definition),this.orgText="",ue(this,ve(t,a=>a!==void 0))}}class E extends ct{constructor(t){super(t.definition),this.ignoreAmbiguities=!1,ue(this,ve(t,a=>a!==void 0))}}class L extends ct{constructor(t){super(t.definition),this.idx=1,ue(this,ve(t,a=>a!==void 0))}}class W extends ct{constructor(t){super(t.definition),this.idx=1,ue(this,ve(t,a=>a!==void 0))}}class fe extends ct{constructor(t){super(t.definition),this.idx=1,ue(this,ve(t,a=>a!==void 0))}}class ce extends ct{constructor(t){super(t.definition),this.idx=1,ue(this,ve(t,a=>a!==void 0))}}class Re extends ct{constructor(t){super(t.definition),this.idx=1,ue(this,ve(t,a=>a!==void 0))}}class Ae extends ct{get definition(){return this._definition}set definition(t){this._definition=t}constructor(t){super(t.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,ue(this,ve(t,a=>a!==void 0))}}class we{constructor(t){this.idx=1,ue(this,ve(t,a=>a!==void 0))}accept(t){t.visit(this)}}function Lt(o){return(0,x.A)(o,Ht)}function Ht(o){function t(a){return(0,x.A)(a,Ht)}if(o instanceof De){const a={type:"NonTerminal",name:o.nonTerminalName,idx:o.idx};return(0,g.A)(o.label)&&(a.label=o.label),a}else{if(o instanceof E)return{type:"Alternative",definition:t(o.definition)};if(o instanceof L)return{type:"Option",idx:o.idx,definition:t(o.definition)};if(o instanceof W)return{type:"RepetitionMandatory",idx:o.idx,definition:t(o.definition)};if(o instanceof fe)return{type:"RepetitionMandatoryWithSeparator",idx:o.idx,separator:Ht(new we({terminalType:o.separator})),definition:t(o.definition)};if(o instanceof Re)return{type:"RepetitionWithSeparator",idx:o.idx,separator:Ht(new we({terminalType:o.separator})),definition:t(o.definition)};if(o instanceof ce)return{type:"Repetition",idx:o.idx,definition:t(o.definition)};if(o instanceof Ae)return{type:"Alternation",idx:o.idx,definition:t(o.definition)};if(o instanceof we){const a={type:"Terminal",name:o.terminalType.name,label:Me(o.terminalType),idx:o.idx};(0,g.A)(o.label)&&(a.terminalLabel=o.label);const u=o.terminalType.PATTERN;return o.terminalType.PATTERN&&(a.pattern=ke(u)?u.source:u),a}else{if(o instanceof qe)return{type:"Rule",name:o.name,orgText:o.orgText,definition:t(o.definition)};throw Error("non exhaustive match")}}}class dt{visit(t){const a=t;switch(a.constructor){case De:return this.visitNonTerminal(a);case E:return this.visitAlternative(a);case L:return this.visitOption(a);case W:return this.visitRepetitionMandatory(a);case fe:return this.visitRepetitionMandatoryWithSeparator(a);case Re:return this.visitRepetitionWithSeparator(a);case ce:return this.visitRepetition(a);case Ae:return this.visitAlternation(a);case we:return this.visitTerminal(a);case qe:return this.visitRule(a);default:throw Error("non exhaustive match")}}visitNonTerminal(t){}visitAlternative(t){}visitOption(t){}visitRepetition(t){}visitRepetitionMandatory(t){}visitRepetitionMandatoryWithSeparator(t){}visitRepetitionWithSeparator(t){}visitAlternation(t){}visitTerminal(t){}visitRule(t){}}var pn=R("./node_modules/lodash-es/_arraySome.js"),_t=R("./node_modules/lodash-es/_baseEach.js");function gn(o,t){var a;return(0,_t.A)(o,function(u,d,f){return a=t(u,d,f),!a}),!!a}var zt=gn,Xe=R("./node_modules/lodash-es/isArray.js"),Pt=R("./node_modules/lodash-es/_isIterateeCall.js");function yn(o,t,a){var u=(0,Xe.A)(o)?pn.A:zt;return a&&(0,Pt.A)(o,t,a)&&(t=void 0),u(o,(0,te.A)(t,3))}var bt=yn,an=R("./node_modules/lodash-es/_baseIndexOf.js"),Mt=Math.max;function Mn(o,t,a,u){o=(0,N.A)(o)?o:(0,M.A)(o),a=a&&!u?(0,A.A)(a):0;var d=o.length;return a<0&&(a=Mt(d+a,0)),(0,g.A)(o)?a<=d&&o.indexOf(t,a)>-1:!!d&&(0,an.A)(o,t,a)>-1}var Ve=Mn;function Dn(o,t){for(var a=-1,u=o==null?0:o.length;++a<u;)if(!t(o[a],a,o))return!1;return!0}var kt=Dn;function jn(o,t){var a=!0;return(0,_t.A)(o,function(u,d,f){return a=!!t(u,d,f),a}),a}var Gt=jn;function Fn(o,t,a){var u=(0,Xe.A)(o)?kt:Gt;return a&&(0,Pt.A)(o,t,a)&&(t=void 0),u(o,(0,te.A)(t,3))}var st=Fn;function Un(o){return o instanceof E||o instanceof L||o instanceof ce||o instanceof W||o instanceof fe||o instanceof Re||o instanceof we||o instanceof qe}function Et(o,t=[]){return o instanceof L||o instanceof ce||o instanceof Re?!0:o instanceof Ae?bt(o.definition,u=>Et(u,t)):o instanceof De&&Ve(t,o)?!1:o instanceof ct?(o instanceof De&&t.push(o),st(o.definition,u=>Et(u,t))):!1}function Gn(o){return o instanceof Ae}function ot(o){if(o instanceof De)return"SUBRULE";if(o instanceof L)return"OPTION";if(o instanceof Ae)return"OR";if(o instanceof W)return"AT_LEAST_ONE";if(o instanceof fe)return"AT_LEAST_ONE_SEP";if(o instanceof Re)return"MANY_SEP";if(o instanceof ce)return"MANY";if(o instanceof we)return"CONSUME";throw Error("non exhaustive match")}class Xt{walk(t,a=[]){(0,v.A)(t.definition,(u,d)=>{const f=m(t.definition,d+1);if(u instanceof De)this.walkProdRef(u,f,a);else if(u instanceof we)this.walkTerminal(u,f,a);else if(u instanceof E)this.walkFlat(u,f,a);else if(u instanceof L)this.walkOption(u,f,a);else if(u instanceof W)this.walkAtLeastOne(u,f,a);else if(u instanceof fe)this.walkAtLeastOneSep(u,f,a);else if(u instanceof Re)this.walkManySep(u,f,a);else if(u instanceof ce)this.walkMany(u,f,a);else if(u instanceof Ae)this.walkOr(u,f,a);else throw Error("non exhaustive match")})}walkTerminal(t,a,u){}walkProdRef(t,a,u){}walkFlat(t,a,u){const d=a.concat(u);this.walk(t,d)}walkOption(t,a,u){const d=a.concat(u);this.walk(t,d)}walkAtLeastOne(t,a,u){const d=[new L({definition:t.definition})].concat(a,u);this.walk(t,d)}walkAtLeastOneSep(t,a,u){const d=Dt(t,a,u);this.walk(t,d)}walkMany(t,a,u){const d=[new L({definition:t.definition})].concat(a,u);this.walk(t,d)}walkManySep(t,a,u){const d=Dt(t,a,u);this.walk(t,d)}walkOr(t,a,u){const d=a.concat(u);(0,v.A)(t.definition,f=>{const T=new E({definition:[f]});this.walk(T,d)})}}function Dt(o,t,a){return[new L({definition:[new we({terminalType:o.separator})].concat(o.definition)})].concat(t,a)}var An=R("./node_modules/lodash-es/_baseUniq.js");function It(o){return o&&o.length?(0,An.A)(o):[]}var Yt=It,et=R("./node_modules/lodash-es/flatten.js");function Ct(o){if(o instanceof De)return Ct(o.referencedRule);if(o instanceof we)return mt(o);if(Un(o))return ht(o);if(Gn(o))return jt(o);throw Error("non exhaustive match")}function ht(o){let t=[];const a=o.definition;let u=0,d=a.length>u,f,T=!0;for(;d&&T;)f=a[u],T=Et(f),t=t.concat(Ct(f)),u=u+1,d=a.length>u;return Yt(t)}function jt(o){const t=(0,x.A)(o.definition,a=>Ct(a));return Yt((0,et.A)(t))}function mt(o){return[o.terminalType]}const St="_~IN~_";class pt extends Xt{constructor(t){super(),this.topProd=t,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(t,a,u){}walkProdRef(t,a,u){const d=Ne(t.referencedRule,t.idx)+this.topProd.name,f=a.concat(u),T=new E({definition:f}),_=Ct(T);this.follows[d]=_}}function be(o){const t={};return(0,v.A)(o,a=>{const u=new pt(a).startWalking();ue(t,u)}),t}function Ne(o,t){return o.name+t+St}function Ie(o){return o.terminalType.name+o.idx+IN}var Fe=R("./node_modules/lodash-es/isUndefined.js"),it=R("./node_modules/@chevrotain/regexp-to-ast/lib/src/api.js"),Qe=R("./node_modules/lodash-es/defaults.js"),Tn=R("./node_modules/lodash-es/_arrayFilter.js"),Pe=R("./node_modules/lodash-es/_baseFilter.js"),ne="Expected a function";function B(o){if(typeof o!="function")throw new TypeError(ne);return function(){var t=arguments;switch(t.length){case 0:return!o.call(this);case 1:return!o.call(this,t[0]);case 2:return!o.call(this,t[0],t[1]);case 3:return!o.call(this,t[0],t[1],t[2])}return!o.apply(this,t)}}var Ft=B;function lt(o,t){var a=(0,Xe.A)(o)?Tn.A:Pe.A;return a(o,Ft((0,te.A)(t,3)))}var Bn=lt,Qt=R("./node_modules/lodash-es/isFunction.js"),fs=Math.max;function hs(o,t,a){var u=o==null?0:o.length;if(!u)return-1;var d=a==null?0:(0,A.A)(a);return d<0&&(d=fs(u+d,0)),(0,an.A)(o,t,d)}var sr=hs,gt=R("./node_modules/lodash-es/reduce.js"),At=R("./node_modules/lodash-es/filter.js"),ms=R("./node_modules/lodash-es/_SetCache.js"),ir=R("./node_modules/lodash-es/_arrayIncludes.js"),vn=R("./node_modules/lodash-es/_arrayIncludesWith.js"),Bt=R("./node_modules/lodash-es/_cacheHas.js"),En=200;function ut(o,t,a,u){var d=-1,f=ir.A,T=!0,_=o.length,C=[],w=t.length;if(!_)return C;a&&(t=(0,G.A)(t,(0,Ee.A)(a))),u?(f=vn.A,T=!1):t.length>=En&&(f=Bt.A,T=!1,t=new ms.A(t));e:for(;++d<_;){var Q=o[d],q=a==null?Q:a(Q);if(Q=u||Q!==0?Q:0,T&&q===q){for(var pe=w;pe--;)if(t[pe]===q)continue e;C.push(Q)}else f(t,q,u)||C.push(Q)}return C}var Zt=ut,ar=R("./node_modules/lodash-es/_baseFlatten.js"),Kn=R("./node_modules/lodash-es/_baseRest.js"),Rn=R("./node_modules/lodash-es/isArrayLikeObject.js"),Wn=(0,Kn.A)(function(o,t){return(0,Rn.A)(o)?Zt(o,(0,ar.A)(t,1,Rn.A,!0)):[]}),_n=Wn;function or(o){for(var t=-1,a=o==null?0:o.length,u=0,d=[];++t<a;){var f=o[t];f&&(d[u++]=f)}return d}var kn=or;function ha(o){return o&&o.length?o[0]:void 0}var Rt=ha,on=R("./node_modules/lodash-es/find.js");function In(o){console&&console.error&&console.error(`Error: ${o}`)}function wr(o){console&&console.warn&&console.warn(`Warning: ${o}`)}let Cn={};const Vn=new it.H;function Hn(o){const t=o.toString();if(Cn.hasOwnProperty(t))return Cn[t];{const a=Vn.pattern(t);return Cn[t]=a,a}}function ps(){Cn={}}const Lr="Complement Sets are not supported for first char optimization",zn=`Unable to use "first char" lexer optimizations:
`;function gs(o,t=!1){try{const a=Hn(o);return lr(a.value,{},a.flags.ignoreCase)}catch(a){if(a.message===Lr)t&&wr(`${zn}	Unable to optimize: < ${o.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let u="";t&&(u=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),In(`${zn}
	Failed parsing: < ${o.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+u)}}return[]}function lr(o,t,a){switch(o.type){case"Disjunction":for(let d=0;d<o.value.length;d++)lr(o.value[d],t,a);break;case"Alternative":const u=o.value;for(let d=0;d<u.length;d++){const f=u[d];switch(f.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}const T=f;switch(T.type){case"Character":Xn(T.value,t,a);break;case"Set":if(T.complement===!0)throw Error(Lr);(0,v.A)(T.value,C=>{if(typeof C=="number")Xn(C,t,a);else{const w=C;if(a===!0)for(let Q=w.from;Q<=w.to;Q++)Xn(Q,t,a);else{for(let Q=w.from;Q<=w.to&&Q<O;Q++)Xn(Q,t,a);if(w.to>=O){const Q=w.from>=O?w.from:O,q=w.to,pe=Kt(Q),Te=Kt(q);for(let Se=pe;Se<=Te;Se++)t[Se]=Se}}}});break;case"Group":lr(T.value,t,a);break;default:throw Error("Non Exhaustive Match")}const _=T.quantifier!==void 0&&T.quantifier.atLeast===0;if(T.type==="Group"&&ur(T)===!1||T.type!=="Group"&&_===!1)break}break;default:throw Error("non exhaustive match!")}return(0,M.A)(t)}function Xn(o,t,a){const u=Kt(o);t[u]=u,a===!0&&ys(o,t)}function ys(o,t){const a=String.fromCharCode(o),u=a.toUpperCase();if(u!==a){const d=Kt(u.charCodeAt(0));t[d]=d}else{const d=a.toLowerCase();if(d!==a){const f=Kt(d.charCodeAt(0));t[f]=f}}}function Yn(o,t){return(0,on.A)(o.value,a=>{if(typeof a=="number")return Ve(t,a);{const u=a;return(0,on.A)(t,d=>u.from<=d&&d<=u.to)!==void 0}})}function ur(o){const t=o.quantifier;return t&&t.atLeast===0?!0:o.value?(0,Xe.A)(o.value)?st(o.value,ur):ur(o.value):!1}class As extends it.z{constructor(t){super(),this.targetCharCodes=t,this.found=!1}visitChildren(t){if(this.found!==!0){switch(t.type){case"Lookahead":this.visitLookahead(t);return;case"NegativeLookahead":this.visitNegativeLookahead(t);return}super.visitChildren(t)}}visitCharacter(t){Ve(this.targetCharCodes,t.value)&&(this.found=!0)}visitSet(t){t.complement?Yn(t,this.targetCharCodes)===void 0&&(this.found=!0):Yn(t,this.targetCharCodes)!==void 0&&(this.found=!0)}}function cr(o,t){if(t instanceof RegExp){const a=Hn(t),u=new As(o);return u.visit(a),u.found}else return(0,on.A)(t,a=>Ve(o,a.charCodeAt(0)))!==void 0}const Jt="PATTERN",Sn="defaultMode",Qn="modes";let Zn=typeof new RegExp("(?:)").sticky=="boolean";function Si(){Zn=!1}function xi(){Zn=!0}function Ts(o,t){t=(0,Qe.A)(t,{useSticky:Zn,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:(he,ie)=>ie()});const a=t.tracer;a("initCharCodeToOptimizedIndexMap",()=>{Ur()});let u;a("Reject Lexer.NA",()=>{u=Bn(o,he=>he[Jt]===Ze.NA)});let d=!1,f;a("Transform Patterns",()=>{d=!1,f=(0,x.A)(u,he=>{const ie=he[Jt];if(ke(ie)){const $e=ie.source;return $e.length===1&&$e!=="^"&&$e!=="$"&&$e!=="."&&!ie.ignoreCase?$e:$e.length===2&&$e[0]==="\\"&&!Ve(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],$e[1])?$e[1]:t.useSticky?br(ie):fr(ie)}else{if((0,Qt.A)(ie))return d=!0,{exec:ie};if(typeof ie=="object")return d=!0,ie;if(typeof ie=="string"){if(ie.length===1)return ie;{const $e=ie.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),Oe=new RegExp($e);return t.useSticky?br(Oe):fr(Oe)}}else throw Error("non exhaustive match")}})});let T,_,C,w,Q;a("misc mapping",()=>{T=(0,x.A)(u,he=>he.tokenTypeIdx),_=(0,x.A)(u,he=>{const ie=he.GROUP;if(ie!==Ze.SKIPPED){if((0,g.A)(ie))return ie;if((0,Fe.A)(ie))return!1;throw Error("non exhaustive match")}}),C=(0,x.A)(u,he=>{const ie=he.LONGER_ALT;if(ie)return(0,Xe.A)(ie)?(0,x.A)(ie,Oe=>sr(u,Oe)):[sr(u,ie)]}),w=(0,x.A)(u,he=>he.PUSH_MODE),Q=(0,x.A)(u,he=>(0,P.A)(he,"POP_MODE"))});let q;a("Line Terminator Handling",()=>{const he=jr(t.lineTerminatorCharacters);q=(0,x.A)(u,ie=>!1),t.positionTracking!=="onlyOffset"&&(q=(0,x.A)(u,ie=>(0,P.A)(ie,"LINE_BREAKS")?!!ie.LINE_BREAKS:Dr(ie,he)===!1&&cr(he,ie.PATTERN)))});let pe,Te,Se,xe;a("Misc Mapping #2",()=>{pe=(0,x.A)(u,Mr),Te=(0,x.A)(f,Ds),Se=(0,gt.A)(u,(he,ie)=>{const $e=ie.GROUP;return(0,g.A)($e)&&$e!==Ze.SKIPPED&&(he[$e]=[]),he},{}),xe=(0,x.A)(f,(he,ie)=>({pattern:f[ie],longerAlt:C[ie],canLineTerminator:q[ie],isCustom:pe[ie],short:Te[ie],group:_[ie],push:w[ie],pop:Q[ie],tokenTypeIdx:T[ie],tokenType:u[ie]}))});let Ge=!0,_e=[];return t.safeMode||a("First Char Optimization",()=>{_e=(0,gt.A)(u,(he,ie,$e)=>{if(typeof ie.PATTERN=="string"){const Oe=ie.PATTERN.charCodeAt(0),Ot=Kt(Oe);Fr(he,Ot,xe[$e])}else if((0,Xe.A)(ie.START_CHARS_HINT)){let Oe;(0,v.A)(ie.START_CHARS_HINT,Ot=>{const ua=typeof Ot=="string"?Ot.charCodeAt(0):Ot,sn=Kt(ua);Oe!==sn&&(Oe=sn,Fr(he,sn,xe[$e]))})}else if(ke(ie.PATTERN))if(ie.PATTERN.unicode)Ge=!1,t.ensureOptimizations&&In(`${zn}	Unable to analyze < ${ie.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{const Oe=gs(ie.PATTERN,t.ensureOptimizations);(0,H.A)(Oe)&&(Ge=!1),(0,v.A)(Oe,Ot=>{Fr(he,Ot,xe[$e])})}else t.ensureOptimizations&&In(`${zn}	TokenType: <${ie.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),Ge=!1;return he},[])}),{emptyGroups:Se,patternIdxToConfig:xe,charCodeToPatternIdxToConfig:_e,hasCustom:d,canBeOptimized:Ge}}function vs(o,t){let a=[];const u=Es(o);a=a.concat(u.errors);const d=Rs(u.valid),f=d.valid;return a=a.concat(d.errors),a=a.concat(dr(f)),a=a.concat($s(f)),a=a.concat(Os(f,t)),a=a.concat(ws(f)),a}function dr(o){let t=[];const a=(0,At.A)(o,u=>ke(u[Jt]));return t=t.concat(ks(a)),t=t.concat(Ss(a)),t=t.concat(xs(a)),t=t.concat(Ns(a)),t=t.concat(Is(a)),t}function Es(o){const t=(0,At.A)(o,d=>!(0,P.A)(d,Jt)),a=(0,x.A)(t,d=>({message:"Token Type: ->"+d.name+"<- missing static 'PATTERN' property",type:Ye.MISSING_PATTERN,tokenTypes:[d]})),u=_n(o,t);return{errors:a,valid:u}}function Rs(o){const t=(0,At.A)(o,d=>{const f=d[Jt];return!ke(f)&&!(0,Qt.A)(f)&&!(0,P.A)(f,"exec")&&!(0,g.A)(f)}),a=(0,x.A)(t,d=>({message:"Token Type: ->"+d.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:Ye.INVALID_PATTERN,tokenTypes:[d]})),u=_n(o,t);return{errors:a,valid:u}}const _s=/[^\\][$]/;function ks(o){class t extends it.z{constructor(){super(...arguments),this.found=!1}visitEndAnchor(f){this.found=!0}}const a=(0,At.A)(o,d=>{const f=d.PATTERN;try{const T=Hn(f),_=new t;return _.visit(T),_.found}catch{return _s.test(f.source)}});return(0,x.A)(a,d=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+d.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Ye.EOI_ANCHOR_FOUND,tokenTypes:[d]}))}function Is(o){const t=(0,At.A)(o,u=>u.PATTERN.test(""));return(0,x.A)(t,u=>({message:"Token Type: ->"+u.name+"<- static 'PATTERN' must not match an empty string",type:Ye.EMPTY_MATCH_PATTERN,tokenTypes:[u]}))}const Cs=/[^\\[][\^]|^\^/;function Ss(o){class t extends it.z{constructor(){super(...arguments),this.found=!1}visitStartAnchor(f){this.found=!0}}const a=(0,At.A)(o,d=>{const f=d.PATTERN;try{const T=Hn(f),_=new t;return _.visit(T),_.found}catch{return Cs.test(f.source)}});return(0,x.A)(a,d=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+d.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Ye.SOI_ANCHOR_FOUND,tokenTypes:[d]}))}function xs(o){const t=(0,At.A)(o,u=>{const d=u[Jt];return d instanceof RegExp&&(d.multiline||d.global)});return(0,x.A)(t,u=>({message:"Token Type: ->"+u.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:Ye.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[u]}))}function Ns(o){const t=[];let a=(0,x.A)(o,f=>(0,gt.A)(o,(T,_)=>(f.PATTERN.source===_.PATTERN.source&&!Ve(t,_)&&_.PATTERN!==Ze.NA&&(t.push(_),T.push(_)),T),[]));a=kn(a);const u=(0,At.A)(a,f=>f.length>1);return(0,x.A)(u,f=>{const T=(0,x.A)(f,C=>C.name);return{message:`The same RegExp pattern ->${Rt(f).PATTERN}<-has been used in all of the following Token Types: ${T.join(", ")} <-`,type:Ye.DUPLICATE_PATTERNS_FOUND,tokenTypes:f}})}function $s(o){const t=(0,At.A)(o,u=>{if(!(0,P.A)(u,"GROUP"))return!1;const d=u.GROUP;return d!==Ze.SKIPPED&&d!==Ze.NA&&!(0,g.A)(d)});return(0,x.A)(t,u=>({message:"Token Type: ->"+u.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:Ye.INVALID_GROUP_TYPE_FOUND,tokenTypes:[u]}))}function Os(o,t){const a=(0,At.A)(o,d=>d.PUSH_MODE!==void 0&&!Ve(t,d.PUSH_MODE));return(0,x.A)(a,d=>({message:`Token Type: ->${d.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${d.PUSH_MODE}<-which does not exist`,type:Ye.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[d]}))}function ws(o){const t=[],a=(0,gt.A)(o,(u,d,f)=>{const T=d.PATTERN;return T===Ze.NA||((0,g.A)(T)?u.push({str:T,idx:f,tokenType:d}):ke(T)&&Pr(T)&&u.push({str:T.source,idx:f,tokenType:d})),u},[]);return(0,v.A)(o,(u,d)=>{(0,v.A)(a,({str:f,idx:T,tokenType:_})=>{if(d<T&&Ls(f,u.PATTERN)){const C=`Token: ->${_.name}<- can never be matched.
Because it appears AFTER the Token Type ->${u.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;t.push({message:C,type:Ye.UNREACHABLE_PATTERN,tokenTypes:[u,_]})}})}),t}function Ls(o,t){if(ke(t)){const a=t.exec(o);return a!==null&&a.index===0}else{if((0,Qt.A)(t))return t(o,0,[],{});if((0,P.A)(t,"exec"))return t.exec(o,0,[],{});if(typeof t=="string")return t===o;throw Error("non exhaustive match")}}function Pr(o){const t=[".","\\","[","]","|","^","$","(",")","?","*","+","{"];return(0,on.A)(t,a=>o.source.indexOf(a)!==-1)===void 0}function fr(o){const t=o.ignoreCase?"i":"";return new RegExp(`^(?:${o.source})`,t)}function br(o){const t=o.ignoreCase?"iy":"y";return new RegExp(`${o.source}`,t)}function Ps(o,t,a){const u=[];return(0,P.A)(o,Sn)||u.push({message:"A MultiMode Lexer cannot be initialized without a <"+Sn+`> property in its definition
`,type:Ye.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),(0,P.A)(o,Qn)||u.push({message:"A MultiMode Lexer cannot be initialized without a <"+Qn+`> property in its definition
`,type:Ye.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),(0,P.A)(o,Qn)&&(0,P.A)(o,Sn)&&!(0,P.A)(o.modes,o.defaultMode)&&u.push({message:`A MultiMode Lexer cannot be initialized with a ${Sn}: <${o.defaultMode}>which does not exist
`,type:Ye.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),(0,P.A)(o,Qn)&&(0,v.A)(o.modes,(d,f)=>{(0,v.A)(d,(T,_)=>{if((0,Fe.A)(T))u.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${f}> at index: <${_}>
`,type:Ye.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if((0,P.A)(T,"LONGER_ALT")){const C=(0,Xe.A)(T.LONGER_ALT)?T.LONGER_ALT:[T.LONGER_ALT];(0,v.A)(C,w=>{!(0,Fe.A)(w)&&!Ve(d,w)&&u.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${w.name}> on token <${T.name}> outside of mode <${f}>
`,type:Ye.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),u}function bs(o,t,a){const u=[];let d=!1;const f=kn((0,et.A)((0,M.A)(o.modes))),T=Bn(f,C=>C[Jt]===Ze.NA),_=jr(a);return t&&(0,v.A)(T,C=>{const w=Dr(C,_);if(w!==!1){const q={message:ma(C,w),type:w.issue,tokenType:C};u.push(q)}else(0,P.A)(C,"LINE_BREAKS")?C.LINE_BREAKS===!0&&(d=!0):cr(_,C.PATTERN)&&(d=!0)}),t&&!d&&u.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:Ye.NO_LINE_BREAKS_FLAGS}),u}function Ms(o){const t={},a=(0,F.A)(o);return(0,v.A)(a,u=>{const d=o[u];if((0,Xe.A)(d))t[u]=[];else throw Error("non exhaustive match")}),t}function Mr(o){const t=o.PATTERN;if(ke(t))return!1;if((0,Qt.A)(t))return!0;if((0,P.A)(t,"exec"))return!0;if((0,g.A)(t))return!1;throw Error("non exhaustive match")}function Ds(o){return(0,g.A)(o)&&o.length===1?o.charCodeAt(0):!1}const js={test:function(o){const t=o.length;for(let a=this.lastIndex;a<t;a++){const u=o.charCodeAt(a);if(u===10)return this.lastIndex=a+1,!0;if(u===13)return o.charCodeAt(a+1)===10?this.lastIndex=a+2:this.lastIndex=a+1,!0}return!1},lastIndex:0};function Dr(o,t){if((0,P.A)(o,"LINE_BREAKS"))return!1;if(ke(o.PATTERN)){try{cr(t,o.PATTERN)}catch(a){return{issue:Ye.IDENTIFY_TERMINATOR,errMsg:a.message}}return!1}else{if((0,g.A)(o.PATTERN))return!1;if(Mr(o))return{issue:Ye.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function ma(o,t){if(t.issue===Ye.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${o.name}> Token Type
	 Root cause: ${t.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(t.issue===Ye.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${o.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function jr(o){return(0,x.A)(o,a=>(0,g.A)(a)?a.charCodeAt(0):a)}function Fr(o,t,a){o[t]===void 0?o[t]=[a]:o[t].push(a)}const O=256;let hr=[];function Kt(o){return o<O?o:hr[o]}function Ur(){if((0,H.A)(hr)){hr=new Array(65536);for(let o=0;o<65536;o++)hr[o]=o>255?255+~~(o/255):o}}var mr=R("./node_modules/lodash-es/identity.js"),tt=R("./node_modules/lodash-es/noop.js"),ln=R("./node_modules/lodash-es/last.js");function pr(o){const t=new Date().getTime(),a=o();return{time:new Date().getTime()-t,value:a}}function un(o,t){const a=o.tokenTypeIdx;return a===t.tokenTypeIdx?!0:t.isParent===!0&&t.categoryMatchesMap[a]===!0}function Jn(o,t){return o.tokenTypeIdx===t.tokenTypeIdx}let Gr=1;const Br={};function qn(o){const t=Ni(o);Fs(t),Oi(t),$i(t),(0,v.A)(t,a=>{a.isParent=a.categoryMatches.length>0})}function Ni(o){let t=(0,D.A)(o),a=o,u=!0;for(;u;){a=kn((0,et.A)((0,x.A)(a,f=>f.CATEGORIES)));const d=_n(a,t);t=t.concat(d),(0,H.A)(d)?u=!1:a=d}return t}function Fs(o){(0,v.A)(o,t=>{cn(t)||(Br[Gr]=t,t.tokenTypeIdx=Gr++),at(t)&&!(0,Xe.A)(t.CATEGORIES)&&(t.CATEGORIES=[t.CATEGORIES]),at(t)||(t.CATEGORIES=[]),Gs(t)||(t.categoryMatches=[]),wi(t)||(t.categoryMatchesMap={})})}function $i(o){(0,v.A)(o,t=>{t.categoryMatches=[],(0,v.A)(t.categoryMatchesMap,(a,u)=>{t.categoryMatches.push(Br[u].tokenTypeIdx)})})}function Oi(o){(0,v.A)(o,t=>{Us([],t)})}function Us(o,t){(0,v.A)(o,a=>{t.categoryMatchesMap[a.tokenTypeIdx]=!0}),(0,v.A)(t.CATEGORIES,a=>{const u=o.concat(t);Ve(u,a)||Us(u,a)})}function cn(o){return(0,P.A)(o,"tokenTypeIdx")}function at(o){return(0,P.A)(o,"CATEGORIES")}function Gs(o){return(0,P.A)(o,"categoryMatches")}function wi(o){return(0,P.A)(o,"categoryMatchesMap")}function dn(o){return(0,P.A)(o,"tokenTypeIdx")}const Bs={buildUnableToPopLexerModeMessage(o){return`Unable to pop Lexer Mode after encountering Token ->${o.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(o,t,a,u,d){return`unexpected character: ->${o.charAt(t)}<- at offset: ${t}, skipped ${a} characters.`}};var Ye;(function(o){o[o.MISSING_PATTERN=0]="MISSING_PATTERN",o[o.INVALID_PATTERN=1]="INVALID_PATTERN",o[o.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",o[o.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",o[o.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",o[o.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",o[o.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",o[o.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",o[o.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",o[o.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",o[o.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",o[o.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",o[o.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",o[o.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",o[o.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",o[o.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",o[o.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",o[o.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(Ye||(Ye={}));const er={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:Bs,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(er);class Ze{constructor(t,a=er){if(this.lexerDefinition=t,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(d,f)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;const T=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${T}--> <${d}>`);const{time:_,value:C}=pr(f),w=_>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&w(`${T}<-- <${d}> time: ${_}ms`),this.traceInitIndent--,C}else return f()},typeof a=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=ue({},er,a);const u=this.config.traceInitPerf;u===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof u=="number"&&(this.traceInitMaxIdent=u,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let d,f=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===er.lineTerminatorsPattern)this.config.lineTerminatorsPattern=js;else if(this.config.lineTerminatorCharacters===er.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(a.safeMode&&a.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),(0,Xe.A)(t)?d={modes:{defaultMode:(0,D.A)(t)},defaultMode:Sn}:(f=!1,d=(0,D.A)(t))}),this.config.skipValidations===!1&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(Ps(d,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(bs(d,this.trackStartLines,this.config.lineTerminatorCharacters))})),d.modes=d.modes?d.modes:{},(0,v.A)(d.modes,(_,C)=>{d.modes[C]=Bn(_,w=>(0,Fe.A)(w))});const T=(0,F.A)(d.modes);if((0,v.A)(d.modes,(_,C)=>{this.TRACE_INIT(`Mode: <${C}> processing`,()=>{if(this.modes.push(C),this.config.skipValidations===!1&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(vs(_,T))}),(0,H.A)(this.lexerDefinitionErrors)){qn(_);let w;this.TRACE_INIT("analyzeTokenTypes",()=>{w=Ts(_,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:a.positionTracking,ensureOptimizations:a.ensureOptimizations,safeMode:a.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[C]=w.patternIdxToConfig,this.charCodeToPatternIdxToConfig[C]=w.charCodeToPatternIdxToConfig,this.emptyGroups=ue({},this.emptyGroups,w.emptyGroups),this.hasCustom=w.hasCustom||this.hasCustom,this.canModeBeOptimized[C]=w.canBeOptimized}})}),this.defaultMode=d.defaultMode,!(0,H.A)(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){const C=(0,x.A)(this.lexerDefinitionErrors,w=>w.message).join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+C)}(0,v.A)(this.lexerDefinitionWarning,_=>{wr(_.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(Zn?(this.chopInput=mr.A,this.match=this.matchWithTest):(this.updateLastIndex=tt.A,this.match=this.matchWithExec),f&&(this.handleModes=tt.A),this.trackStartLines===!1&&(this.computeNewColumn=mr.A),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=tt.A),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{const _=(0,gt.A)(this.canModeBeOptimized,(C,w,Q)=>(w===!1&&C.push(Q),C),[]);if(a.ensureOptimizations&&!(0,H.A)(_))throw Error(`Lexer Modes: < ${_.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{ps()}),this.TRACE_INIT("toFastProperties",()=>{K(this)})})}tokenize(t,a=this.defaultMode){if(!(0,H.A)(this.lexerDefinitionErrors)){const d=(0,x.A)(this.lexerDefinitionErrors,f=>f.message).join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+d)}return this.tokenizeInternal(t,a)}tokenizeInternal(t,a){let u,d,f,T,_,C,w,Q,q,pe,Te,Se,xe,Ge,_e,he;const ie=t,$e=ie.length;let Oe=0,Ot=0;const ua=this.hasCustom?0:Math.floor(t.length/10),sn=new Array(ua),ca=[];let ls=this.trackStartLines?1:void 0,wn=this.trackStartLines?1:void 0;const us=Ms(this.emptyGroups),Ga=this.trackStartLines,da=this.config.lineTerminatorsPattern;let Ii=0,Ln=[],cs=[];const Ci=[],ka=[];Object.freeze(ka);let ds;function Ia(){return Ln}function Ca(yt){const Ut=Kt(yt),Or=cs[Ut];return Or===void 0?ka:Or}const Ba=yt=>{if(Ci.length===1&&yt.tokenType.PUSH_MODE===void 0){const Ut=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(yt);ca.push({offset:yt.startOffset,line:yt.startLine,column:yt.startColumn,length:yt.image.length,message:Ut})}else{Ci.pop();const Ut=(0,ln.A)(Ci);Ln=this.patternIdxToConfig[Ut],cs=this.charCodeToPatternIdxToConfig[Ut],Ii=Ln.length;const Or=this.canModeBeOptimized[Ut]&&this.config.safeMode===!1;cs&&Or?ds=Ca:ds=Ia}};function Sa(yt){Ci.push(yt),cs=this.charCodeToPatternIdxToConfig[yt],Ln=this.patternIdxToConfig[yt],Ii=Ln.length,Ii=Ln.length;const Ut=this.canModeBeOptimized[yt]&&this.config.safeMode===!1;cs&&Ut?ds=Ca:ds=Ia}Sa.call(this,a);let Vt;const xa=this.config.recoveryEnabled;for(;Oe<$e;){C=null;const yt=ie.charCodeAt(Oe),Ut=ds(yt),Or=Ut.length;for(u=0;u<Or;u++){Vt=Ut[u];const wt=Vt.pattern;w=null;const hn=Vt.short;if(hn!==!1?yt===hn&&(C=wt):Vt.isCustom===!0?(he=wt.exec(ie,Oe,sn,us),he!==null?(C=he[0],he.payload!==void 0&&(w=he.payload)):C=null):(this.updateLastIndex(wt,Oe),C=this.match(wt,t,Oe)),C!==null){if(_=Vt.longerAlt,_!==void 0){const Pn=_.length;for(f=0;f<Pn;f++){const mn=Ln[_[f]],rr=mn.pattern;if(Q=null,mn.isCustom===!0?(he=rr.exec(ie,Oe,sn,us),he!==null?(T=he[0],he.payload!==void 0&&(Q=he.payload)):T=null):(this.updateLastIndex(rr,Oe),T=this.match(rr,t,Oe)),T&&T.length>C.length){C=T,w=Q,Vt=mn;break}}}break}}if(C!==null){if(q=C.length,pe=Vt.group,pe!==void 0&&(Te=Vt.tokenTypeIdx,Se=this.createTokenInstance(C,Oe,Te,Vt.tokenType,ls,wn,q),this.handlePayload(Se,w),pe===!1?Ot=this.addToken(sn,Ot,Se):us[pe].push(Se)),t=this.chopInput(t,q),Oe=Oe+q,wn=this.computeNewColumn(wn,q),Ga===!0&&Vt.canLineTerminator===!0){let wt=0,hn,Pn;da.lastIndex=0;do hn=da.test(C),hn===!0&&(Pn=da.lastIndex-1,wt++);while(hn===!0);wt!==0&&(ls=ls+wt,wn=q-Pn,this.updateTokenEndLineColumnLocation(Se,pe,Pn,wt,ls,wn,q))}this.handleModes(Vt,Ba,Sa,Se)}else{const wt=Oe,hn=ls,Pn=wn;let mn=xa===!1;for(;mn===!1&&Oe<$e;)for(t=this.chopInput(t,1),Oe++,d=0;d<Ii;d++){const rr=Ln[d],fa=rr.pattern,Na=rr.short;if(Na!==!1?ie.charCodeAt(Oe)===Na&&(mn=!0):rr.isCustom===!0?mn=fa.exec(ie,Oe,sn,us)!==null:(this.updateLastIndex(fa,Oe),mn=fa.exec(t)!==null),mn===!0)break}if(xe=Oe-wt,wn=this.computeNewColumn(wn,xe),_e=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(ie,wt,xe,hn,Pn),ca.push({offset:wt,line:hn,column:Pn,length:xe,message:_e}),xa===!1)break}}return this.hasCustom||(sn.length=Ot),{tokens:sn,groups:us,errors:ca}}handleModes(t,a,u,d){if(t.pop===!0){const f=t.push;a(d),f!==void 0&&u.call(this,f)}else t.push!==void 0&&u.call(this,t.push)}chopInput(t,a){return t.substring(a)}updateLastIndex(t,a){t.lastIndex=a}updateTokenEndLineColumnLocation(t,a,u,d,f,T,_){let C,w;a!==void 0&&(C=u===_-1,w=C?-1:0,d===1&&C===!0||(t.endLine=f+w,t.endColumn=T-1+-w))}computeNewColumn(t,a){return t+a}createOffsetOnlyToken(t,a,u,d){return{image:t,startOffset:a,tokenTypeIdx:u,tokenType:d}}createStartOnlyToken(t,a,u,d,f,T){return{image:t,startOffset:a,startLine:f,startColumn:T,tokenTypeIdx:u,tokenType:d}}createFullToken(t,a,u,d,f,T,_){return{image:t,startOffset:a,endOffset:a+_-1,startLine:f,endLine:f,startColumn:T,endColumn:T+_-1,tokenTypeIdx:u,tokenType:d}}addTokenUsingPush(t,a,u){return t.push(u),a}addTokenUsingMemberAccess(t,a,u){return t[a]=u,a++,a}handlePayloadNoCustom(t,a){}handlePayloadWithCustom(t,a){a!==null&&(t.payload=a)}matchWithTest(t,a,u){return t.test(a)===!0?a.substring(u,t.lastIndex):null}matchWithExec(t,a){const u=t.exec(a);return u!==null?u[0]:null}}Ze.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",Ze.NA=/NOT_APPLICABLE/;function xn(o){return Ks(o)?o.LABEL:o.name}function pa(o){return o.name}function Ks(o){return(0,g.A)(o.LABEL)&&o.LABEL!==""}const gr="parent",Kr="categories",Ws="label",Wr="group",Vr="push_mode",Vs="pop_mode",yr="longer_alt",Hs="line_breaks",zs="start_chars_hint";function Xs(o){return Li(o)}function Li(o){const t=o.pattern,a={};if(a.name=o.name,(0,Fe.A)(t)||(a.PATTERN=t),(0,P.A)(o,gr))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return(0,P.A)(o,Kr)&&(a.CATEGORIES=o[Kr]),qn([a]),(0,P.A)(o,Ws)&&(a.LABEL=o[Ws]),(0,P.A)(o,Wr)&&(a.GROUP=o[Wr]),(0,P.A)(o,Vs)&&(a.POP_MODE=o[Vs]),(0,P.A)(o,Vr)&&(a.PUSH_MODE=o[Vr]),(0,P.A)(o,yr)&&(a.LONGER_ALT=o[yr]),(0,P.A)(o,Hs)&&(a.LINE_BREAKS=o[Hs]),(0,P.A)(o,zs)&&(a.START_CHARS_HINT=o[zs]),a}const qt=Xs({name:"EOF",pattern:Ze.NA});qn([qt]);function Ke(o,t,a,u,d,f,T,_){return{image:t,startOffset:a,endOffset:u,startLine:d,endLine:f,startColumn:T,endColumn:_,tokenTypeIdx:o.tokenTypeIdx,tokenType:o}}function Ue(o,t){return un(o,t)}const Hr={buildMismatchTokenMessage({expected:o,actual:t,previous:a,ruleName:u}){return`Expecting ${Ks(o)?`--> ${xn(o)} <--`:`token of type --> ${o.name} <--`} but found --> '${t.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:o,ruleName:t}){return"Redundant input, expecting EOF but found: "+o.image},buildNoViableAltMessage({expectedPathsPerAlt:o,actual:t,previous:a,customUserDescription:u,ruleName:d}){const f="Expecting: ",_=`
but found: '`+Rt(t).image+"'";if(u)return f+u+_;{const C=(0,gt.A)(o,(pe,Te)=>pe.concat(Te),[]),w=(0,x.A)(C,pe=>`[${(0,x.A)(pe,Te=>xn(Te)).join(", ")}]`),q=`one of these possible Token sequences:
${(0,x.A)(w,(pe,Te)=>`  ${Te+1}. ${pe}`).join(`
`)}`;return f+q+_}},buildEarlyExitMessage({expectedIterationPaths:o,actual:t,customUserDescription:a,ruleName:u}){const d="Expecting: ",T=`
but found: '`+Rt(t).image+"'";if(a)return d+a+T;{const C=`expecting at least one iteration which starts with one of these possible Token sequences::
  <${(0,x.A)(o,w=>`[${(0,x.A)(w,Q=>xn(Q)).join(",")}]`).join(" ,")}>`;return d+C+T}}};Object.freeze(Hr);const Ar={buildRuleNotFoundError(o,t){return"Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+`<-
inside top level rule: ->`+o.name+"<-"}},en={buildDuplicateFoundError(o,t){function a(Q){return Q instanceof we?Q.terminalType.name:Q instanceof De?Q.nonTerminalName:""}const u=o.name,d=Rt(t),f=d.idx,T=ot(d),_=a(d),C=f>0;let w=`->${T}${C?f:""}<- ${_?`with argument: ->${_}<-`:""}
                  appears more than once (${t.length} times) in the top level rule: ->${u}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return w=w.replace(/[ \t]+/g," "),w=w.replace(/\s\s+/g,`
`),w},buildNamespaceConflictError(o){return`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${o.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(o){const t=(0,x.A)(o.prefixPath,d=>xn(d)).join(", "),a=o.alternation.idx===0?"":o.alternation.idx;return`Ambiguous alternatives: <${o.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${a}> inside <${o.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(o){const t=(0,x.A)(o.prefixPath,d=>xn(d)).join(", "),a=o.alternation.idx===0?"":o.alternation.idx;let u=`Ambiguous Alternatives Detected: <${o.ambiguityIndices.join(" ,")}> in <OR${a}> inside <${o.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
`;return u=u+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,u},buildEmptyRepetitionError(o){let t=ot(o.repetition);return o.repetition.idx!==0&&(t+=o.repetition.idx),`The repetition <${t}> within Rule <${o.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError(o){return"deprecated"},buildEmptyAlternationError(o){return`Ambiguous empty alternative: <${o.emptyChoiceIdx+1}> in <OR${o.alternation.idx}> inside <${o.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`},buildTooManyAlternativesError(o){return`An Alternation cannot have more than 256 alternatives:
<OR${o.alternation.idx}> inside <${o.topLevelRule.name}> Rule.
 has ${o.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(o){const t=o.topLevelRule.name,a=(0,x.A)(o.leftRecursionPath,f=>f.name),u=`${t} --> ${a.concat([t]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${t}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${u}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(o){return"deprecated"},buildDuplicateRuleNameError(o){let t;return o.topLevelRule instanceof qe?t=o.topLevelRule.name:t=o.topLevelRule,`Duplicate definition, rule: ->${t}<- is already defined in the grammar: ->${o.grammarName}<-`}};function Pi(o,t){const a=new ga(o,t);return a.resolveRefs(),a.errors}class ga extends dt{constructor(t,a){super(),this.nameToTopRule=t,this.errMsgProvider=a,this.errors=[]}resolveRefs(){(0,v.A)((0,M.A)(this.nameToTopRule),t=>{this.currTopLevel=t,t.accept(this)})}visitNonTerminal(t){const a=this.nameToTopRule[t.nonTerminalName];if(a)t.referencedRule=a;else{const u=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,t);this.errors.push({message:u,type:vt.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:t.nonTerminalName})}}}var ft=R("./node_modules/lodash-es/flatMap.js"),Tr=R("./node_modules/lodash-es/_baseAssignValue.js");function Tt(o,t,a,u){for(var d=-1,f=o==null?0:o.length;++d<f;){var T=o[d];t(u,T,a(T),o)}return u}var zr=Tt;function tr(o,t,a,u){return(0,_t.A)(o,function(d,f,T){t(u,d,a(d),T)}),u}var Xr=tr;function Yr(o,t){return function(a,u){var d=(0,Xe.A)(a)?zr:Xr,f=t?t():{};return d(a,o,(0,te.A)(u,2),f)}}var Ys=Yr,Qs=Object.prototype,Zs=Qs.hasOwnProperty,bi=Ys(function(o,t,a){Zs.call(o,a)?o[a].push(t):(0,Tr.A)(o,a,[t])}),xt=bi;function He(o,t,a){var u=o==null?0:o.length;return u?(t=a||t===void 0?1:(0,A.A)(t),t=u-t,k(o,0,t<0?0:t)):[]}var nr=He;class Mi extends Xt{constructor(t,a){super(),this.topProd=t,this.path=a,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=(0,D.A)(this.path.ruleStack).reverse(),this.occurrenceStack=(0,D.A)(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(t,a=[]){this.found||super.walk(t,a)}walkProdRef(t,a,u){if(t.referencedRule.name===this.nextProductionName&&t.idx===this.nextProductionOccurrence){const d=a.concat(u);this.updateExpectedNext(),this.walk(t.referencedRule,d)}}updateExpectedNext(){(0,H.A)(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}class Qr extends Mi{constructor(t,a){super(t,a),this.path=a,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(t,a,u){if(this.isAtEndOfPath&&t.terminalType.name===this.nextTerminalName&&t.idx===this.nextTerminalOccurrence&&!this.found){const d=a.concat(u),f=new E({definition:d});this.possibleTokTypes=Ct(f),this.found=!0}}}class vr extends Xt{constructor(t,a){super(),this.topRule=t,this.occurrence=a,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}}class Di extends vr{walkMany(t,a,u){if(t.idx===this.occurrence){const d=Rt(a.concat(u));this.result.isEndOfRule=d===void 0,d instanceof we&&(this.result.token=d.terminalType,this.result.occurrence=d.idx)}else super.walkMany(t,a,u)}}class Js extends vr{walkManySep(t,a,u){if(t.idx===this.occurrence){const d=Rt(a.concat(u));this.result.isEndOfRule=d===void 0,d instanceof we&&(this.result.token=d.terminalType,this.result.occurrence=d.idx)}else super.walkManySep(t,a,u)}}class tn extends vr{walkAtLeastOne(t,a,u){if(t.idx===this.occurrence){const d=Rt(a.concat(u));this.result.isEndOfRule=d===void 0,d instanceof we&&(this.result.token=d.terminalType,this.result.occurrence=d.idx)}else super.walkAtLeastOne(t,a,u)}}class qs extends vr{walkAtLeastOneSep(t,a,u){if(t.idx===this.occurrence){const d=Rt(a.concat(u));this.result.isEndOfRule=d===void 0,d instanceof we&&(this.result.token=d.terminalType,this.result.occurrence=d.idx)}else super.walkAtLeastOneSep(t,a,u)}}function Nn(o,t,a=[]){a=(0,D.A)(a);let u=[],d=0;function f(_){return _.concat(m(o,d+1))}function T(_){const C=Nn(f(_),t,a);return u.concat(C)}for(;a.length<t&&d<o.length;){const _=o[d];if(_ instanceof E)return T(_.definition);if(_ instanceof De)return T(_.definition);if(_ instanceof L)u=T(_.definition);else if(_ instanceof W){const C=_.definition.concat([new ce({definition:_.definition})]);return T(C)}else if(_ instanceof fe){const C=[new E({definition:_.definition}),new ce({definition:[new we({terminalType:_.separator})].concat(_.definition)})];return T(C)}else if(_ instanceof Re){const C=_.definition.concat([new ce({definition:[new we({terminalType:_.separator})].concat(_.definition)})]);u=T(C)}else if(_ instanceof ce){const C=_.definition.concat([new ce({definition:_.definition})]);u=T(C)}else{if(_ instanceof Ae)return(0,v.A)(_.definition,C=>{(0,H.A)(C.definition)===!1&&(u=T(C.definition))}),u;if(_ instanceof we)a.push(_.terminalType);else throw Error("non exhaustive match")}d++}return u.push({partialPath:a,suffixDef:m(o,d)}),u}function Zr(o,t,a,u){const d="EXIT_NONE_TERMINAL",f=[d],T="EXIT_ALTERNATIVE";let _=!1;const C=t.length,w=C-u-1,Q=[],q=[];for(q.push({idx:-1,def:o,ruleStack:[],occurrenceStack:[]});!(0,H.A)(q);){const pe=q.pop();if(pe===T){_&&(0,ln.A)(q).idx<=w&&q.pop();continue}const Te=pe.def,Se=pe.idx,xe=pe.ruleStack,Ge=pe.occurrenceStack;if((0,H.A)(Te))continue;const _e=Te[0];if(_e===d){const he={idx:Se,def:m(Te),ruleStack:nr(xe),occurrenceStack:nr(Ge)};q.push(he)}else if(_e instanceof we)if(Se<C-1){const he=Se+1,ie=t[he];if(a(ie,_e.terminalType)){const $e={idx:he,def:m(Te),ruleStack:xe,occurrenceStack:Ge};q.push($e)}}else if(Se===C-1)Q.push({nextTokenType:_e.terminalType,nextTokenOccurrence:_e.idx,ruleStack:xe,occurrenceStack:Ge}),_=!0;else throw Error("non exhaustive match");else if(_e instanceof De){const he=(0,D.A)(xe);he.push(_e.nonTerminalName);const ie=(0,D.A)(Ge);ie.push(_e.idx);const $e={idx:Se,def:_e.definition.concat(f,m(Te)),ruleStack:he,occurrenceStack:ie};q.push($e)}else if(_e instanceof L){const he={idx:Se,def:m(Te),ruleStack:xe,occurrenceStack:Ge};q.push(he),q.push(T);const ie={idx:Se,def:_e.definition.concat(m(Te)),ruleStack:xe,occurrenceStack:Ge};q.push(ie)}else if(_e instanceof W){const he=new ce({definition:_e.definition,idx:_e.idx}),ie=_e.definition.concat([he],m(Te)),$e={idx:Se,def:ie,ruleStack:xe,occurrenceStack:Ge};q.push($e)}else if(_e instanceof fe){const he=new we({terminalType:_e.separator}),ie=new ce({definition:[he].concat(_e.definition),idx:_e.idx}),$e=_e.definition.concat([ie],m(Te)),Oe={idx:Se,def:$e,ruleStack:xe,occurrenceStack:Ge};q.push(Oe)}else if(_e instanceof Re){const he={idx:Se,def:m(Te),ruleStack:xe,occurrenceStack:Ge};q.push(he),q.push(T);const ie=new we({terminalType:_e.separator}),$e=new ce({definition:[ie].concat(_e.definition),idx:_e.idx}),Oe=_e.definition.concat([$e],m(Te)),Ot={idx:Se,def:Oe,ruleStack:xe,occurrenceStack:Ge};q.push(Ot)}else if(_e instanceof ce){const he={idx:Se,def:m(Te),ruleStack:xe,occurrenceStack:Ge};q.push(he),q.push(T);const ie=new ce({definition:_e.definition,idx:_e.idx}),$e=_e.definition.concat([ie],m(Te)),Oe={idx:Se,def:$e,ruleStack:xe,occurrenceStack:Ge};q.push(Oe)}else if(_e instanceof Ae)for(let he=_e.definition.length-1;he>=0;he--){const ie=_e.definition[he],$e={idx:Se,def:ie.definition.concat(m(Te)),ruleStack:xe,occurrenceStack:Ge};q.push($e),q.push(T)}else if(_e instanceof E)q.push({idx:Se,def:_e.definition.concat(m(Te)),ruleStack:xe,occurrenceStack:Ge});else if(_e instanceof qe)q.push(ji(_e,Se,xe,Ge));else throw Error("non exhaustive match")}return Q}function ji(o,t,a,u){const d=(0,D.A)(a);d.push(o.name);const f=(0,D.A)(u);return f.push(1),{idx:t,def:o.definition,ruleStack:d,occurrenceStack:f}}var ze;(function(o){o[o.OPTION=0]="OPTION",o[o.REPETITION=1]="REPETITION",o[o.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",o[o.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",o[o.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",o[o.ALTERNATION=5]="ALTERNATION"})(ze||(ze={}));function Jr(o){if(o instanceof L||o==="Option")return ze.OPTION;if(o instanceof ce||o==="Repetition")return ze.REPETITION;if(o instanceof W||o==="RepetitionMandatory")return ze.REPETITION_MANDATORY;if(o instanceof fe||o==="RepetitionMandatoryWithSeparator")return ze.REPETITION_MANDATORY_WITH_SEPARATOR;if(o instanceof Re||o==="RepetitionWithSeparator")return ze.REPETITION_WITH_SEPARATOR;if(o instanceof Ae||o==="Alternation")return ze.ALTERNATION;throw Error("non exhaustive match")}function ya(o){const{occurrence:t,rule:a,prodType:u,maxLookahead:d}=o,f=Jr(u);return f===ze.ALTERNATION?nn(t,a,d):fn(t,a,f,d)}function ei(o,t,a,u,d,f){const T=nn(o,t,a),_=ii(T)?Jn:un;return f(T,u,_,d)}function Fi(o,t,a,u,d,f){const T=fn(o,t,d,a),_=ii(T)?Jn:un;return f(T[0],_,u)}function ti(o,t,a,u){const d=o.length,f=st(o,T=>st(T,_=>_.length===1));if(t)return function(T){const _=(0,x.A)(T,C=>C.GATE);for(let C=0;C<d;C++){const w=o[C],Q=w.length,q=_[C];if(!(q!==void 0&&q.call(this)===!1))e:for(let pe=0;pe<Q;pe++){const Te=w[pe],Se=Te.length;for(let xe=0;xe<Se;xe++){const Ge=this.LA(xe+1);if(a(Ge,Te[xe])===!1)continue e}return C}}};if(f&&!u){const T=(0,x.A)(o,C=>(0,et.A)(C)),_=(0,gt.A)(T,(C,w,Q)=>((0,v.A)(w,q=>{(0,P.A)(C,q.tokenTypeIdx)||(C[q.tokenTypeIdx]=Q),(0,v.A)(q.categoryMatches,pe=>{(0,P.A)(C,pe)||(C[pe]=Q)})}),C),{});return function(){const C=this.LA(1);return _[C.tokenTypeIdx]}}else return function(){for(let T=0;T<d;T++){const _=o[T],C=_.length;e:for(let w=0;w<C;w++){const Q=_[w],q=Q.length;for(let pe=0;pe<q;pe++){const Te=this.LA(pe+1);if(a(Te,Q[pe])===!1)continue e}return T}}}}function Aa(o,t,a){const u=st(o,f=>f.length===1),d=o.length;if(u&&!a){const f=(0,et.A)(o);if(f.length===1&&(0,H.A)(f[0].categoryMatches)){const _=f[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===_}}else{const T=(0,gt.A)(f,(_,C,w)=>(_[C.tokenTypeIdx]=!0,(0,v.A)(C.categoryMatches,Q=>{_[Q]=!0}),_),[]);return function(){const _=this.LA(1);return T[_.tokenTypeIdx]===!0}}}else return function(){e:for(let f=0;f<d;f++){const T=o[f],_=T.length;for(let C=0;C<_;C++){const w=this.LA(C+1);if(t(w,T[C])===!1)continue e}return!0}return!1}}class Ui extends Xt{constructor(t,a,u){super(),this.topProd=t,this.targetOccurrence=a,this.targetProdType=u}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(t,a,u,d){return t.idx===this.targetOccurrence&&this.targetProdType===a?(this.restDef=u.concat(d),!0):!1}walkOption(t,a,u){this.checkIsTarget(t,ze.OPTION,a,u)||super.walkOption(t,a,u)}walkAtLeastOne(t,a,u){this.checkIsTarget(t,ze.REPETITION_MANDATORY,a,u)||super.walkOption(t,a,u)}walkAtLeastOneSep(t,a,u){this.checkIsTarget(t,ze.REPETITION_MANDATORY_WITH_SEPARATOR,a,u)||super.walkOption(t,a,u)}walkMany(t,a,u){this.checkIsTarget(t,ze.REPETITION,a,u)||super.walkOption(t,a,u)}walkManySep(t,a,u){this.checkIsTarget(t,ze.REPETITION_WITH_SEPARATOR,a,u)||super.walkOption(t,a,u)}}class ni extends dt{constructor(t,a,u){super(),this.targetOccurrence=t,this.targetProdType=a,this.targetRef=u,this.result=[]}checkIsTarget(t,a){t.idx===this.targetOccurrence&&this.targetProdType===a&&(this.targetRef===void 0||t===this.targetRef)&&(this.result=t.definition)}visitOption(t){this.checkIsTarget(t,ze.OPTION)}visitRepetition(t){this.checkIsTarget(t,ze.REPETITION)}visitRepetitionMandatory(t){this.checkIsTarget(t,ze.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(t){this.checkIsTarget(t,ze.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(t){this.checkIsTarget(t,ze.REPETITION_WITH_SEPARATOR)}visitAlternation(t){this.checkIsTarget(t,ze.ALTERNATION)}}function ri(o){const t=new Array(o);for(let a=0;a<o;a++)t[a]=[];return t}function Er(o){let t=[""];for(let a=0;a<o.length;a++){const u=o[a],d=[];for(let f=0;f<t.length;f++){const T=t[f];d.push(T+"_"+u.tokenTypeIdx);for(let _=0;_<u.categoryMatches.length;_++){const C="_"+u.categoryMatches[_];d.push(T+C)}}t=d}return t}function Gi(o,t,a){for(let u=0;u<o.length;u++){if(u===a)continue;const d=o[u];for(let f=0;f<t.length;f++){const T=t[f];if(d[T]===!0)return!1}}return!0}function si(o,t){const a=(0,x.A)(o,T=>Nn([T],1)),u=ri(a.length),d=(0,x.A)(a,T=>{const _={};return(0,v.A)(T,C=>{const w=Er(C.partialPath);(0,v.A)(w,Q=>{_[Q]=!0})}),_});let f=a;for(let T=1;T<=t;T++){const _=f;f=ri(_.length);for(let C=0;C<_.length;C++){const w=_[C];for(let Q=0;Q<w.length;Q++){const q=w[Q].partialPath,pe=w[Q].suffixDef,Te=Er(q);if(Gi(d,Te,C)||(0,H.A)(pe)||q.length===t){const xe=u[C];if(qr(xe,q)===!1){xe.push(q);for(let Ge=0;Ge<Te.length;Ge++){const _e=Te[Ge];d[C][_e]=!0}}}else{const xe=Nn(pe,T+1,q);f[C]=f[C].concat(xe),(0,v.A)(xe,Ge=>{const _e=Er(Ge.partialPath);(0,v.A)(_e,he=>{d[C][he]=!0})})}}}}return u}function nn(o,t,a,u){const d=new ni(o,ze.ALTERNATION,u);return t.accept(d),si(d.result,a)}function fn(o,t,a,u){const d=new ni(o,a);t.accept(d);const f=d.result,_=new Ui(t,o,a).startWalking(),C=new E({definition:f}),w=new E({definition:_});return si([C,w],u)}function qr(o,t){e:for(let a=0;a<o.length;a++){const u=o[a];if(u.length===t.length){for(let d=0;d<u.length;d++){const f=t[d],T=u[d];if((f===T||T.categoryMatchesMap[f.tokenTypeIdx]!==void 0)===!1)continue e}return!0}}return!1}function Bi(o,t){return o.length<t.length&&st(o,(a,u)=>{const d=t[u];return a===d||d.categoryMatchesMap[a.tokenTypeIdx]})}function ii(o){return st(o,t=>st(t,a=>st(a,u=>(0,H.A)(u.categoryMatches))))}function es(o){const t=o.lookaheadStrategy.validate({rules:o.rules,tokenTypes:o.tokenTypes,grammarName:o.grammarName});return(0,x.A)(t,a=>Object.assign({type:vt.CUSTOM_LOOKAHEAD_VALIDATION},a))}function Ki(o,t,a,u){const d=(0,ft.A)(o,C=>Nt(C,a)),f=qi(o,t,a),T=(0,ft.A)(o,C=>Zi(C,a)),_=(0,ft.A)(o,C=>Hi(C,o,u,a));return d.concat(f,T,_)}function Nt(o,t){const a=new Vi;o.accept(a);const u=a.allProductions,d=xt(u,Wi),f=ve(d,_=>_.length>1);return(0,x.A)((0,M.A)(f),_=>{const C=Rt(_),w=t.buildDuplicateFoundError(o,_),Q=ot(C),q={message:w,type:vt.DUPLICATE_PRODUCTIONS,ruleName:o.name,dslName:Q,occurrence:C.idx},pe=ai(C);return pe&&(q.parameter=pe),q})}function Wi(o){return`${ot(o)}_#_${o.idx}_#_${ai(o)}`}function ai(o){return o instanceof we?o.terminalType.name:o instanceof De?o.nonTerminalName:""}class Vi extends dt{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(t){this.allProductions.push(t)}visitOption(t){this.allProductions.push(t)}visitRepetitionWithSeparator(t){this.allProductions.push(t)}visitRepetitionMandatory(t){this.allProductions.push(t)}visitRepetitionMandatoryWithSeparator(t){this.allProductions.push(t)}visitRepetition(t){this.allProductions.push(t)}visitAlternation(t){this.allProductions.push(t)}visitTerminal(t){this.allProductions.push(t)}}function Hi(o,t,a,u){const d=[];if((0,gt.A)(t,(T,_)=>_.name===o.name?T+1:T,0)>1){const T=u.buildDuplicateRuleNameError({topLevelRule:o,grammarName:a});d.push({message:T,type:vt.DUPLICATE_RULE_NAME,ruleName:o.name})}return d}function zi(o,t,a){const u=[];let d;return Ve(t,o)||(d=`Invalid rule override, rule: ->${o}<- cannot be overridden in the grammar: ->${a}<-as it is not defined in any of the super grammars `,u.push({message:d,type:vt.INVALID_RULE_OVERRIDE,ruleName:o})),u}function $n(o,t,a,u=[]){const d=[],f=Rr(t.definition);if((0,H.A)(f))return[];{const T=o.name;Ve(f,o)&&d.push({message:a.buildLeftRecursionError({topLevelRule:o,leftRecursionPath:u}),type:vt.LEFT_RECURSION,ruleName:T});const C=_n(f,u.concat([o])),w=(0,ft.A)(C,Q=>{const q=(0,D.A)(u);return q.push(Q),$n(o,Q,a,q)});return d.concat(w)}}function Rr(o){let t=[];if((0,H.A)(o))return t;const a=Rt(o);if(a instanceof De)t.push(a.referencedRule);else if(a instanceof E||a instanceof L||a instanceof W||a instanceof fe||a instanceof Re||a instanceof ce)t=t.concat(Rr(a.definition));else if(a instanceof Ae)t=(0,et.A)((0,x.A)(a.definition,f=>Rr(f.definition)));else if(!(a instanceof we))throw Error("non exhaustive match");const u=Et(a),d=o.length>1;if(u&&d){const f=m(o);return t.concat(Rr(f))}else return t}class ts extends dt{constructor(){super(...arguments),this.alternations=[]}visitAlternation(t){this.alternations.push(t)}}function Xi(o,t){const a=new ts;o.accept(a);const u=a.alternations;return(0,ft.A)(u,f=>{const T=nr(f.definition);return(0,ft.A)(T,(_,C)=>{const w=Zr([_],[],un,1);return(0,H.A)(w)?[{message:t.buildEmptyAlternationError({topLevelRule:o,alternation:f,emptyChoiceIdx:C}),type:vt.NONE_LAST_EMPTY_ALT,ruleName:o.name,occurrence:f.idx,alternative:C+1}]:[]})})}function Yi(o,t,a){const u=new ts;o.accept(u);let d=u.alternations;return d=Bn(d,T=>T.ignoreAmbiguities===!0),(0,ft.A)(d,T=>{const _=T.idx,C=T.maxLookahead||t,w=nn(_,o,C,T),Q=oi(w,T,o,a),q=li(w,T,o,a);return Q.concat(q)})}class Qi extends dt{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(t){this.allProductions.push(t)}visitRepetitionMandatory(t){this.allProductions.push(t)}visitRepetitionMandatoryWithSeparator(t){this.allProductions.push(t)}visitRepetition(t){this.allProductions.push(t)}}function Zi(o,t){const a=new ts;o.accept(a);const u=a.alternations;return(0,ft.A)(u,f=>f.definition.length>255?[{message:t.buildTooManyAlternativesError({topLevelRule:o,alternation:f}),type:vt.TOO_MANY_ALTS,ruleName:o.name,occurrence:f.idx}]:[])}function Ji(o,t,a){const u=[];return(0,v.A)(o,d=>{const f=new Qi;d.accept(f);const T=f.allProductions;(0,v.A)(T,_=>{const C=Jr(_),w=_.maxLookahead||t,Q=_.idx,pe=fn(Q,d,C,w)[0];if((0,H.A)((0,et.A)(pe))){const Te=a.buildEmptyRepetitionError({topLevelRule:d,repetition:_});u.push({message:Te,type:vt.NO_NON_EMPTY_LOOKAHEAD,ruleName:d.name})}})}),u}function oi(o,t,a,u){const d=[],f=(0,gt.A)(o,(_,C,w)=>(t.definition[w].ignoreAmbiguities===!0||(0,v.A)(C,Q=>{const q=[w];(0,v.A)(o,(pe,Te)=>{w!==Te&&qr(pe,Q)&&t.definition[Te].ignoreAmbiguities!==!0&&q.push(Te)}),q.length>1&&!qr(d,Q)&&(d.push(Q),_.push({alts:q,path:Q}))}),_),[]);return(0,x.A)(f,_=>{const C=(0,x.A)(_.alts,Q=>Q+1);return{message:u.buildAlternationAmbiguityError({topLevelRule:a,alternation:t,ambiguityIndices:C,prefixPath:_.path}),type:vt.AMBIGUOUS_ALTS,ruleName:a.name,occurrence:t.idx,alternatives:_.alts}})}function li(o,t,a,u){const d=(0,gt.A)(o,(T,_,C)=>{const w=(0,x.A)(_,Q=>({idx:C,path:Q}));return T.concat(w)},[]);return kn((0,ft.A)(d,T=>{if(t.definition[T.idx].ignoreAmbiguities===!0)return[];const C=T.idx,w=T.path,Q=(0,At.A)(d,pe=>t.definition[pe.idx].ignoreAmbiguities!==!0&&pe.idx<C&&Bi(pe.path,w));return(0,x.A)(Q,pe=>{const Te=[pe.idx+1,C+1],Se=t.idx===0?"":t.idx;return{message:u.buildAlternationPrefixAmbiguityError({topLevelRule:a,alternation:t,ambiguityIndices:Te,prefixPath:pe.path}),type:vt.AMBIGUOUS_PREFIX_ALTS,ruleName:a.name,occurrence:Se,alternatives:Te}})}))}function qi(o,t,a){const u=[],d=(0,x.A)(t,f=>f.name);return(0,v.A)(o,f=>{const T=f.name;if(Ve(d,T)){const _=a.buildNamespaceConflictError(f);u.push({message:_,type:vt.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:T})}}),u}function ea(o){const t=(0,Qe.A)(o,{errMsgProvider:Ar}),a={};return(0,v.A)(o.rules,u=>{a[u.name]=u}),Pi(a,t.errMsgProvider)}function ui(o){return o=(0,Qe.A)(o,{errMsgProvider:en}),Ki(o.rules,o.tokenTypes,o.errMsgProvider,o.grammarName)}const ns="MismatchedTokenException",ci="NoViableAltException",di="EarlyExitException",fi="NotAllInputParsedException",hi=[ns,ci,di,fi];Object.freeze(hi);function _r(o){return Ve(hi,o.name)}class On extends Error{constructor(t,a){super(t),this.token=a,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class mi extends On{constructor(t,a,u){super(t,a),this.previousToken=u,this.name=ns}}class ta extends On{constructor(t,a,u){super(t,a),this.previousToken=u,this.name=ci}}class na extends On{constructor(t,a){super(t,a),this.name=fi}}class ra extends On{constructor(t,a,u){super(t,a),this.previousToken=u,this.name=di}}const kr={},pi="InRuleRecoveryException";class gi extends Error{constructor(t){super(t),this.name=pi}}class yi{initRecoverable(t){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=(0,P.A)(t,"recoveryEnabled")?t.recoveryEnabled:rn.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=rs)}getTokenToInsert(t){const a=Ke(t,"",NaN,NaN,NaN,NaN,NaN,NaN);return a.isInsertedInRecovery=!0,a}canTokenTypeBeInsertedInRecovery(t){return!0}canTokenTypeBeDeletedInRecovery(t){return!0}tryInRepetitionRecovery(t,a,u,d){const f=this.findReSyncTokenType(),T=this.exportLexerState(),_=[];let C=!1;const w=this.LA(1);let Q=this.LA(1);const q=()=>{const pe=this.LA(0),Te=this.errorMessageProvider.buildMismatchTokenMessage({expected:d,actual:w,previous:pe,ruleName:this.getCurrRuleFullName()}),Se=new mi(Te,w,this.LA(0));Se.resyncedTokens=nr(_),this.SAVE_ERROR(Se)};for(;!C;)if(this.tokenMatcher(Q,d)){q();return}else if(u.call(this)){q(),t.apply(this,a);return}else this.tokenMatcher(Q,f)?C=!0:(Q=this.SKIP_TOKEN(),this.addToResyncTokens(Q,_));this.importLexerState(T)}shouldInRepetitionRecoveryBeTried(t,a,u){return!(u===!1||this.tokenMatcher(this.LA(1),t)||this.isBackTracking()||this.canPerformInRuleRecovery(t,this.getFollowsForInRuleRecovery(t,a)))}getFollowsForInRuleRecovery(t,a){const u=this.getCurrentGrammarPath(t,a);return this.getNextPossibleTokenTypes(u)}tryInRuleRecovery(t,a){if(this.canRecoverWithSingleTokenInsertion(t,a))return this.getTokenToInsert(t);if(this.canRecoverWithSingleTokenDeletion(t)){const u=this.SKIP_TOKEN();return this.consumeToken(),u}throw new gi("sad sad panda")}canPerformInRuleRecovery(t,a){return this.canRecoverWithSingleTokenInsertion(t,a)||this.canRecoverWithSingleTokenDeletion(t)}canRecoverWithSingleTokenInsertion(t,a){if(!this.canTokenTypeBeInsertedInRecovery(t)||(0,H.A)(a))return!1;const u=this.LA(1);return(0,on.A)(a,f=>this.tokenMatcher(u,f))!==void 0}canRecoverWithSingleTokenDeletion(t){return this.canTokenTypeBeDeletedInRecovery(t)?this.tokenMatcher(this.LA(2),t):!1}isInCurrentRuleReSyncSet(t){const a=this.getCurrFollowKey(),u=this.getFollowSetFromFollowKey(a);return Ve(u,t)}findReSyncTokenType(){const t=this.flattenFollowSet();let a=this.LA(1),u=2;for(;;){const d=(0,on.A)(t,f=>Ue(a,f));if(d!==void 0)return d;a=this.LA(u),u++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return kr;const t=this.getLastExplicitRuleShortName(),a=this.getLastExplicitRuleOccurrenceIndex(),u=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(t),idxInCallingRule:a,inRule:this.shortRuleNameToFullName(u)}}buildFullFollowKeyStack(){const t=this.RULE_STACK,a=this.RULE_OCCURRENCE_STACK;return(0,x.A)(t,(u,d)=>d===0?kr:{ruleName:this.shortRuleNameToFullName(u),idxInCallingRule:a[d],inRule:this.shortRuleNameToFullName(t[d-1])})}flattenFollowSet(){const t=(0,x.A)(this.buildFullFollowKeyStack(),a=>this.getFollowSetFromFollowKey(a));return(0,et.A)(t)}getFollowSetFromFollowKey(t){if(t===kr)return[qt];const a=t.ruleName+t.idxInCallingRule+St+t.inRule;return this.resyncFollows[a]}addToResyncTokens(t,a){return this.tokenMatcher(t,qt)||a.push(t),a}reSyncTo(t){const a=[];let u=this.LA(1);for(;this.tokenMatcher(u,t)===!1;)u=this.SKIP_TOKEN(),this.addToResyncTokens(u,a);return nr(a)}attemptInRepetitionRecovery(t,a,u,d,f,T,_){}getCurrentGrammarPath(t,a){const u=this.getHumanReadableRuleStack(),d=(0,D.A)(this.RULE_OCCURRENCE_STACK);return{ruleStack:u,occurrenceStack:d,lastTok:t,lastTokOccurrence:a}}getHumanReadableRuleStack(){return(0,x.A)(this.RULE_STACK,t=>this.shortRuleNameToFullName(t))}}function rs(o,t,a,u,d,f,T){const _=this.getKeyForAutomaticLookahead(u,d);let C=this.firstAfterRepMap[_];if(C===void 0){const pe=this.getCurrRuleFullName(),Te=this.getGAstProductions()[pe];C=new f(Te,d).startWalking(),this.firstAfterRepMap[_]=C}let w=C.token,Q=C.occurrence;const q=C.isEndOfRule;this.RULE_STACK.length===1&&q&&w===void 0&&(w=qt,Q=1),!(w===void 0||Q===void 0)&&this.shouldInRepetitionRecoveryBeTried(w,Q,T)&&this.tryInRepetitionRecovery(o,t,a,w)}const ss=4,Wt=8,Ai=12,sa=8,Ti=1<<Wt,Ir=2<<Wt,Cr=3<<Wt,Sr=4<<Wt,is=5<<Wt,xr=6<<Wt;function as(o,t,a){return a|t|o}const $a=32-sa;class ia{constructor(t){var a;this.maxLookahead=(a=t?.maxLookahead)!==null&&a!==void 0?a:rn.maxLookahead}validate(t){const a=this.validateNoLeftRecursion(t.rules);if((0,H.A)(a)){const u=this.validateEmptyOrAlternatives(t.rules),d=this.validateAmbiguousAlternationAlternatives(t.rules,this.maxLookahead),f=this.validateSomeNonEmptyLookaheadPath(t.rules,this.maxLookahead);return[...a,...u,...d,...f]}return a}validateNoLeftRecursion(t){return(0,ft.A)(t,a=>$n(a,a,en))}validateEmptyOrAlternatives(t){return(0,ft.A)(t,a=>Xi(a,en))}validateAmbiguousAlternationAlternatives(t,a){return(0,ft.A)(t,u=>Yi(u,a,en))}validateSomeNonEmptyLookaheadPath(t,a){return Ji(t,a,en)}buildLookaheadForAlternation(t){return ei(t.prodOccurrence,t.rule,t.maxLookahead,t.hasPredicates,t.dynamicTokensEnabled,ti)}buildLookaheadForOptional(t){return Fi(t.prodOccurrence,t.rule,t.maxLookahead,t.dynamicTokensEnabled,Jr(t.prodType),Aa)}}class aa{initLooksAhead(t){this.dynamicTokensEnabled=(0,P.A)(t,"dynamicTokensEnabled")?t.dynamicTokensEnabled:rn.dynamicTokensEnabled,this.maxLookahead=(0,P.A)(t,"maxLookahead")?t.maxLookahead:rn.maxLookahead,this.lookaheadStrategy=(0,P.A)(t,"lookaheadStrategy")?t.lookaheadStrategy:new ia({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(t){(0,v.A)(t,a=>{this.TRACE_INIT(`${a.name} Rule Lookahead`,()=>{const{alternation:u,repetition:d,option:f,repetitionMandatory:T,repetitionMandatoryWithSeparator:_,repetitionWithSeparator:C}=la(a);(0,v.A)(u,w=>{const Q=w.idx===0?"":w.idx;this.TRACE_INIT(`${ot(w)}${Q}`,()=>{const q=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:w.idx,rule:a,maxLookahead:w.maxLookahead||this.maxLookahead,hasPredicates:w.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),pe=as(this.fullRuleNameToShort[a.name],Ti,w.idx);this.setLaFuncCache(pe,q)})}),(0,v.A)(d,w=>{this.computeLookaheadFunc(a,w.idx,Cr,"Repetition",w.maxLookahead,ot(w))}),(0,v.A)(f,w=>{this.computeLookaheadFunc(a,w.idx,Ir,"Option",w.maxLookahead,ot(w))}),(0,v.A)(T,w=>{this.computeLookaheadFunc(a,w.idx,Sr,"RepetitionMandatory",w.maxLookahead,ot(w))}),(0,v.A)(_,w=>{this.computeLookaheadFunc(a,w.idx,xr,"RepetitionMandatoryWithSeparator",w.maxLookahead,ot(w))}),(0,v.A)(C,w=>{this.computeLookaheadFunc(a,w.idx,is,"RepetitionWithSeparator",w.maxLookahead,ot(w))})})})}computeLookaheadFunc(t,a,u,d,f,T){this.TRACE_INIT(`${T}${a===0?"":a}`,()=>{const _=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:a,rule:t,maxLookahead:f||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:d}),C=as(this.fullRuleNameToShort[t.name],u,a);this.setLaFuncCache(C,_)})}getKeyForAutomaticLookahead(t,a){const u=this.getLastExplicitRuleShortName();return as(u,t,a)}getLaFuncFromCache(t){return this.lookAheadFuncsCache.get(t)}setLaFuncCache(t,a){this.lookAheadFuncsCache.set(t,a)}}class oa extends dt{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(t){this.dslMethods.option.push(t)}visitRepetitionWithSeparator(t){this.dslMethods.repetitionWithSeparator.push(t)}visitRepetitionMandatory(t){this.dslMethods.repetitionMandatory.push(t)}visitRepetitionMandatoryWithSeparator(t){this.dslMethods.repetitionMandatoryWithSeparator.push(t)}visitRepetition(t){this.dslMethods.repetition.push(t)}visitAlternation(t){this.dslMethods.alternation.push(t)}}const Nr=new oa;function la(o){Nr.reset(),o.accept(Nr);const t=Nr.dslMethods;return Nr.reset(),t}function i(o,t){isNaN(o.startOffset)===!0?(o.startOffset=t.startOffset,o.endOffset=t.endOffset):o.endOffset<t.endOffset&&(o.endOffset=t.endOffset)}function e(o,t){isNaN(o.startOffset)===!0?(o.startOffset=t.startOffset,o.startColumn=t.startColumn,o.startLine=t.startLine,o.endOffset=t.endOffset,o.endColumn=t.endColumn,o.endLine=t.endLine):o.endOffset<t.endOffset&&(o.endOffset=t.endOffset,o.endColumn=t.endColumn,o.endLine=t.endLine)}function n(o,t,a){o.children[a]===void 0?o.children[a]=[t]:o.children[a].push(t)}function r(o,t,a){o.children[t]===void 0?o.children[t]=[a]:o.children[t].push(a)}const s="name";function l(o,t){Object.defineProperty(o,s,{enumerable:!1,configurable:!0,writable:!1,value:t})}function c(o,t){const a=(0,F.A)(o),u=a.length;for(let d=0;d<u;d++){const f=a[d],T=o[f],_=T.length;for(let C=0;C<_;C++){const w=T[C];w.tokenTypeIdx===void 0&&this[w.name](w.children,t)}}}function h(o,t){const a=function(){};l(a,o+"BaseSemantics");const u={visit:function(d,f){if((0,Xe.A)(d)&&(d=d[0]),!(0,Fe.A)(d))return this[d.name](d.children,f)},validateVisitor:function(){const d=z(this,t);if(!(0,H.A)(d)){const f=(0,x.A)(d,T=>T.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${f.join(`

`).replace(/\n/g,`
	`)}`)}}};return a.prototype=u,a.prototype.constructor=a,a._RULE_NAMES=t,a}function S(o,t,a){const u=function(){};l(u,o+"BaseSemanticsWithDefaults");const d=Object.create(a.prototype);return(0,v.A)(t,f=>{d[f]=c}),u.prototype=d,u.prototype.constructor=u,u}var j;(function(o){o[o.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",o[o.MISSING_METHOD=1]="MISSING_METHOD"})(j||(j={}));function z(o,t){return ae(o,t)}function ae(o,t){const a=(0,At.A)(t,d=>(0,Qt.A)(o[d])===!1),u=(0,x.A)(a,d=>({msg:`Missing visitor method: <${d}> on ${o.constructor.name} CST Visitor.`,type:j.MISSING_METHOD,methodName:d}));return kn(u)}class re{initTreeBuilder(t){if(this.CST_STACK=[],this.outputCst=t.outputCst,this.nodeLocationTracking=(0,P.A)(t,"nodeLocationTracking")?t.nodeLocationTracking:rn.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=tt.A,this.cstFinallyStateUpdate=tt.A,this.cstPostTerminal=tt.A,this.cstPostNonTerminal=tt.A,this.cstPostRule=tt.A;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=e,this.setNodeLocationFromNode=e,this.cstPostRule=tt.A,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=tt.A,this.setNodeLocationFromNode=tt.A,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=i,this.setNodeLocationFromNode=i,this.cstPostRule=tt.A,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=tt.A,this.setNodeLocationFromNode=tt.A,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=tt.A,this.setNodeLocationFromNode=tt.A,this.cstPostRule=tt.A,this.setInitialNodeLocation=tt.A;else throw Error(`Invalid <nodeLocationTracking> config option: "${t.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(t){t.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(t){t.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(t){t.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(t){const a=this.LA(1);t.location={startOffset:a.startOffset,startLine:a.startLine,startColumn:a.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(t){const a={name:t,children:Object.create(null)};this.setInitialNodeLocation(a),this.CST_STACK.push(a)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(t){const a=this.LA(0),u=t.location;u.startOffset<=a.startOffset?(u.endOffset=a.endOffset,u.endLine=a.endLine,u.endColumn=a.endColumn):(u.startOffset=NaN,u.startLine=NaN,u.startColumn=NaN)}cstPostRuleOnlyOffset(t){const a=this.LA(0),u=t.location;u.startOffset<=a.startOffset?u.endOffset=a.endOffset:u.startOffset=NaN}cstPostTerminal(t,a){const u=this.CST_STACK[this.CST_STACK.length-1];n(u,a,t),this.setNodeLocationFromToken(u.location,a)}cstPostNonTerminal(t,a){const u=this.CST_STACK[this.CST_STACK.length-1];r(u,a,t),this.setNodeLocationFromNode(u.location,t.location)}getBaseCstVisitorConstructor(){if((0,Fe.A)(this.baseCstVisitorConstructor)){const t=h(this.className,(0,F.A)(this.gastProductionsCache));return this.baseCstVisitorConstructor=t,t}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if((0,Fe.A)(this.baseCstVisitorWithDefaultsConstructor)){const t=S(this.className,(0,F.A)(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=t,t}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const t=this.RULE_STACK;return t[t.length-1]}getPreviousExplicitRuleShortName(){const t=this.RULE_STACK;return t[t.length-2]}getLastExplicitRuleOccurrenceIndex(){const t=this.RULE_OCCURRENCE_STACK;return t[t.length-1]}}class Y{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(t){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=t,this.tokVectorLength=t.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):Ri}LA(t){const a=this.currIdx+t;return a<0||this.tokVectorLength<=a?Ri:this.tokVector[a]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(t){this.currIdx=t}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}}class je{ACTION(t){return t.call(this)}consume(t,a,u){return this.consumeInternal(a,t,u)}subrule(t,a,u){return this.subruleInternal(a,t,u)}option(t,a){return this.optionInternal(a,t)}or(t,a){return this.orInternal(a,t)}many(t,a){return this.manyInternal(t,a)}atLeastOne(t,a){return this.atLeastOneInternal(t,a)}CONSUME(t,a){return this.consumeInternal(t,0,a)}CONSUME1(t,a){return this.consumeInternal(t,1,a)}CONSUME2(t,a){return this.consumeInternal(t,2,a)}CONSUME3(t,a){return this.consumeInternal(t,3,a)}CONSUME4(t,a){return this.consumeInternal(t,4,a)}CONSUME5(t,a){return this.consumeInternal(t,5,a)}CONSUME6(t,a){return this.consumeInternal(t,6,a)}CONSUME7(t,a){return this.consumeInternal(t,7,a)}CONSUME8(t,a){return this.consumeInternal(t,8,a)}CONSUME9(t,a){return this.consumeInternal(t,9,a)}SUBRULE(t,a){return this.subruleInternal(t,0,a)}SUBRULE1(t,a){return this.subruleInternal(t,1,a)}SUBRULE2(t,a){return this.subruleInternal(t,2,a)}SUBRULE3(t,a){return this.subruleInternal(t,3,a)}SUBRULE4(t,a){return this.subruleInternal(t,4,a)}SUBRULE5(t,a){return this.subruleInternal(t,5,a)}SUBRULE6(t,a){return this.subruleInternal(t,6,a)}SUBRULE7(t,a){return this.subruleInternal(t,7,a)}SUBRULE8(t,a){return this.subruleInternal(t,8,a)}SUBRULE9(t,a){return this.subruleInternal(t,9,a)}OPTION(t){return this.optionInternal(t,0)}OPTION1(t){return this.optionInternal(t,1)}OPTION2(t){return this.optionInternal(t,2)}OPTION3(t){return this.optionInternal(t,3)}OPTION4(t){return this.optionInternal(t,4)}OPTION5(t){return this.optionInternal(t,5)}OPTION6(t){return this.optionInternal(t,6)}OPTION7(t){return this.optionInternal(t,7)}OPTION8(t){return this.optionInternal(t,8)}OPTION9(t){return this.optionInternal(t,9)}OR(t){return this.orInternal(t,0)}OR1(t){return this.orInternal(t,1)}OR2(t){return this.orInternal(t,2)}OR3(t){return this.orInternal(t,3)}OR4(t){return this.orInternal(t,4)}OR5(t){return this.orInternal(t,5)}OR6(t){return this.orInternal(t,6)}OR7(t){return this.orInternal(t,7)}OR8(t){return this.orInternal(t,8)}OR9(t){return this.orInternal(t,9)}MANY(t){this.manyInternal(0,t)}MANY1(t){this.manyInternal(1,t)}MANY2(t){this.manyInternal(2,t)}MANY3(t){this.manyInternal(3,t)}MANY4(t){this.manyInternal(4,t)}MANY5(t){this.manyInternal(5,t)}MANY6(t){this.manyInternal(6,t)}MANY7(t){this.manyInternal(7,t)}MANY8(t){this.manyInternal(8,t)}MANY9(t){this.manyInternal(9,t)}MANY_SEP(t){this.manySepFirstInternal(0,t)}MANY_SEP1(t){this.manySepFirstInternal(1,t)}MANY_SEP2(t){this.manySepFirstInternal(2,t)}MANY_SEP3(t){this.manySepFirstInternal(3,t)}MANY_SEP4(t){this.manySepFirstInternal(4,t)}MANY_SEP5(t){this.manySepFirstInternal(5,t)}MANY_SEP6(t){this.manySepFirstInternal(6,t)}MANY_SEP7(t){this.manySepFirstInternal(7,t)}MANY_SEP8(t){this.manySepFirstInternal(8,t)}MANY_SEP9(t){this.manySepFirstInternal(9,t)}AT_LEAST_ONE(t){this.atLeastOneInternal(0,t)}AT_LEAST_ONE1(t){return this.atLeastOneInternal(1,t)}AT_LEAST_ONE2(t){this.atLeastOneInternal(2,t)}AT_LEAST_ONE3(t){this.atLeastOneInternal(3,t)}AT_LEAST_ONE4(t){this.atLeastOneInternal(4,t)}AT_LEAST_ONE5(t){this.atLeastOneInternal(5,t)}AT_LEAST_ONE6(t){this.atLeastOneInternal(6,t)}AT_LEAST_ONE7(t){this.atLeastOneInternal(7,t)}AT_LEAST_ONE8(t){this.atLeastOneInternal(8,t)}AT_LEAST_ONE9(t){this.atLeastOneInternal(9,t)}AT_LEAST_ONE_SEP(t){this.atLeastOneSepFirstInternal(0,t)}AT_LEAST_ONE_SEP1(t){this.atLeastOneSepFirstInternal(1,t)}AT_LEAST_ONE_SEP2(t){this.atLeastOneSepFirstInternal(2,t)}AT_LEAST_ONE_SEP3(t){this.atLeastOneSepFirstInternal(3,t)}AT_LEAST_ONE_SEP4(t){this.atLeastOneSepFirstInternal(4,t)}AT_LEAST_ONE_SEP5(t){this.atLeastOneSepFirstInternal(5,t)}AT_LEAST_ONE_SEP6(t){this.atLeastOneSepFirstInternal(6,t)}AT_LEAST_ONE_SEP7(t){this.atLeastOneSepFirstInternal(7,t)}AT_LEAST_ONE_SEP8(t){this.atLeastOneSepFirstInternal(8,t)}AT_LEAST_ONE_SEP9(t){this.atLeastOneSepFirstInternal(9,t)}RULE(t,a,u=_i){if(Ve(this.definedRulesNames,t)){const T={message:en.buildDuplicateRuleNameError({topLevelRule:t,grammarName:this.className}),type:vt.DUPLICATE_RULE_NAME,ruleName:t};this.definitionErrors.push(T)}this.definedRulesNames.push(t);const d=this.defineRule(t,a,u);return this[t]=d,d}OVERRIDE_RULE(t,a,u=_i){const d=zi(t,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(d);const f=this.defineRule(t,a,u);return this[t]=f,f}BACKTRACK(t,a){return function(){this.isBackTrackingStack.push(1);const u=this.saveRecogState();try{return t.apply(this,a),!0}catch(d){if(_r(d))return!1;throw d}finally{this.reloadRecogState(u),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return Lt((0,M.A)(this.gastProductionsCache))}}var We=R("./node_modules/lodash-es/isObject.js");class nt{initRecognizerEngine(t,a){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=Jn,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},(0,P.A)(a,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if((0,Xe.A)(t)){if((0,H.A)(t))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof t[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if((0,Xe.A)(t))this.tokensMap=(0,gt.A)(t,(f,T)=>(f[T.name]=T,f),{});else if((0,P.A)(t,"modes")&&st((0,et.A)((0,M.A)(t.modes)),dn)){const f=(0,et.A)((0,M.A)(t.modes)),T=Yt(f);this.tokensMap=(0,gt.A)(T,(_,C)=>(_[C.name]=C,_),{})}else if((0,We.A)(t))this.tokensMap=(0,D.A)(t);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=qt;const u=(0,P.A)(t,"modes")?(0,et.A)((0,M.A)(t.modes)):(0,M.A)(t),d=st(u,f=>(0,H.A)(f.categoryMatches));this.tokenMatcher=d?Jn:un,qn((0,M.A)(this.tokensMap))}defineRule(t,a,u){if(this.selfAnalysisDone)throw Error(`Grammar rule <${t}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);const d=(0,P.A)(u,"resyncEnabled")?u.resyncEnabled:_i.resyncEnabled,f=(0,P.A)(u,"recoveryValueFunc")?u.recoveryValueFunc:_i.recoveryValueFunc,T=this.ruleShortNameIdx<<ss+Wt;this.ruleShortNameIdx++,this.shortRuleNameToFull[T]=t,this.fullRuleNameToShort[t]=T;let _;return this.outputCst===!0?_=function(...Q){try{this.ruleInvocationStateUpdate(T,t,this.subruleIdx),a.apply(this,Q);const q=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(q),q}catch(q){return this.invokeRuleCatch(q,d,f)}finally{this.ruleFinallyStateUpdate()}}:_=function(...Q){try{return this.ruleInvocationStateUpdate(T,t,this.subruleIdx),a.apply(this,Q)}catch(q){return this.invokeRuleCatch(q,d,f)}finally{this.ruleFinallyStateUpdate()}},Object.assign(_,{ruleName:t,originalGrammarAction:a})}invokeRuleCatch(t,a,u){const d=this.RULE_STACK.length===1,f=a&&!this.isBackTracking()&&this.recoveryEnabled;if(_r(t)){const T=t;if(f){const _=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(_))if(T.resyncedTokens=this.reSyncTo(_),this.outputCst){const C=this.CST_STACK[this.CST_STACK.length-1];return C.recoveredNode=!0,C}else return u(t);else{if(this.outputCst){const C=this.CST_STACK[this.CST_STACK.length-1];C.recoveredNode=!0,T.partialCstResult=C}throw T}}else{if(d)return this.moveToTerminatedState(),u(t);throw T}}else throw t}optionInternal(t,a){const u=this.getKeyForAutomaticLookahead(Ir,a);return this.optionInternalLogic(t,a,u)}optionInternalLogic(t,a,u){let d=this.getLaFuncFromCache(u),f;if(typeof t!="function"){f=t.DEF;const T=t.GATE;if(T!==void 0){const _=d;d=()=>T.call(this)&&_.call(this)}}else f=t;if(d.call(this)===!0)return f.call(this)}atLeastOneInternal(t,a){const u=this.getKeyForAutomaticLookahead(Sr,t);return this.atLeastOneInternalLogic(t,a,u)}atLeastOneInternalLogic(t,a,u){let d=this.getLaFuncFromCache(u),f;if(typeof a!="function"){f=a.DEF;const T=a.GATE;if(T!==void 0){const _=d;d=()=>T.call(this)&&_.call(this)}}else f=a;if(d.call(this)===!0){let T=this.doSingleRepetition(f);for(;d.call(this)===!0&&T===!0;)T=this.doSingleRepetition(f)}else throw this.raiseEarlyExitException(t,ze.REPETITION_MANDATORY,a.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[t,a],d,Sr,t,tn)}atLeastOneSepFirstInternal(t,a){const u=this.getKeyForAutomaticLookahead(xr,t);this.atLeastOneSepFirstInternalLogic(t,a,u)}atLeastOneSepFirstInternalLogic(t,a,u){const d=a.DEF,f=a.SEP;if(this.getLaFuncFromCache(u).call(this)===!0){d.call(this);const _=()=>this.tokenMatcher(this.LA(1),f);for(;this.tokenMatcher(this.LA(1),f)===!0;)this.CONSUME(f),d.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,f,_,d,qs],_,xr,t,qs)}else throw this.raiseEarlyExitException(t,ze.REPETITION_MANDATORY_WITH_SEPARATOR,a.ERR_MSG)}manyInternal(t,a){const u=this.getKeyForAutomaticLookahead(Cr,t);return this.manyInternalLogic(t,a,u)}manyInternalLogic(t,a,u){let d=this.getLaFuncFromCache(u),f;if(typeof a!="function"){f=a.DEF;const _=a.GATE;if(_!==void 0){const C=d;d=()=>_.call(this)&&C.call(this)}}else f=a;let T=!0;for(;d.call(this)===!0&&T===!0;)T=this.doSingleRepetition(f);this.attemptInRepetitionRecovery(this.manyInternal,[t,a],d,Cr,t,Di,T)}manySepFirstInternal(t,a){const u=this.getKeyForAutomaticLookahead(is,t);this.manySepFirstInternalLogic(t,a,u)}manySepFirstInternalLogic(t,a,u){const d=a.DEF,f=a.SEP;if(this.getLaFuncFromCache(u).call(this)===!0){d.call(this);const _=()=>this.tokenMatcher(this.LA(1),f);for(;this.tokenMatcher(this.LA(1),f)===!0;)this.CONSUME(f),d.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,f,_,d,Js],_,is,t,Js)}}repetitionSepSecondInternal(t,a,u,d,f){for(;u();)this.CONSUME(a),d.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,a,u,d,f],u,xr,t,f)}doSingleRepetition(t){const a=this.getLexerPosition();return t.call(this),this.getLexerPosition()>a}orInternal(t,a){const u=this.getKeyForAutomaticLookahead(Ti,a),d=(0,Xe.A)(t)?t:t.DEF,T=this.getLaFuncFromCache(u).call(this,d);if(T!==void 0)return d[T].ALT.call(this);this.raiseNoAltException(a,t.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){const t=this.LA(1),a=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:t,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new na(a,t))}}subruleInternal(t,a,u){let d;try{const f=u!==void 0?u.ARGS:void 0;return this.subruleIdx=a,d=t.apply(this,f),this.cstPostNonTerminal(d,u!==void 0&&u.LABEL!==void 0?u.LABEL:t.ruleName),d}catch(f){throw this.subruleInternalError(f,u,t.ruleName)}}subruleInternalError(t,a,u){throw _r(t)&&t.partialCstResult!==void 0&&(this.cstPostNonTerminal(t.partialCstResult,a!==void 0&&a.LABEL!==void 0?a.LABEL:u),delete t.partialCstResult),t}consumeInternal(t,a,u){let d;try{const f=this.LA(1);this.tokenMatcher(f,t)===!0?(this.consumeToken(),d=f):this.consumeInternalError(t,f,u)}catch(f){d=this.consumeInternalRecovery(t,a,f)}return this.cstPostTerminal(u!==void 0&&u.LABEL!==void 0?u.LABEL:t.name,d),d}consumeInternalError(t,a,u){let d;const f=this.LA(0);throw u!==void 0&&u.ERR_MSG?d=u.ERR_MSG:d=this.errorMessageProvider.buildMismatchTokenMessage({expected:t,actual:a,previous:f,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new mi(d,a,f))}consumeInternalRecovery(t,a,u){if(this.recoveryEnabled&&u.name==="MismatchedTokenException"&&!this.isBackTracking()){const d=this.getFollowsForInRuleRecovery(t,a);try{return this.tryInRuleRecovery(t,d)}catch(f){throw f.name===pi?u:f}}else throw u}saveRecogState(){const t=this.errors,a=(0,D.A)(this.RULE_STACK);return{errors:t,lexerState:this.exportLexerState(),RULE_STACK:a,CST_STACK:this.CST_STACK}}reloadRecogState(t){this.errors=t.errors,this.importLexerState(t.lexerState),this.RULE_STACK=t.RULE_STACK}ruleInvocationStateUpdate(t,a,u){this.RULE_OCCURRENCE_STACK.push(u),this.RULE_STACK.push(t),this.cstInvocationStateUpdate(a)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){const t=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[t]}shortRuleNameToFullName(t){return this.shortRuleNameToFull[t]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),qt)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}}class $t{initErrorHandler(t){this._errors=[],this.errorMessageProvider=(0,P.A)(t,"errorMessageProvider")?t.errorMessageProvider:rn.errorMessageProvider}SAVE_ERROR(t){if(_r(t))return t.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:(0,D.A)(this.RULE_OCCURRENCE_STACK)},this._errors.push(t),t;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return(0,D.A)(this._errors)}set errors(t){this._errors=t}raiseEarlyExitException(t,a,u){const d=this.getCurrRuleFullName(),f=this.getGAstProductions()[d],_=fn(t,f,a,this.maxLookahead)[0],C=[];for(let Q=1;Q<=this.maxLookahead;Q++)C.push(this.LA(Q));const w=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:_,actual:C,previous:this.LA(0),customUserDescription:u,ruleName:d});throw this.SAVE_ERROR(new ra(w,this.LA(1),this.LA(0)))}raiseNoAltException(t,a){const u=this.getCurrRuleFullName(),d=this.getGAstProductions()[u],f=nn(t,d,this.maxLookahead),T=[];for(let w=1;w<=this.maxLookahead;w++)T.push(this.LA(w));const _=this.LA(0),C=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:f,actual:T,previous:_,customUserDescription:a,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new ta(C,this.LA(1),_))}}class Oa{initContentAssist(){}computeContentAssist(t,a){const u=this.gastProductionsCache[t];if((0,Fe.A)(u))throw Error(`Rule ->${t}<- does not exist in this grammar.`);return Zr([u],a,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(t){const a=Rt(t.ruleStack),d=this.getGAstProductions()[a];return new Qr(d,t).startWalking()}}const vi={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(vi);const Ta=!0,va=Math.pow(2,Wt)-1,Ea=Xs({name:"RECORDING_PHASE_TOKEN",pattern:Ze.NA});qn([Ea]);const Ra=Ke(Ea,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(Ra);const wa={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}};class La{initGastRecorder(t){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let t=0;t<10;t++){const a=t>0?t:"";this[`CONSUME${a}`]=function(u,d){return this.consumeInternalRecord(u,t,d)},this[`SUBRULE${a}`]=function(u,d){return this.subruleInternalRecord(u,t,d)},this[`OPTION${a}`]=function(u){return this.optionInternalRecord(u,t)},this[`OR${a}`]=function(u){return this.orInternalRecord(u,t)},this[`MANY${a}`]=function(u){this.manyInternalRecord(t,u)},this[`MANY_SEP${a}`]=function(u){this.manySepFirstInternalRecord(t,u)},this[`AT_LEAST_ONE${a}`]=function(u){this.atLeastOneInternalRecord(t,u)},this[`AT_LEAST_ONE_SEP${a}`]=function(u){this.atLeastOneSepFirstInternalRecord(t,u)}}this.consume=function(t,a,u){return this.consumeInternalRecord(a,t,u)},this.subrule=function(t,a,u){return this.subruleInternalRecord(a,t,u)},this.option=function(t,a){return this.optionInternalRecord(a,t)},this.or=function(t,a){return this.orInternalRecord(a,t)},this.many=function(t,a){this.manyInternalRecord(t,a)},this.atLeastOne=function(t,a){this.atLeastOneInternalRecord(t,a)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{const t=this;for(let a=0;a<10;a++){const u=a>0?a:"";delete t[`CONSUME${u}`],delete t[`SUBRULE${u}`],delete t[`OPTION${u}`],delete t[`OR${u}`],delete t[`MANY${u}`],delete t[`MANY_SEP${u}`],delete t[`AT_LEAST_ONE${u}`],delete t[`AT_LEAST_ONE_SEP${u}`]}delete t.consume,delete t.subrule,delete t.option,delete t.or,delete t.many,delete t.atLeastOne,delete t.ACTION,delete t.BACKTRACK,delete t.LA})}ACTION_RECORD(t){}BACKTRACK_RECORD(t,a){return()=>!0}LA_RECORD(t){return Ri}topLevelRuleRecord(t,a){try{const u=new qe({definition:[],name:t});return u.name=t,this.recordingProdStack.push(u),a.call(this),this.recordingProdStack.pop(),u}catch(u){if(u.KNOWN_RECORDER_ERROR!==!0)try{u.message=u.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw u}throw u}}optionInternalRecord(t,a){return os.call(this,L,t,a)}atLeastOneInternalRecord(t,a){os.call(this,W,a,t)}atLeastOneSepFirstInternalRecord(t,a){os.call(this,fe,a,t,Ta)}manyInternalRecord(t,a){os.call(this,ce,a,t)}manySepFirstInternalRecord(t,a){os.call(this,Re,a,t,Ta)}orInternalRecord(t,a){return Pa.call(this,t,a)}subruleInternalRecord(t,a,u){if(Ei(a),!t||(0,P.A)(t,"ruleName")===!1){const _=new Error(`<SUBRULE${_a(a)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(t)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw _.KNOWN_RECORDER_ERROR=!0,_}const d=(0,ln.A)(this.recordingProdStack),f=t.ruleName,T=new De({idx:a,nonTerminalName:f,label:u?.LABEL,referencedRule:void 0});return d.definition.push(T),this.outputCst?wa:vi}consumeInternalRecord(t,a,u){if(Ei(a),!cn(t)){const T=new Error(`<CONSUME${_a(a)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(t)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw T.KNOWN_RECORDER_ERROR=!0,T}const d=(0,ln.A)(this.recordingProdStack),f=new we({idx:a,terminalType:t,label:u?.LABEL});return d.definition.push(f),Ra}}function os(o,t,a,u=!1){Ei(a);const d=(0,ln.A)(this.recordingProdStack),f=(0,Qt.A)(t)?t:t.DEF,T=new o({definition:[],idx:a});return u&&(T.separator=t.SEP),(0,P.A)(t,"MAX_LOOKAHEAD")&&(T.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(T),f.call(this),d.definition.push(T),this.recordingProdStack.pop(),vi}function Pa(o,t){Ei(t);const a=(0,ln.A)(this.recordingProdStack),u=(0,Xe.A)(o)===!1,d=u===!1?o:o.DEF,f=new Ae({definition:[],idx:t,ignoreAmbiguities:u&&o.IGNORE_AMBIGUITIES===!0});(0,P.A)(o,"MAX_LOOKAHEAD")&&(f.maxLookahead=o.MAX_LOOKAHEAD);const T=bt(d,_=>(0,Qt.A)(_.GATE));return f.hasPredicates=T,a.definition.push(f),(0,v.A)(d,_=>{const C=new E({definition:[]});f.definition.push(C),(0,P.A)(_,"IGNORE_AMBIGUITIES")?C.ignoreAmbiguities=_.IGNORE_AMBIGUITIES:(0,P.A)(_,"GATE")&&(C.ignoreAmbiguities=!0),this.recordingProdStack.push(C),_.ALT.call(this),this.recordingProdStack.pop()}),vi}function _a(o){return o===0?"":`${o}`}function Ei(o){if(o<0||o>va){const t=new Error(`Invalid DSL Method idx value: <${o}>
	Idx value must be a none negative value smaller than ${va+1}`);throw t.KNOWN_RECORDER_ERROR=!0,t}}class ba{initPerformanceTracer(t){if((0,P.A)(t,"traceInitPerf")){const a=t.traceInitPerf,u=typeof a=="number";this.traceInitMaxIdent=u?a:1/0,this.traceInitPerf=u?a>0:a}else this.traceInitMaxIdent=0,this.traceInitPerf=rn.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(t,a){if(this.traceInitPerf===!0){this.traceInitIndent++;const u=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${u}--> <${t}>`);const{time:d,value:f}=pr(a),T=d>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&T(`${u}<-- <${t}> time: ${d}ms`),this.traceInitIndent--,f}else return a()}}function Ma(o,t){t.forEach(a=>{const u=a.prototype;Object.getOwnPropertyNames(u).forEach(d=>{if(d==="constructor")return;const f=Object.getOwnPropertyDescriptor(u,d);f&&(f.get||f.set)?Object.defineProperty(o.prototype,d,f):o.prototype[d]=a.prototype[d]})})}const Ri=Ke(qt,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(Ri);const rn=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:Hr,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),_i=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});var vt;(function(o){o[o.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",o[o.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",o[o.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",o[o.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",o[o.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",o[o.LEFT_RECURSION=5]="LEFT_RECURSION",o[o.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",o[o.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",o[o.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",o[o.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",o[o.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",o[o.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",o[o.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",o[o.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"})(vt||(vt={}));function Da(o=void 0){return function(){return o}}class $r{static performSelfAnalysis(t){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let t;this.selfAnalysisDone=!0;const a=this.className;this.TRACE_INIT("toFastProps",()=>{K(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),(0,v.A)(this.definedRulesNames,d=>{const T=this[d].originalGrammarAction;let _;this.TRACE_INIT(`${d} Rule`,()=>{_=this.topLevelRuleRecord(d,T)}),this.gastProductionsCache[d]=_})}finally{this.disableRecording()}});let u=[];if(this.TRACE_INIT("Grammar Resolving",()=>{u=ea({rules:(0,M.A)(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(u)}),this.TRACE_INIT("Grammar Validations",()=>{if((0,H.A)(u)&&this.skipValidations===!1){const d=ui({rules:(0,M.A)(this.gastProductionsCache),tokenTypes:(0,M.A)(this.tokensMap),errMsgProvider:en,grammarName:a}),f=es({lookaheadStrategy:this.lookaheadStrategy,rules:(0,M.A)(this.gastProductionsCache),tokenTypes:(0,M.A)(this.tokensMap),grammarName:a});this.definitionErrors=this.definitionErrors.concat(d,f)}}),(0,H.A)(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{const d=be((0,M.A)(this.gastProductionsCache));this.resyncFollows=d}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var d,f;(f=(d=this.lookaheadStrategy).initialize)===null||f===void 0||f.call(d,{rules:(0,M.A)(this.gastProductionsCache)}),this.preComputeLookaheadFunctions((0,M.A)(this.gastProductionsCache))})),!$r.DEFER_DEFINITION_ERRORS_HANDLING&&!(0,H.A)(this.definitionErrors))throw t=(0,x.A)(this.definitionErrors,d=>d.message),new Error(`Parser Definition Errors detected:
 ${t.join(`
-------------------------------
`)}`)})}constructor(t,a){this.definitionErrors=[],this.selfAnalysisDone=!1;const u=this;if(u.initErrorHandler(a),u.initLexerAdapter(),u.initLooksAhead(a),u.initRecognizerEngine(t,a),u.initRecoverable(a),u.initTreeBuilder(a),u.initContentAssist(),u.initGastRecorder(a),u.initPerformanceTracer(a),(0,P.A)(a,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=(0,P.A)(a,"skipValidations")?a.skipValidations:rn.skipValidations}}$r.DEFER_DEFINITION_ERRORS_HANDLING=!1,Ma($r,[yi,aa,re,Y,nt,je,$t,Oa,La,ba]);class Va extends $r{constructor(t,a=rn){const u=(0,D.A)(a);u.outputCst=!0,super(t,u)}}class ja extends $r{constructor(t,a=rn){const u=(0,D.A)(a);u.outputCst=!1,super(t,u)}}function Ha(o){const t=new Fa,a=values(o);return map(a,u=>t.visitRule(u))}class Fa extends null{visitRule(t){const a=this.visitEach(t.definition),u=groupBy(a,f=>f.propertyName),d=map(u,(f,T)=>{const _=!some(f,w=>!w.canBeNull);let C=f[0].type;return f.length>1&&(C=map(f,w=>w.type)),{name:T,type:C,optional:_}});return{name:t.name,properties:d}}visitAlternative(t){return this.visitEachAndOverrideWith(t.definition,{canBeNull:!0})}visitOption(t){return this.visitEachAndOverrideWith(t.definition,{canBeNull:!0})}visitRepetition(t){return this.visitEachAndOverrideWith(t.definition,{canBeNull:!0})}visitRepetitionMandatory(t){return this.visitEach(t.definition)}visitRepetitionMandatoryWithSeparator(t){return this.visitEach(t.definition).concat({propertyName:t.separator.name,canBeNull:!0,type:ki(t.separator)})}visitRepetitionWithSeparator(t){return this.visitEachAndOverrideWith(t.definition,{canBeNull:!0}).concat({propertyName:t.separator.name,canBeNull:!0,type:ki(t.separator)})}visitAlternation(t){return this.visitEachAndOverrideWith(t.definition,{canBeNull:!0})}visitTerminal(t){return[{propertyName:t.label||t.terminalType.name,canBeNull:!1,type:ki(t)}]}visitNonTerminal(t){return[{propertyName:t.label||t.nonTerminalName,canBeNull:!1,type:ki(t)}]}visitEachAndOverrideWith(t,a){return map(this.visitEach(t),u=>assign({},u,a))}visitEach(t){return flatten(map(t,a=>this.visit(a)))}}function ki(o){return o instanceof NonTerminal?{kind:"rule",name:o.referencedRule.name}:{kind:"token"}}const Ua={includeVisitorInterface:!0,visitorInterfaceName:"ICstNodeVisitor"};function za(o,t){const a=Object.assign(Object.assign({},Ua),t),u=buildModel(o);return genDts(u,a)}function Xa(){console.warn(`The clearCache function was 'soft' removed from the Chevrotain API.
	 It performs no action other than printing this message.
	 Please avoid using it as it will be completely removed in the future`)}class Ya{constructor(){throw new Error(`The Parser class has been deprecated, use CstParser or EmbeddedActionsParser instead.	
See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_7-0-0`)}}},"./node_modules/langium/lib/default-module.js":function(Le,J,R){R.d(J,{t:function(){return Nr},u:function(){return la}});var v=R("./node_modules/langium/lib/utils/cst-utils.js"),M=R("./node_modules/langium/lib/utils/grammar-utils.js"),H=R("./node_modules/langium/lib/utils/regexp-utils.js"),x=R("./node_modules/langium/lib/languages/generated/ast.js");function P(i){const e=[],n=i.Grammar;for(const r of n.rules)(0,x.rE)(r)&&(0,M.eb)(r)&&(0,H.lU)((0,M.S)(r))&&e.push(r.name);return{multilineCommentRules:e,nameRegexp:v.El}}var D=R("./node_modules/chevrotain/lib/src/api.js"),K=R("./node_modules/lodash-es/map.js"),U=R("./node_modules/lodash-es/filter.js");function k(i,e,n){return`${i.name}_${e}_${n}`}const A=0,I=1,m=2,g=4,y=5,$=6,p=7,N=8,b=9,F=10,V=11,Z=12;class le{constructor(e){this.target=e}isEpsilon(){return!1}}class ue extends le{constructor(e,n){super(e),this.tokenType=n}}class G extends le{constructor(e){super(e)}isEpsilon(){return!0}}class te extends le{constructor(e,n,r){super(e),this.rule=n,this.followState=r}isEpsilon(){return!0}}function de(i){const e={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};ge(e,i);const n=i.length;for(let r=0;r<n;r++){const s=i[r],l=Ee(e,s,s);l!==void 0&&E(e,s,l)}return e}function ge(i,e){const n=e.length;for(let r=0;r<n;r++){const s=e[r],l=W(i,s,void 0,{type:m}),c=W(i,s,void 0,{type:p});l.stop=c,i.ruleToStartState.set(s,l),i.ruleToStopState.set(s,c)}}function Ce(i,e,n){return n instanceof D.BK?De(i,e,n.terminalType,n):n instanceof D.wL?qe(i,e,n):n instanceof D.ak?se(i,e,n):n instanceof D.c$?oe(i,e,n):n instanceof D.Y2?ve(i,e,n):n instanceof D.Pp?Be(i,e,n):n instanceof D.$P?ee(i,e,n):n instanceof D.Cy?X(i,e,n):Ee(i,e,n)}function ve(i,e,n){const r=W(i,e,n,{type:y});ke(i,r);const s=Me(i,e,r,n,Ee(i,e,n));return me(i,e,n,s)}function Be(i,e,n){const r=W(i,e,n,{type:y});ke(i,r);const s=Me(i,e,r,n,Ee(i,e,n)),l=De(i,e,n.separator,n);return me(i,e,n,s,l)}function ee(i,e,n){const r=W(i,e,n,{type:g});ke(i,r);const s=Me(i,e,r,n,Ee(i,e,n));return ye(i,e,n,s)}function X(i,e,n){const r=W(i,e,n,{type:g});ke(i,r);const s=Me(i,e,r,n,Ee(i,e,n)),l=De(i,e,n.separator,n);return ye(i,e,n,s,l)}function se(i,e,n){const r=W(i,e,n,{type:I});ke(i,r);const s=(0,K.A)(n.definition,c=>Ce(i,e,c));return Me(i,e,r,n,...s)}function oe(i,e,n){const r=W(i,e,n,{type:I});ke(i,r);const s=Me(i,e,r,n,Ee(i,e,n));return Je(i,e,n,s)}function Ee(i,e,n){const r=(0,U.A)((0,K.A)(n.definition,s=>Ce(i,e,s)),s=>s!==void 0);return r.length===1?r[0]:r.length===0?void 0:ct(i,r)}function ye(i,e,n,r,s){const l=r.left,c=r.right,h=W(i,e,n,{type:V});ke(i,h);const S=W(i,e,n,{type:Z});return l.loopback=h,S.loopback=h,i.decisionMap[k(e,s?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",n.idx)]=h,L(c,h),s===void 0?(L(h,l),L(h,S)):(L(h,S),L(h,s.left),L(s.right,l)),{left:l,right:S}}function me(i,e,n,r,s){const l=r.left,c=r.right,h=W(i,e,n,{type:F});ke(i,h);const S=W(i,e,n,{type:Z}),j=W(i,e,n,{type:b});return h.loopback=j,S.loopback=j,L(h,l),L(h,S),L(c,j),s!==void 0?(L(j,S),L(j,s.left),L(s.right,l)):L(j,h),i.decisionMap[k(e,s?"RepetitionWithSeparator":"Repetition",n.idx)]=h,{left:h,right:S}}function Je(i,e,n,r){const s=r.left,l=r.right;return L(s,l),i.decisionMap[k(e,"Option",n.idx)]=s,r}function ke(i,e){return i.decisionStates.push(e),e.decision=i.decisionStates.length-1,e.decision}function Me(i,e,n,r,...s){const l=W(i,e,r,{type:N,start:n});n.end=l;for(const h of s)h!==void 0?(L(n,h.left),L(h.right,l)):L(n,l);const c={left:n,right:l};return i.decisionMap[k(e,rt(r),r.idx)]=n,c}function rt(i){if(i instanceof D.ak)return"Alternation";if(i instanceof D.c$)return"Option";if(i instanceof D.Y2)return"Repetition";if(i instanceof D.Pp)return"RepetitionWithSeparator";if(i instanceof D.$P)return"RepetitionMandatory";if(i instanceof D.Cy)return"RepetitionMandatoryWithSeparator";throw new Error("Invalid production type encountered")}function ct(i,e){const n=e.length;for(let l=0;l<n-1;l++){const c=e[l];let h;c.left.transitions.length===1&&(h=c.left.transitions[0]);const S=h instanceof te,j=h,z=e[l+1].left;c.left.type===I&&c.right.type===I&&h!==void 0&&(S&&j.followState===c.right||h.target===c.right)?(S?j.followState=z:h.target=z,ce(i,c.right)):L(c.right,z)}const r=e[0],s=e[n-1];return{left:r.left,right:s.right}}function De(i,e,n,r){const s=W(i,e,r,{type:I}),l=W(i,e,r,{type:I});return fe(s,new ue(l,n)),{left:s,right:l}}function qe(i,e,n){const r=n.referencedRule,s=i.ruleToStartState.get(r),l=W(i,e,n,{type:I}),c=W(i,e,n,{type:I}),h=new te(s,r,c);return fe(l,h),{left:l,right:c}}function E(i,e,n){const r=i.ruleToStartState.get(e);L(r,n.left);const s=i.ruleToStopState.get(e);return L(n.right,s),{left:r,right:s}}function L(i,e){const n=new G(e);fe(i,n)}function W(i,e,n,r){const s=Object.assign({atn:i,production:n,epsilonOnlyTransitions:!1,rule:e,transitions:[],nextTokenWithinRule:[],stateNumber:i.states.length},r);return i.states.push(s),s}function fe(i,e){i.transitions.length===0&&(i.epsilonOnlyTransitions=e.isEpsilon()),i.transitions.push(e)}function ce(i,e){i.states.splice(i.states.indexOf(e),1)}const Re={};class Ae{constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(e){const n=we(e);n in this.map||(this.map[n]=this.configs.length,this.configs.push(e))}get elements(){return this.configs}get alts(){return(0,K.A)(this.configs,e=>e.alt)}get key(){let e="";for(const n in this.map)e+=n+":";return e}}function we(i,e=!0){return`${e?`a${i.alt}`:""}s${i.state.stateNumber}:${i.stack.map(n=>n.stateNumber.toString()).join("_")}`}var Lt=R("./node_modules/lodash-es/min.js"),Ht=R("./node_modules/lodash-es/flatMap.js"),dt=R("./node_modules/lodash-es/_baseIteratee.js"),pn=R("./node_modules/lodash-es/_baseUniq.js");function _t(i,e){return i&&i.length?(0,pn.A)(i,(0,dt.A)(e,2)):[]}var gn=_t,zt=R("./node_modules/lodash-es/flatten.js"),Xe=R("./node_modules/lodash-es/forEach.js"),Pt=R("./node_modules/lodash-es/isEmpty.js"),yn=R("./node_modules/lodash-es/reduce.js");function bt(i,e){const n={};return r=>{const s=r.toString();let l=n[s];return l!==void 0||(l={atnStartState:i,decision:e,states:{}},n[s]=l),l}}class an{constructor(){this.predicates=[]}is(e){return e>=this.predicates.length||this.predicates[e]}set(e,n){this.predicates[e]=n}toString(){let e="";const n=this.predicates.length;for(let r=0;r<n;r++)e+=this.predicates[r]===!0?"1":"0";return e}}const Mt=new an;class Mn extends D.T6{constructor(e){var n;super(),this.logging=(n=e?.logging)!==null&&n!==void 0?n:r=>console.log(r)}initialize(e){this.atn=de(e.rules),this.dfas=Dn(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(e){const{prodOccurrence:n,rule:r,hasPredicates:s,dynamicTokensEnabled:l}=e,c=this.dfas,h=this.logging,S=k(r,"Alternation",n),z=this.atn.decisionMap[S].decision,ae=(0,K.A)((0,D.jk)({maxLookahead:1,occurrence:n,prodType:"Alternation",rule:r}),re=>(0,K.A)(re,Y=>Y[0]));if(Ve(ae,!1)&&!l){const re=(0,yn.A)(ae,(Y,je,We)=>((0,Xe.A)(je,nt=>{nt&&(Y[nt.tokenTypeIdx]=We,(0,Xe.A)(nt.categoryMatches,$t=>{Y[$t]=We}))}),Y),{});return s?function(Y){var je;const We=this.LA(1),nt=re[We.tokenTypeIdx];if(Y!==void 0&&nt!==void 0){const $t=(je=Y[nt])===null||je===void 0?void 0:je.GATE;if($t!==void 0&&$t.call(this)===!1)return}return nt}:function(){const Y=this.LA(1);return re[Y.tokenTypeIdx]}}else return s?function(re){const Y=new an,je=re===void 0?0:re.length;for(let nt=0;nt<je;nt++){const $t=re?.[nt].GATE;Y.set(nt,$t===void 0||$t.call(this))}const We=kt.call(this,c,z,Y,h);return typeof We=="number"?We:void 0}:function(){const re=kt.call(this,c,z,Mt,h);return typeof re=="number"?re:void 0}}buildLookaheadForOptional(e){const{prodOccurrence:n,rule:r,prodType:s,dynamicTokensEnabled:l}=e,c=this.dfas,h=this.logging,S=k(r,s,n),z=this.atn.decisionMap[S].decision,ae=(0,K.A)((0,D.jk)({maxLookahead:1,occurrence:n,prodType:s,rule:r}),re=>(0,K.A)(re,Y=>Y[0]));if(Ve(ae)&&ae[0][0]&&!l){const re=ae[0],Y=(0,zt.A)(re);if(Y.length===1&&(0,Pt.A)(Y[0].categoryMatches)){const We=Y[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===We}}else{const je=(0,yn.A)(Y,(We,nt)=>(nt!==void 0&&(We[nt.tokenTypeIdx]=!0,(0,Xe.A)(nt.categoryMatches,$t=>{We[$t]=!0})),We),{});return function(){const We=this.LA(1);return je[We.tokenTypeIdx]===!0}}}return function(){const re=kt.call(this,c,z,Mt,h);return typeof re=="object"?!1:re===0}}}function Ve(i,e=!0){const n=new Set;for(const r of i){const s=new Set;for(const l of r){if(l===void 0){if(e)break;return!1}const c=[l.tokenTypeIdx].concat(l.categoryMatches);for(const h of c)if(n.has(h)){if(!s.has(h))return!1}else n.add(h),s.add(h)}}return!0}function Dn(i){const e=i.decisionStates.length,n=Array(e);for(let r=0;r<e;r++)n[r]=bt(i.decisionStates[r],r);return n}function kt(i,e,n,r){const s=i[e](n);let l=s.start;if(l===void 0){const h=et(s.atnStartState);l=Yt(s,An(h)),s.start=l}return jn.apply(this,[s,l,n,r])}function jn(i,e,n,r){let s=e,l=1;const c=[];let h=this.LA(l++);for(;;){let S=Gn(s,h);if(S===void 0&&(S=Gt.apply(this,[i,s,h,l,n,r])),S===Re)return Et(c,s,h);if(S.isAcceptState===!0)return S.prediction;s=S,c.push(h),h=this.LA(l++)}}function Gt(i,e,n,r,s,l){const c=ot(e.configs,n,s);if(c.size===0)return It(i,e,n,Re),Re;let h=An(c);const S=Dt(c,s);if(S!==void 0)h.isAcceptState=!0,h.prediction=S,h.configs.uniqueAlt=S;else if(St(c)){const j=(0,Lt.A)(c.alts);h.isAcceptState=!0,h.prediction=j,h.configs.uniqueAlt=j,Fn.apply(this,[i,r,c.alts,l])}return h=It(i,e,n,h),h}function Fn(i,e,n,r){const s=[];for(let j=1;j<=e;j++)s.push(this.LA(j).tokenType);const l=i.atnStartState,c=l.rule,h=l.production,S=st({topLevelRule:c,ambiguityIndices:n,production:h,prefixPath:s});r(S)}function st(i){const e=(0,K.A)(i.prefixPath,s=>(0,D.Sk)(s)).join(", "),n=i.production.idx===0?"":i.production.idx;let r=`Ambiguous Alternatives Detected: <${i.ambiguityIndices.join(", ")}> in <${Un(i.production)}${n}> inside <${i.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
`;return r=r+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,r}function Un(i){if(i instanceof D.wL)return"SUBRULE";if(i instanceof D.c$)return"OPTION";if(i instanceof D.ak)return"OR";if(i instanceof D.$P)return"AT_LEAST_ONE";if(i instanceof D.Cy)return"AT_LEAST_ONE_SEP";if(i instanceof D.Pp)return"MANY_SEP";if(i instanceof D.Y2)return"MANY";if(i instanceof D.BK)return"CONSUME";throw Error("non exhaustive match")}function Et(i,e,n){const r=(0,Ht.A)(e.configs.elements,l=>l.state.transitions),s=gn(r.filter(l=>l instanceof ue).map(l=>l.tokenType),l=>l.tokenTypeIdx);return{actualToken:n,possibleTokenTypes:s,tokenPath:i}}function Gn(i,e){return i.edges[e.tokenTypeIdx]}function ot(i,e,n){const r=new Ae,s=[];for(const c of i.elements){if(n.is(c.alt)===!1)continue;if(c.state.type===p){s.push(c);continue}const h=c.state.transitions.length;for(let S=0;S<h;S++){const j=c.state.transitions[S],z=Xt(j,e);z!==void 0&&r.add({state:z,alt:c.alt,stack:c.stack})}}let l;if(s.length===0&&r.size===1&&(l=r),l===void 0){l=new Ae;for(const c of r.elements)Ct(c,l)}if(s.length>0&&!jt(l))for(const c of s)l.add(c);return l}function Xt(i,e){if(i instanceof ue&&(0,D.G)(e,i.tokenType))return i.target}function Dt(i,e){let n;for(const r of i.elements)if(e.is(r.alt)===!0){if(n===void 0)n=r.alt;else if(n!==r.alt)return}return n}function An(i){return{configs:i,edges:{},isAcceptState:!1,prediction:-1}}function It(i,e,n,r){return r=Yt(i,r),e.edges[n.tokenTypeIdx]=r,r}function Yt(i,e){if(e===Re)return e;const n=e.configs.key,r=i.states[n];return r!==void 0?r:(e.configs.finalize(),i.states[n]=e,e)}function et(i){const e=new Ae,n=i.transitions.length;for(let r=0;r<n;r++){const l={state:i.transitions[r].target,alt:r,stack:[]};Ct(l,e)}return e}function Ct(i,e){const n=i.state;if(n.type===p){if(i.stack.length>0){const s=[...i.stack],c={state:s.pop(),alt:i.alt,stack:s};Ct(c,e)}else e.add(i);return}n.epsilonOnlyTransitions||e.add(i);const r=n.transitions.length;for(let s=0;s<r;s++){const l=n.transitions[s],c=ht(i,l);c!==void 0&&Ct(c,e)}}function ht(i,e){if(e instanceof G)return{state:e.target,alt:i.alt,stack:i.stack};if(e instanceof te){const n=[...i.stack,e.followState];return{state:e.target,alt:i.alt,stack:n}}}function jt(i){for(const e of i.elements)if(e.state.type===p)return!0;return!1}function mt(i){for(const e of i.elements)if(e.state.type!==p)return!1;return!0}function St(i){if(mt(i))return!0;const e=pt(i.elements);return be(e)&&!Ne(e)}function pt(i){const e=new Map;for(const n of i){const r=we(n,!1);let s=e.get(r);s===void 0&&(s={},e.set(r,s)),s[n.alt]=!0}return e}function be(i){for(const e of Array.from(i.values()))if(Object.keys(e).length>1)return!0;return!1}function Ne(i){for(const e of Array.from(i.values()))if(Object.keys(e).length===1)return!0;return!1}var Ie=R("./node_modules/langium/lib/utils/ast-utils.js"),Fe;(function(i){function e(n){return typeof n=="string"}i.is=e})(Fe||(Fe={}));var it;(function(i){function e(n){return typeof n=="string"}i.is=e})(it||(it={}));var Qe;(function(i){i.MIN_VALUE=-2147483648,i.MAX_VALUE=2147483647;function e(n){return typeof n=="number"&&i.MIN_VALUE<=n&&n<=i.MAX_VALUE}i.is=e})(Qe||(Qe={}));var Tn;(function(i){i.MIN_VALUE=0,i.MAX_VALUE=2147483647;function e(n){return typeof n=="number"&&i.MIN_VALUE<=n&&n<=i.MAX_VALUE}i.is=e})(Tn||(Tn={}));var Pe;(function(i){function e(r,s){return r===Number.MAX_VALUE&&(r=Tn.MAX_VALUE),s===Number.MAX_VALUE&&(s=Tn.MAX_VALUE),{line:r,character:s}}i.create=e;function n(r){let s=r;return O.objectLiteral(s)&&O.uinteger(s.line)&&O.uinteger(s.character)}i.is=n})(Pe||(Pe={}));var ne;(function(i){function e(r,s,l,c){if(O.uinteger(r)&&O.uinteger(s)&&O.uinteger(l)&&O.uinteger(c))return{start:Pe.create(r,s),end:Pe.create(l,c)};if(Pe.is(r)&&Pe.is(s))return{start:r,end:s};throw new Error(`Range#create called with invalid arguments[${r}, ${s}, ${l}, ${c}]`)}i.create=e;function n(r){let s=r;return O.objectLiteral(s)&&Pe.is(s.start)&&Pe.is(s.end)}i.is=n})(ne||(ne={}));var B;(function(i){function e(r,s){return{uri:r,range:s}}i.create=e;function n(r){let s=r;return O.objectLiteral(s)&&ne.is(s.range)&&(O.string(s.uri)||O.undefined(s.uri))}i.is=n})(B||(B={}));var Ft;(function(i){function e(r,s,l,c){return{targetUri:r,targetRange:s,targetSelectionRange:l,originSelectionRange:c}}i.create=e;function n(r){let s=r;return O.objectLiteral(s)&&ne.is(s.targetRange)&&O.string(s.targetUri)&&ne.is(s.targetSelectionRange)&&(ne.is(s.originSelectionRange)||O.undefined(s.originSelectionRange))}i.is=n})(Ft||(Ft={}));var lt;(function(i){function e(r,s,l,c){return{red:r,green:s,blue:l,alpha:c}}i.create=e;function n(r){const s=r;return O.objectLiteral(s)&&O.numberRange(s.red,0,1)&&O.numberRange(s.green,0,1)&&O.numberRange(s.blue,0,1)&&O.numberRange(s.alpha,0,1)}i.is=n})(lt||(lt={}));var Bn;(function(i){function e(r,s){return{range:r,color:s}}i.create=e;function n(r){const s=r;return O.objectLiteral(s)&&ne.is(s.range)&&lt.is(s.color)}i.is=n})(Bn||(Bn={}));var Qt;(function(i){function e(r,s,l){return{label:r,textEdit:s,additionalTextEdits:l}}i.create=e;function n(r){const s=r;return O.objectLiteral(s)&&O.string(s.label)&&(O.undefined(s.textEdit)||Bt.is(s))&&(O.undefined(s.additionalTextEdits)||O.typedArray(s.additionalTextEdits,Bt.is))}i.is=n})(Qt||(Qt={}));var fs;(function(i){i.Comment="comment",i.Imports="imports",i.Region="region"})(fs||(fs={}));var hs;(function(i){function e(r,s,l,c,h,S){const j={startLine:r,endLine:s};return O.defined(l)&&(j.startCharacter=l),O.defined(c)&&(j.endCharacter=c),O.defined(h)&&(j.kind=h),O.defined(S)&&(j.collapsedText=S),j}i.create=e;function n(r){const s=r;return O.objectLiteral(s)&&O.uinteger(s.startLine)&&O.uinteger(s.startLine)&&(O.undefined(s.startCharacter)||O.uinteger(s.startCharacter))&&(O.undefined(s.endCharacter)||O.uinteger(s.endCharacter))&&(O.undefined(s.kind)||O.string(s.kind))}i.is=n})(hs||(hs={}));var sr;(function(i){function e(r,s){return{location:r,message:s}}i.create=e;function n(r){let s=r;return O.defined(s)&&B.is(s.location)&&O.string(s.message)}i.is=n})(sr||(sr={}));var gt;(function(i){i.Error=1,i.Warning=2,i.Information=3,i.Hint=4})(gt||(gt={}));var At;(function(i){i.Unnecessary=1,i.Deprecated=2})(At||(At={}));var ms;(function(i){function e(n){const r=n;return O.objectLiteral(r)&&O.string(r.href)}i.is=e})(ms||(ms={}));var ir;(function(i){function e(r,s,l,c,h,S){let j={range:r,message:s};return O.defined(l)&&(j.severity=l),O.defined(c)&&(j.code=c),O.defined(h)&&(j.source=h),O.defined(S)&&(j.relatedInformation=S),j}i.create=e;function n(r){var s;let l=r;return O.defined(l)&&ne.is(l.range)&&O.string(l.message)&&(O.number(l.severity)||O.undefined(l.severity))&&(O.integer(l.code)||O.string(l.code)||O.undefined(l.code))&&(O.undefined(l.codeDescription)||O.string((s=l.codeDescription)===null||s===void 0?void 0:s.href))&&(O.string(l.source)||O.undefined(l.source))&&(O.undefined(l.relatedInformation)||O.typedArray(l.relatedInformation,sr.is))}i.is=n})(ir||(ir={}));var vn;(function(i){function e(r,s,...l){let c={title:r,command:s};return O.defined(l)&&l.length>0&&(c.arguments=l),c}i.create=e;function n(r){let s=r;return O.defined(s)&&O.string(s.title)&&O.string(s.command)}i.is=n})(vn||(vn={}));var Bt;(function(i){function e(l,c){return{range:l,newText:c}}i.replace=e;function n(l,c){return{range:{start:l,end:l},newText:c}}i.insert=n;function r(l){return{range:l,newText:""}}i.del=r;function s(l){const c=l;return O.objectLiteral(c)&&O.string(c.newText)&&ne.is(c.range)}i.is=s})(Bt||(Bt={}));var En;(function(i){function e(r,s,l){const c={label:r};return s!==void 0&&(c.needsConfirmation=s),l!==void 0&&(c.description=l),c}i.create=e;function n(r){const s=r;return O.objectLiteral(s)&&O.string(s.label)&&(O.boolean(s.needsConfirmation)||s.needsConfirmation===void 0)&&(O.string(s.description)||s.description===void 0)}i.is=n})(En||(En={}));var ut;(function(i){function e(n){const r=n;return O.string(r)}i.is=e})(ut||(ut={}));var Zt;(function(i){function e(l,c,h){return{range:l,newText:c,annotationId:h}}i.replace=e;function n(l,c,h){return{range:{start:l,end:l},newText:c,annotationId:h}}i.insert=n;function r(l,c){return{range:l,newText:"",annotationId:c}}i.del=r;function s(l){const c=l;return Bt.is(c)&&(En.is(c.annotationId)||ut.is(c.annotationId))}i.is=s})(Zt||(Zt={}));var ar;(function(i){function e(r,s){return{textDocument:r,edits:s}}i.create=e;function n(r){let s=r;return O.defined(s)&&In.is(s.textDocument)&&Array.isArray(s.edits)}i.is=n})(ar||(ar={}));var Kn;(function(i){function e(r,s,l){let c={kind:"create",uri:r};return s!==void 0&&(s.overwrite!==void 0||s.ignoreIfExists!==void 0)&&(c.options=s),l!==void 0&&(c.annotationId=l),c}i.create=e;function n(r){let s=r;return s&&s.kind==="create"&&O.string(s.uri)&&(s.options===void 0||(s.options.overwrite===void 0||O.boolean(s.options.overwrite))&&(s.options.ignoreIfExists===void 0||O.boolean(s.options.ignoreIfExists)))&&(s.annotationId===void 0||ut.is(s.annotationId))}i.is=n})(Kn||(Kn={}));var Rn;(function(i){function e(r,s,l,c){let h={kind:"rename",oldUri:r,newUri:s};return l!==void 0&&(l.overwrite!==void 0||l.ignoreIfExists!==void 0)&&(h.options=l),c!==void 0&&(h.annotationId=c),h}i.create=e;function n(r){let s=r;return s&&s.kind==="rename"&&O.string(s.oldUri)&&O.string(s.newUri)&&(s.options===void 0||(s.options.overwrite===void 0||O.boolean(s.options.overwrite))&&(s.options.ignoreIfExists===void 0||O.boolean(s.options.ignoreIfExists)))&&(s.annotationId===void 0||ut.is(s.annotationId))}i.is=n})(Rn||(Rn={}));var Wn;(function(i){function e(r,s,l){let c={kind:"delete",uri:r};return s!==void 0&&(s.recursive!==void 0||s.ignoreIfNotExists!==void 0)&&(c.options=s),l!==void 0&&(c.annotationId=l),c}i.create=e;function n(r){let s=r;return s&&s.kind==="delete"&&O.string(s.uri)&&(s.options===void 0||(s.options.recursive===void 0||O.boolean(s.options.recursive))&&(s.options.ignoreIfNotExists===void 0||O.boolean(s.options.ignoreIfNotExists)))&&(s.annotationId===void 0||ut.is(s.annotationId))}i.is=n})(Wn||(Wn={}));var _n;(function(i){function e(n){let r=n;return r&&(r.changes!==void 0||r.documentChanges!==void 0)&&(r.documentChanges===void 0||r.documentChanges.every(s=>O.string(s.kind)?Kn.is(s)||Rn.is(s)||Wn.is(s):ar.is(s)))}i.is=e})(_n||(_n={}));class or{constructor(e,n){this.edits=e,this.changeAnnotations=n}insert(e,n,r){let s,l;if(r===void 0?s=Bt.insert(e,n):ut.is(r)?(l=r,s=Zt.insert(e,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),l=this.changeAnnotations.manage(r),s=Zt.insert(e,n,l)),this.edits.push(s),l!==void 0)return l}replace(e,n,r){let s,l;if(r===void 0?s=Bt.replace(e,n):ut.is(r)?(l=r,s=Zt.replace(e,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),l=this.changeAnnotations.manage(r),s=Zt.replace(e,n,l)),this.edits.push(s),l!==void 0)return l}delete(e,n){let r,s;if(n===void 0?r=Bt.del(e):ut.is(n)?(s=n,r=Zt.del(e,n)):(this.assertChangeAnnotations(this.changeAnnotations),s=this.changeAnnotations.manage(n),r=Zt.del(e,s)),this.edits.push(r),s!==void 0)return s}add(e){this.edits.push(e)}all(){return this.edits}clear(){this.edits.splice(0,this.edits.length)}assertChangeAnnotations(e){if(e===void 0)throw new Error("Text edit change is not configured to manage change annotations.")}}class kn{constructor(e){this._annotations=e===void 0?Object.create(null):e,this._counter=0,this._size=0}all(){return this._annotations}get size(){return this._size}manage(e,n){let r;if(ut.is(e)?r=e:(r=this.nextId(),n=e),this._annotations[r]!==void 0)throw new Error(`Id ${r} is already in use.`);if(n===void 0)throw new Error(`No annotation provided for id ${r}`);return this._annotations[r]=n,this._size++,r}nextId(){return this._counter++,this._counter.toString()}}class ha{constructor(e){this._textEditChanges=Object.create(null),e!==void 0?(this._workspaceEdit=e,e.documentChanges?(this._changeAnnotations=new kn(e.changeAnnotations),e.changeAnnotations=this._changeAnnotations.all(),e.documentChanges.forEach(n=>{if(ar.is(n)){const r=new or(n.edits,this._changeAnnotations);this._textEditChanges[n.textDocument.uri]=r}})):e.changes&&Object.keys(e.changes).forEach(n=>{const r=new or(e.changes[n]);this._textEditChanges[n]=r})):this._workspaceEdit={}}get edit(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit}getTextEditChange(e){if(In.is(e)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");const n={uri:e.uri,version:e.version};let r=this._textEditChanges[n.uri];if(!r){const s=[],l={textDocument:n,edits:s};this._workspaceEdit.documentChanges.push(l),r=new or(s,this._changeAnnotations),this._textEditChanges[n.uri]=r}return r}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");let n=this._textEditChanges[e];if(!n){let r=[];this._workspaceEdit.changes[e]=r,n=new or(r),this._textEditChanges[e]=n}return n}}initDocumentChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new kn,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())}initChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))}createFile(e,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let s;En.is(n)||ut.is(n)?s=n:r=n;let l,c;if(s===void 0?l=Kn.create(e,r):(c=ut.is(s)?s:this._changeAnnotations.manage(s),l=Kn.create(e,r,c)),this._workspaceEdit.documentChanges.push(l),c!==void 0)return c}renameFile(e,n,r,s){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let l;En.is(r)||ut.is(r)?l=r:s=r;let c,h;if(l===void 0?c=Rn.create(e,n,s):(h=ut.is(l)?l:this._changeAnnotations.manage(l),c=Rn.create(e,n,s,h)),this._workspaceEdit.documentChanges.push(c),h!==void 0)return h}deleteFile(e,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let s;En.is(n)||ut.is(n)?s=n:r=n;let l,c;if(s===void 0?l=Wn.create(e,r):(c=ut.is(s)?s:this._changeAnnotations.manage(s),l=Wn.create(e,r,c)),this._workspaceEdit.documentChanges.push(l),c!==void 0)return c}}var Rt;(function(i){function e(r){return{uri:r}}i.create=e;function n(r){let s=r;return O.defined(s)&&O.string(s.uri)}i.is=n})(Rt||(Rt={}));var on;(function(i){function e(r,s){return{uri:r,version:s}}i.create=e;function n(r){let s=r;return O.defined(s)&&O.string(s.uri)&&O.integer(s.version)}i.is=n})(on||(on={}));var In;(function(i){function e(r,s){return{uri:r,version:s}}i.create=e;function n(r){let s=r;return O.defined(s)&&O.string(s.uri)&&(s.version===null||O.integer(s.version))}i.is=n})(In||(In={}));var wr;(function(i){function e(r,s,l,c){return{uri:r,languageId:s,version:l,text:c}}i.create=e;function n(r){let s=r;return O.defined(s)&&O.string(s.uri)&&O.string(s.languageId)&&O.integer(s.version)&&O.string(s.text)}i.is=n})(wr||(wr={}));var Cn;(function(i){i.PlainText="plaintext",i.Markdown="markdown";function e(n){const r=n;return r===i.PlainText||r===i.Markdown}i.is=e})(Cn||(Cn={}));var Vn;(function(i){function e(n){const r=n;return O.objectLiteral(n)&&Cn.is(r.kind)&&O.string(r.value)}i.is=e})(Vn||(Vn={}));var Hn;(function(i){i.Text=1,i.Method=2,i.Function=3,i.Constructor=4,i.Field=5,i.Variable=6,i.Class=7,i.Interface=8,i.Module=9,i.Property=10,i.Unit=11,i.Value=12,i.Enum=13,i.Keyword=14,i.Snippet=15,i.Color=16,i.File=17,i.Reference=18,i.Folder=19,i.EnumMember=20,i.Constant=21,i.Struct=22,i.Event=23,i.Operator=24,i.TypeParameter=25})(Hn||(Hn={}));var ps;(function(i){i.PlainText=1,i.Snippet=2})(ps||(ps={}));var Lr;(function(i){i.Deprecated=1})(Lr||(Lr={}));var zn;(function(i){function e(r,s,l){return{newText:r,insert:s,replace:l}}i.create=e;function n(r){const s=r;return s&&O.string(s.newText)&&ne.is(s.insert)&&ne.is(s.replace)}i.is=n})(zn||(zn={}));var gs;(function(i){i.asIs=1,i.adjustIndentation=2})(gs||(gs={}));var lr;(function(i){function e(n){const r=n;return r&&(O.string(r.detail)||r.detail===void 0)&&(O.string(r.description)||r.description===void 0)}i.is=e})(lr||(lr={}));var Xn;(function(i){function e(n){return{label:n}}i.create=e})(Xn||(Xn={}));var ys;(function(i){function e(n,r){return{items:n||[],isIncomplete:!!r}}i.create=e})(ys||(ys={}));var Yn;(function(i){function e(r){return r.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}i.fromPlainText=e;function n(r){const s=r;return O.string(s)||O.objectLiteral(s)&&O.string(s.language)&&O.string(s.value)}i.is=n})(Yn||(Yn={}));var ur;(function(i){function e(n){let r=n;return!!r&&O.objectLiteral(r)&&(Vn.is(r.contents)||Yn.is(r.contents)||O.typedArray(r.contents,Yn.is))&&(n.range===void 0||ne.is(n.range))}i.is=e})(ur||(ur={}));var As;(function(i){function e(n,r){return r?{label:n,documentation:r}:{label:n}}i.create=e})(As||(As={}));var cr;(function(i){function e(n,r,...s){let l={label:n};return O.defined(r)&&(l.documentation=r),O.defined(s)?l.parameters=s:l.parameters=[],l}i.create=e})(cr||(cr={}));var Jt;(function(i){i.Text=1,i.Read=2,i.Write=3})(Jt||(Jt={}));var Sn;(function(i){function e(n,r){let s={range:n};return O.number(r)&&(s.kind=r),s}i.create=e})(Sn||(Sn={}));var Qn;(function(i){i.File=1,i.Module=2,i.Namespace=3,i.Package=4,i.Class=5,i.Method=6,i.Property=7,i.Field=8,i.Constructor=9,i.Enum=10,i.Interface=11,i.Function=12,i.Variable=13,i.Constant=14,i.String=15,i.Number=16,i.Boolean=17,i.Array=18,i.Object=19,i.Key=20,i.Null=21,i.EnumMember=22,i.Struct=23,i.Event=24,i.Operator=25,i.TypeParameter=26})(Qn||(Qn={}));var Zn;(function(i){i.Deprecated=1})(Zn||(Zn={}));var Si;(function(i){function e(n,r,s,l,c){let h={name:n,kind:r,location:{uri:l,range:s}};return c&&(h.containerName=c),h}i.create=e})(Si||(Si={}));var xi;(function(i){function e(n,r,s,l){return l!==void 0?{name:n,kind:r,location:{uri:s,range:l}}:{name:n,kind:r,location:{uri:s}}}i.create=e})(xi||(xi={}));var Ts;(function(i){function e(r,s,l,c,h,S){let j={name:r,detail:s,kind:l,range:c,selectionRange:h};return S!==void 0&&(j.children=S),j}i.create=e;function n(r){let s=r;return s&&O.string(s.name)&&O.number(s.kind)&&ne.is(s.range)&&ne.is(s.selectionRange)&&(s.detail===void 0||O.string(s.detail))&&(s.deprecated===void 0||O.boolean(s.deprecated))&&(s.children===void 0||Array.isArray(s.children))&&(s.tags===void 0||Array.isArray(s.tags))}i.is=n})(Ts||(Ts={}));var vs;(function(i){i.Empty="",i.QuickFix="quickfix",i.Refactor="refactor",i.RefactorExtract="refactor.extract",i.RefactorInline="refactor.inline",i.RefactorRewrite="refactor.rewrite",i.Source="source",i.SourceOrganizeImports="source.organizeImports",i.SourceFixAll="source.fixAll"})(vs||(vs={}));var dr;(function(i){i.Invoked=1,i.Automatic=2})(dr||(dr={}));var Es;(function(i){function e(r,s,l){let c={diagnostics:r};return s!=null&&(c.only=s),l!=null&&(c.triggerKind=l),c}i.create=e;function n(r){let s=r;return O.defined(s)&&O.typedArray(s.diagnostics,ir.is)&&(s.only===void 0||O.typedArray(s.only,O.string))&&(s.triggerKind===void 0||s.triggerKind===dr.Invoked||s.triggerKind===dr.Automatic)}i.is=n})(Es||(Es={}));var Rs;(function(i){function e(r,s,l){let c={title:r},h=!0;return typeof s=="string"?(h=!1,c.kind=s):vn.is(s)?c.command=s:c.edit=s,h&&l!==void 0&&(c.kind=l),c}i.create=e;function n(r){let s=r;return s&&O.string(s.title)&&(s.diagnostics===void 0||O.typedArray(s.diagnostics,ir.is))&&(s.kind===void 0||O.string(s.kind))&&(s.edit!==void 0||s.command!==void 0)&&(s.command===void 0||vn.is(s.command))&&(s.isPreferred===void 0||O.boolean(s.isPreferred))&&(s.edit===void 0||_n.is(s.edit))}i.is=n})(Rs||(Rs={}));var _s;(function(i){function e(r,s){let l={range:r};return O.defined(s)&&(l.data=s),l}i.create=e;function n(r){let s=r;return O.defined(s)&&ne.is(s.range)&&(O.undefined(s.command)||vn.is(s.command))}i.is=n})(_s||(_s={}));var ks;(function(i){function e(r,s){return{tabSize:r,insertSpaces:s}}i.create=e;function n(r){let s=r;return O.defined(s)&&O.uinteger(s.tabSize)&&O.boolean(s.insertSpaces)}i.is=n})(ks||(ks={}));var Is;(function(i){function e(r,s,l){return{range:r,target:s,data:l}}i.create=e;function n(r){let s=r;return O.defined(s)&&ne.is(s.range)&&(O.undefined(s.target)||O.string(s.target))}i.is=n})(Is||(Is={}));var Cs;(function(i){function e(r,s){return{range:r,parent:s}}i.create=e;function n(r){let s=r;return O.objectLiteral(s)&&ne.is(s.range)&&(s.parent===void 0||i.is(s.parent))}i.is=n})(Cs||(Cs={}));var Ss;(function(i){i.namespace="namespace",i.type="type",i.class="class",i.enum="enum",i.interface="interface",i.struct="struct",i.typeParameter="typeParameter",i.parameter="parameter",i.variable="variable",i.property="property",i.enumMember="enumMember",i.event="event",i.function="function",i.method="method",i.macro="macro",i.keyword="keyword",i.modifier="modifier",i.comment="comment",i.string="string",i.number="number",i.regexp="regexp",i.operator="operator",i.decorator="decorator"})(Ss||(Ss={}));var xs;(function(i){i.declaration="declaration",i.definition="definition",i.readonly="readonly",i.static="static",i.deprecated="deprecated",i.abstract="abstract",i.async="async",i.modification="modification",i.documentation="documentation",i.defaultLibrary="defaultLibrary"})(xs||(xs={}));var Ns;(function(i){function e(n){const r=n;return O.objectLiteral(r)&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}i.is=e})(Ns||(Ns={}));var $s;(function(i){function e(r,s){return{range:r,text:s}}i.create=e;function n(r){const s=r;return s!=null&&ne.is(s.range)&&O.string(s.text)}i.is=n})($s||($s={}));var Os;(function(i){function e(r,s,l){return{range:r,variableName:s,caseSensitiveLookup:l}}i.create=e;function n(r){const s=r;return s!=null&&ne.is(s.range)&&O.boolean(s.caseSensitiveLookup)&&(O.string(s.variableName)||s.variableName===void 0)}i.is=n})(Os||(Os={}));var ws;(function(i){function e(r,s){return{range:r,expression:s}}i.create=e;function n(r){const s=r;return s!=null&&ne.is(s.range)&&(O.string(s.expression)||s.expression===void 0)}i.is=n})(ws||(ws={}));var Ls;(function(i){function e(r,s){return{frameId:r,stoppedLocation:s}}i.create=e;function n(r){const s=r;return O.defined(s)&&ne.is(r.stoppedLocation)}i.is=n})(Ls||(Ls={}));var Pr;(function(i){i.Type=1,i.Parameter=2;function e(n){return n===1||n===2}i.is=e})(Pr||(Pr={}));var fr;(function(i){function e(r){return{value:r}}i.create=e;function n(r){const s=r;return O.objectLiteral(s)&&(s.tooltip===void 0||O.string(s.tooltip)||Vn.is(s.tooltip))&&(s.location===void 0||B.is(s.location))&&(s.command===void 0||vn.is(s.command))}i.is=n})(fr||(fr={}));var br;(function(i){function e(r,s,l){const c={position:r,label:s};return l!==void 0&&(c.kind=l),c}i.create=e;function n(r){const s=r;return O.objectLiteral(s)&&Pe.is(s.position)&&(O.string(s.label)||O.typedArray(s.label,fr.is))&&(s.kind===void 0||Pr.is(s.kind))&&s.textEdits===void 0||O.typedArray(s.textEdits,Bt.is)&&(s.tooltip===void 0||O.string(s.tooltip)||Vn.is(s.tooltip))&&(s.paddingLeft===void 0||O.boolean(s.paddingLeft))&&(s.paddingRight===void 0||O.boolean(s.paddingRight))}i.is=n})(br||(br={}));var Ps;(function(i){function e(n){return{kind:"snippet",value:n}}i.createSnippet=e})(Ps||(Ps={}));var bs;(function(i){function e(n,r,s,l){return{insertText:n,filterText:r,range:s,command:l}}i.create=e})(bs||(bs={}));var Ms;(function(i){function e(n){return{items:n}}i.create=e})(Ms||(Ms={}));var Mr;(function(i){i.Invoked=0,i.Automatic=1})(Mr||(Mr={}));var Ds;(function(i){function e(n,r){return{range:n,text:r}}i.create=e})(Ds||(Ds={}));var js;(function(i){function e(n,r){return{triggerKind:n,selectedCompletionInfo:r}}i.create=e})(js||(js={}));var Dr;(function(i){function e(n){const r=n;return O.objectLiteral(r)&&it.is(r.uri)&&O.string(r.name)}i.is=e})(Dr||(Dr={}));const ma=null;var jr;(function(i){function e(l,c,h,S){return new Fr(l,c,h,S)}i.create=e;function n(l){let c=l;return!!(O.defined(c)&&O.string(c.uri)&&(O.undefined(c.languageId)||O.string(c.languageId))&&O.uinteger(c.lineCount)&&O.func(c.getText)&&O.func(c.positionAt)&&O.func(c.offsetAt))}i.is=n;function r(l,c){let h=l.getText(),S=s(c,(z,ae)=>{let re=z.range.start.line-ae.range.start.line;return re===0?z.range.start.character-ae.range.start.character:re}),j=h.length;for(let z=S.length-1;z>=0;z--){let ae=S[z],re=l.offsetAt(ae.range.start),Y=l.offsetAt(ae.range.end);if(Y<=j)h=h.substring(0,re)+ae.newText+h.substring(Y,h.length);else throw new Error("Overlapping edit");j=re}return h}i.applyEdits=r;function s(l,c){if(l.length<=1)return l;const h=l.length/2|0,S=l.slice(0,h),j=l.slice(h);s(S,c),s(j,c);let z=0,ae=0,re=0;for(;z<S.length&&ae<j.length;)c(S[z],j[ae])<=0?l[re++]=S[z++]:l[re++]=j[ae++];for(;z<S.length;)l[re++]=S[z++];for(;ae<j.length;)l[re++]=j[ae++];return l}})(jr||(jr={}));class Fr{constructor(e,n,r,s){this._uri=e,this._languageId=n,this._version=r,this._content=s,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let n=this.offsetAt(e.start),r=this.offsetAt(e.end);return this._content.substring(n,r)}return this._content}update(e,n){this._content=e.text,this._version=n,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let e=[],n=this._content,r=!0;for(let s=0;s<n.length;s++){r&&(e.push(s),r=!1);let l=n.charAt(s);r=l==="\r"||l===`
`,l==="\r"&&s+1<n.length&&n.charAt(s+1)===`
`&&s++}r&&n.length>0&&e.push(n.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let n=this.getLineOffsets(),r=0,s=n.length;if(s===0)return Pe.create(0,e);for(;r<s;){let c=Math.floor((r+s)/2);n[c]>e?s=c:r=c+1}let l=r-1;return Pe.create(l,e-n[l])}offsetAt(e){let n=this.getLineOffsets();if(e.line>=n.length)return this._content.length;if(e.line<0)return 0;let r=n[e.line],s=e.line+1<n.length?n[e.line+1]:this._content.length;return Math.max(Math.min(r+e.character,s),r)}get lineCount(){return this.getLineOffsets().length}}var O;(function(i){const e=Object.prototype.toString;function n(Y){return typeof Y<"u"}i.defined=n;function r(Y){return typeof Y>"u"}i.undefined=r;function s(Y){return Y===!0||Y===!1}i.boolean=s;function l(Y){return e.call(Y)==="[object String]"}i.string=l;function c(Y){return e.call(Y)==="[object Number]"}i.number=c;function h(Y,je,We){return e.call(Y)==="[object Number]"&&je<=Y&&Y<=We}i.numberRange=h;function S(Y){return e.call(Y)==="[object Number]"&&-2147483648<=Y&&Y<=2147483647}i.integer=S;function j(Y){return e.call(Y)==="[object Number]"&&0<=Y&&Y<=2147483647}i.uinteger=j;function z(Y){return e.call(Y)==="[object Function]"}i.func=z;function ae(Y){return Y!==null&&typeof Y=="object"}i.objectLiteral=ae;function re(Y,je){return Array.isArray(Y)&&Y.every(je)}i.typedArray=re})(O||(O={}));class hr{constructor(){this.nodeStack=[]}get current(){var e;return(e=this.nodeStack[this.nodeStack.length-1])!==null&&e!==void 0?e:this.rootNode}buildRootNode(e){return this.rootNode=new ln(e),this.rootNode.root=this.rootNode,this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(e){const n=new mr;return n.grammarSource=e,n.root=this.rootNode,this.current.content.push(n),this.nodeStack.push(n),n}buildLeafNode(e,n){const r=new Ur(e.startOffset,e.image.length,(0,v.wf)(e),e.tokenType,!n);return r.grammarSource=n,r.root=this.rootNode,this.current.content.push(r),r}removeNode(e){const n=e.container;if(n){const r=n.content.indexOf(e);r>=0&&n.content.splice(r,1)}}addHiddenNodes(e){const n=[];for(const l of e){const c=new Ur(l.startOffset,l.image.length,(0,v.wf)(l),l.tokenType,!0);c.root=this.rootNode,n.push(c)}let r=this.current,s=!1;if(r.content.length>0){r.content.push(...n);return}for(;r.container;){const l=r.container.content.indexOf(r);if(l>0){r.container.content.splice(l,0,...n),s=!0;break}r=r.container}s||this.rootNode.content.unshift(...n)}construct(e){const n=this.current;typeof e.$type=="string"&&(this.current.astNode=e),e.$cstNode=n;const r=this.nodeStack.pop();r?.content.length===0&&this.removeNode(r)}}class Kt{get parent(){return this.container}get feature(){return this.grammarSource}get hidden(){return!1}get astNode(){var e,n;const r=typeof((e=this._astNode)===null||e===void 0?void 0:e.$type)=="string"?this._astNode:(n=this.container)===null||n===void 0?void 0:n.astNode;if(!r)throw new Error("This node has no associated AST element");return r}set astNode(e){this._astNode=e}get element(){return this.astNode}get text(){return this.root.fullText.substring(this.offset,this.end)}}class Ur extends Kt{get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(e,n,r,s,l=!1){super(),this._hidden=l,this._offset=e,this._tokenType=s,this._length=n,this._range=r}}class mr extends Kt{constructor(){super(...arguments),this.content=new tt(this)}get children(){return this.content}get offset(){var e,n;return(n=(e=this.firstNonHiddenNode)===null||e===void 0?void 0:e.offset)!==null&&n!==void 0?n:0}get length(){return this.end-this.offset}get end(){var e,n;return(n=(e=this.lastNonHiddenNode)===null||e===void 0?void 0:e.end)!==null&&n!==void 0?n:0}get range(){const e=this.firstNonHiddenNode,n=this.lastNonHiddenNode;if(e&&n){if(this._rangeCache===void 0){const{range:r}=e,{range:s}=n;this._rangeCache={start:r.start,end:s.end.line<r.start.line?r.start:s.end}}return this._rangeCache}else return{start:Pe.create(0,0),end:Pe.create(0,0)}}get firstNonHiddenNode(){for(const e of this.content)if(!e.hidden)return e;return this.content[0]}get lastNonHiddenNode(){for(let e=this.content.length-1;e>=0;e--){const n=this.content[e];if(!n.hidden)return n}return this.content[this.content.length-1]}}class tt extends Array{constructor(e){super(),this.parent=e,Object.setPrototypeOf(this,tt.prototype)}push(...e){return this.addParents(e),super.push(...e)}unshift(...e){return this.addParents(e),super.unshift(...e)}splice(e,n,...r){return this.addParents(r),super.splice(e,n,...r)}addParents(e){for(const n of e)n.container=this.parent}}class ln extends mr{get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(e){super(),this._text="",this._text=e??""}}const pr=Symbol("Datatype");function un(i){return i.$type===pr}const Jn="\u200B",Gr=i=>i.endsWith(Jn)?i:i+Jn;class Br{constructor(e){this._unorderedGroups=new Map,this.allRules=new Map,this.lexer=e.parser.Lexer;const n=this.lexer.definition,r=e.LanguageMetaData.mode==="production";this.wrapper=new Us(n,Object.assign(Object.assign({},e.parser.ParserConfig),{skipValidations:r,errorMessageProvider:e.parser.ParserErrorMessageProvider}))}alternatives(e,n){this.wrapper.wrapOr(e,n)}optional(e,n){this.wrapper.wrapOption(e,n)}many(e,n){this.wrapper.wrapMany(e,n)}atLeastOne(e,n){this.wrapper.wrapAtLeastOne(e,n)}getRule(e){return this.allRules.get(e)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}}class qn extends Br{get current(){return this.stack[this.stack.length-1]}constructor(e){super(e),this.nodeBuilder=new hr,this.stack=[],this.assignmentMap=new Map,this.linker=e.references.Linker,this.converter=e.parser.ValueConverter,this.astReflection=e.shared.AstReflection}rule(e,n){const r=this.computeRuleType(e),s=this.wrapper.DEFINE_RULE(Gr(e.name),this.startImplementation(r,n).bind(this));return this.allRules.set(e.name,s),e.entry&&(this.mainRule=s),s}computeRuleType(e){if(!e.fragment){if((0,M.Xq)(e))return pr;{const n=(0,M.PV)(e);return n??e.name}}}parse(e,n={}){this.nodeBuilder.buildRootNode(e);const r=this.lexerResult=this.lexer.tokenize(e);this.wrapper.input=r.tokens;const s=n.rule?this.allRules.get(n.rule):this.mainRule;if(!s)throw new Error(n.rule?`No rule found with name '${n.rule}'`:"No main rule available.");const l=s.call(this.wrapper,{});return this.nodeBuilder.addHiddenNodes(r.hidden),this.unorderedGroups.clear(),this.lexerResult=void 0,{value:l,lexerErrors:r.errors,lexerReport:r.report,parserErrors:this.wrapper.errors}}startImplementation(e,n){return r=>{const s=!this.isRecording()&&e!==void 0;if(s){const c={$type:e};this.stack.push(c),e===pr&&(c.value="")}let l;try{l=n(r)}catch{l=void 0}return l===void 0&&s&&(l=this.construct()),l}}extractHiddenTokens(e){const n=this.lexerResult.hidden;if(!n.length)return[];const r=e.startOffset;for(let s=0;s<n.length;s++)if(n[s].startOffset>r)return n.splice(0,s);return n.splice(0,n.length)}consume(e,n,r){const s=this.wrapper.wrapConsume(e,n);if(!this.isRecording()&&this.isValidToken(s)){const l=this.extractHiddenTokens(s);this.nodeBuilder.addHiddenNodes(l);const c=this.nodeBuilder.buildLeafNode(s,r),{assignment:h,isCrossRef:S}=this.getAssignment(r),j=this.current;if(h){const z=(0,x.wb)(r)?s.image:this.converter.convert(s.image,c);this.assign(h.operator,h.feature,z,c,S)}else if(un(j)){let z=s.image;(0,x.wb)(r)||(z=this.converter.convert(z,c).toString()),j.value+=z}}}isValidToken(e){return!e.isInsertedInRecovery&&!isNaN(e.startOffset)&&typeof e.endOffset=="number"&&!isNaN(e.endOffset)}subrule(e,n,r,s,l){let c;!this.isRecording()&&!r&&(c=this.nodeBuilder.buildCompositeNode(s));const h=this.wrapper.wrapSubrule(e,n,l);!this.isRecording()&&c&&c.length>0&&this.performSubruleAssignment(h,s,c)}performSubruleAssignment(e,n,r){const{assignment:s,isCrossRef:l}=this.getAssignment(n);if(s)this.assign(s.operator,s.feature,e,r,l);else if(!s){const c=this.current;if(un(c))c.value+=e.toString();else if(typeof e=="object"&&e){const S=this.assignWithoutOverride(e,c);this.stack.pop(),this.stack.push(S)}}}action(e,n){if(!this.isRecording()){let r=this.current;if(n.feature&&n.operator){r=this.construct(),this.nodeBuilder.removeNode(r.$cstNode),this.nodeBuilder.buildCompositeNode(n).content.push(r.$cstNode);const l={$type:e};this.stack.push(l),this.assign(n.operator,n.feature,r,r.$cstNode,!1)}else r.$type=e}}construct(){if(this.isRecording())return;const e=this.current;return(0,Ie.SD)(e),this.nodeBuilder.construct(e),this.stack.pop(),un(e)?this.converter.convert(e.value,e.$cstNode):((0,Ie.OP)(this.astReflection,e),e)}getAssignment(e){if(!this.assignmentMap.has(e)){const n=(0,Ie.XG)(e,x.wh);this.assignmentMap.set(e,{assignment:n,isCrossRef:n?(0,x._c)(n.terminal):!1})}return this.assignmentMap.get(e)}assign(e,n,r,s,l){const c=this.current;let h;switch(l&&typeof r=="string"?h=this.linker.buildReference(c,n,s,r):h=r,e){case"=":{c[n]=h;break}case"?=":{c[n]=!0;break}case"+=":Array.isArray(c[n])||(c[n]=[]),c[n].push(h)}}assignWithoutOverride(e,n){for(const[s,l]of Object.entries(n)){const c=e[s];c===void 0?e[s]=l:Array.isArray(c)&&Array.isArray(l)&&(l.push(...c),e[s]=l)}const r=e.$cstNode;return r&&(r.astNode=void 0,e.$cstNode=void 0),e}get definitionErrors(){return this.wrapper.definitionErrors}}class Ni{buildMismatchTokenMessage(e){return D.my.buildMismatchTokenMessage(e)}buildNotAllInputParsedMessage(e){return D.my.buildNotAllInputParsedMessage(e)}buildNoViableAltMessage(e){return D.my.buildNoViableAltMessage(e)}buildEarlyExitMessage(e){return D.my.buildEarlyExitMessage(e)}}class Fs extends Ni{buildMismatchTokenMessage({expected:e,actual:n}){return`Expecting ${e.LABEL?"`"+e.LABEL+"`":e.name.endsWith(":KW")?`keyword '${e.name.substring(0,e.name.length-3)}'`:`token of type '${e.name}'`} but found \`${n.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:e}){return`Expecting end of file but found \`${e.image}\`.`}}class $i extends Br{constructor(){super(...arguments),this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){}parse(e){this.resetState();const n=this.lexer.tokenize(e,{mode:"partial"});return this.tokens=n.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(e,n){const r=this.wrapper.DEFINE_RULE(Gr(e.name),this.startImplementation(n).bind(this));return this.allRules.set(e.name,r),e.entry&&(this.mainRule=r),r}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(e){return n=>{const r=this.keepStackSize();try{e(n)}finally{this.resetStackSize(r)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){const e=this.elementStack.length;return this.stackSize=e,e}resetStackSize(e){this.removeUnexpectedElements(),this.stackSize=e}consume(e,n,r){this.wrapper.wrapConsume(e,n),this.isRecording()||(this.lastElementStack=[...this.elementStack,r],this.nextTokenIndex=this.currIdx+1)}subrule(e,n,r,s,l){this.before(s),this.wrapper.wrapSubrule(e,n,l),this.after(s)}before(e){this.isRecording()||this.elementStack.push(e)}after(e){if(!this.isRecording()){const n=this.elementStack.lastIndexOf(e);n>=0&&this.elementStack.splice(n)}}get currIdx(){return this.wrapper.currIdx}}const Oi={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new Fs};class Us extends D.jr{constructor(e,n){const r=n&&"maxLookahead"in n;super(e,Object.assign(Object.assign(Object.assign({},Oi),{lookaheadStrategy:r?new D.T6({maxLookahead:n.maxLookahead}):new Mn({logging:n.skipValidations?()=>{}:void 0})}),n))}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(e,n){return this.RULE(e,n)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(e,n){return this.consume(e,n)}wrapSubrule(e,n,r){return this.subrule(e,n,{ARGS:[r]})}wrapOr(e,n){this.or(e,n)}wrapOption(e,n){this.option(e,n)}wrapMany(e,n){this.many(e,n)}wrapAtLeastOne(e,n){this.atLeastOne(e,n)}}var cn=R("./node_modules/langium/lib/utils/errors.js"),at=R("./node_modules/langium/lib/utils/stream.js");function Gs(i,e,n){return wi({parser:e,tokens:n,ruleNames:new Map},i),e}function wi(i,e){const n=(0,M.YV)(e,!1),r=(0,at.Td)(e.rules).filter(x.s7).filter(s=>n.has(s));for(const s of r){const l=Object.assign(Object.assign({},i),{consume:1,optional:1,subrule:1,many:1,or:1});i.parser.rule(s,dn(l,s.definition))}}function dn(i,e,n=!1){let r;if((0,x.wb)(e))r=Ws(i,e);else if((0,x.ve)(e))r=Bs(i,e);else if((0,x.wh)(e))r=dn(i,e.terminal);else if((0,x._c)(e))r=Kr(i,e);else if((0,x.$g)(e))r=Ye(i,e);else if((0,x.jp)(e))r=xn(i,e);else if((0,x.cY)(e))r=pa(i,e);else if((0,x.IZ)(e))r=Ks(i,e);else if((0,x.FO)(e)){const s=i.consume++;r=()=>i.parser.consume(s,D.LT,e)}else throw new cn.W(e.$cstNode,`Unexpected element type: ${e.$type}`);return Wr(i,n?void 0:gr(e),r,e.cardinality)}function Bs(i,e){const n=(0,M.Uz)(e);return()=>i.parser.action(n,e)}function Ye(i,e){const n=e.rule.ref;if((0,x.s7)(n)){const r=i.subrule++,s=n.fragment,l=e.arguments.length>0?er(n,e.arguments):()=>({});return c=>i.parser.subrule(r,Vr(i,n),s,e,l(c))}else if((0,x.rE)(n)){const r=i.consume++,s=yr(i,n.name);return()=>i.parser.consume(r,s,e)}else if(n)(0,cn.d)(n);else throw new cn.W(e.$cstNode,`Undefined rule: ${e.rule.$refText}`)}function er(i,e){const n=e.map(r=>Ze(r.value));return r=>{const s={};for(let l=0;l<n.length;l++){const c=i.parameters[l],h=n[l];s[c.name]=h(r)}return s}}function Ze(i){if((0,x.RP)(i)){const e=Ze(i.left),n=Ze(i.right);return r=>e(r)||n(r)}else if((0,x.Tu)(i)){const e=Ze(i.left),n=Ze(i.right);return r=>e(r)&&n(r)}else if((0,x.Ct)(i)){const e=Ze(i.value);return n=>!e(n)}else if((0,x.TF)(i)){const e=i.parameter.ref.name;return n=>n!==void 0&&n[e]===!0}else if((0,x.Cz)(i)){const e=!!i.true;return()=>e}(0,cn.d)(i)}function xn(i,e){if(e.elements.length===1)return dn(i,e.elements[0]);{const n=[];for(const s of e.elements){const l={ALT:dn(i,s,!0)},c=gr(s);c&&(l.GATE=Ze(c)),n.push(l)}const r=i.or++;return s=>i.parser.alternatives(r,n.map(l=>{const c={ALT:()=>l.ALT(s)},h=l.GATE;return h&&(c.GATE=()=>h(s)),c}))}}function pa(i,e){if(e.elements.length===1)return dn(i,e.elements[0]);const n=[];for(const h of e.elements){const S={ALT:dn(i,h,!0)},j=gr(h);j&&(S.GATE=Ze(j)),n.push(S)}const r=i.or++,s=(h,S)=>{const j=S.getRuleStack().join("-");return`uGroup_${h}_${j}`},l=h=>i.parser.alternatives(r,n.map((S,j)=>{const z={ALT:()=>!0},ae=i.parser;z.ALT=()=>{if(S.ALT(h),!ae.isRecording()){const Y=s(r,ae);ae.unorderedGroups.get(Y)||ae.unorderedGroups.set(Y,[]);const je=ae.unorderedGroups.get(Y);typeof je?.[j]>"u"&&(je[j]=!0)}};const re=S.GATE;return re?z.GATE=()=>re(h):z.GATE=()=>{const Y=ae.unorderedGroups.get(s(r,ae));return!Y?.[j]},z})),c=Wr(i,gr(e),l,"*");return h=>{c(h),i.parser.isRecording()||i.parser.unorderedGroups.delete(s(r,i.parser))}}function Ks(i,e){const n=e.elements.map(r=>dn(i,r));return r=>n.forEach(s=>s(r))}function gr(i){if((0,x.IZ)(i))return i.guardCondition}function Kr(i,e,n=e.terminal){if(n)if((0,x.$g)(n)&&(0,x.s7)(n.rule.ref)){const r=n.rule.ref,s=i.subrule++;return l=>i.parser.subrule(s,Vr(i,r),!1,e,l)}else if((0,x.$g)(n)&&(0,x.rE)(n.rule.ref)){const r=i.consume++,s=yr(i,n.rule.ref.name);return()=>i.parser.consume(r,s,e)}else if((0,x.wb)(n)){const r=i.consume++,s=yr(i,n.value);return()=>i.parser.consume(r,s,e)}else throw new Error("Could not build cross reference parser");else{if(!e.type.ref)throw new Error("Could not resolve reference to type: "+e.type.$refText);const r=(0,M.U5)(e.type.ref),s=r?.terminal;if(!s)throw new Error("Could not find name assignment for type: "+(0,M.Uz)(e.type.ref));return Kr(i,e,s)}}function Ws(i,e){const n=i.consume++,r=i.tokens[e.value];if(!r)throw new Error("Could not find token for keyword: "+e.value);return()=>i.parser.consume(n,r,e)}function Wr(i,e,n,r){const s=e&&Ze(e);if(!r)if(s){const l=i.or++;return c=>i.parser.alternatives(l,[{ALT:()=>n(c),GATE:()=>s(c)},{ALT:(0,D.mT)(),GATE:()=>!s(c)}])}else return n;if(r==="*"){const l=i.many++;return c=>i.parser.many(l,{DEF:()=>n(c),GATE:s?()=>s(c):void 0})}else if(r==="+"){const l=i.many++;if(s){const c=i.or++;return h=>i.parser.alternatives(c,[{ALT:()=>i.parser.atLeastOne(l,{DEF:()=>n(h)}),GATE:()=>s(h)},{ALT:(0,D.mT)(),GATE:()=>!s(h)}])}else return c=>i.parser.atLeastOne(l,{DEF:()=>n(c)})}else if(r==="?"){const l=i.optional++;return c=>i.parser.optional(l,{DEF:()=>n(c),GATE:s?()=>s(c):void 0})}else(0,cn.d)(r)}function Vr(i,e){const n=Vs(i,e),r=i.parser.getRule(n);if(!r)throw new Error(`Rule "${n}" not found."`);return r}function Vs(i,e){if((0,x.s7)(e))return e.name;if(i.ruleNames.has(e))return i.ruleNames.get(e);{let n=e,r=n.$container,s=e.$type;for(;!(0,x.s7)(r);)((0,x.IZ)(r)||(0,x.jp)(r)||(0,x.cY)(r))&&(s=r.elements.indexOf(n).toString()+":"+s),n=r,r=r.$container;return s=r.name+":"+s,i.ruleNames.set(e,s),s}}function yr(i,e){const n=i.tokens[e];if(!n)throw new Error(`Token "${e}" not found."`);return n}function Hs(i){const e=i.Grammar,n=i.parser.Lexer,r=new $i(i);return Gs(e,r,n.definition),r.finalize(),r}function zs(i){const e=Xs(i);return e.finalize(),e}function Xs(i){const e=i.Grammar,n=i.parser.Lexer,r=new qn(i);return Gs(e,r,n.definition)}var Li=R("./node_modules/langium/lib/parser/token-builder.js"),qt=R("./node_modules/langium/lib/parser/value-converter.js"),Ke=R("./node_modules/vscode-jsonrpc/lib/common/cancellation.js"),Ue=R("./node_modules/langium/lib/syntax-tree.js");function Hr(){return new Promise(i=>{typeof setImmediate>"u"?setTimeout(i,0):setImmediate(i)})}let Ar=0,en=10;function Pi(){return Ar=performance.now(),new Ke.Qi}function ga(i){en=i}const ft=Symbol("OperationCancelled");function Tr(i){return i===ft}async function Tt(i){if(i===Ke.XO.None)return;const e=performance.now();if(e-Ar>=en&&(Ar=e,await Hr(),Ar=performance.now()),i.isCancellationRequested)throw ft}class zr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=r=>(e(r),this),this.reject=r=>(n(r),this)})}}class tr{constructor(e,n,r,s){this._uri=e,this._languageId=n,this._version=r,this._content=s,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){const n=this.offsetAt(e.start),r=this.offsetAt(e.end);return this._content.substring(n,r)}return this._content}update(e,n){for(const r of e)if(tr.isIncremental(r)){const s=Zs(r.range),l=this.offsetAt(s.start),c=this.offsetAt(s.end);this._content=this._content.substring(0,l)+r.text+this._content.substring(c,this._content.length);const h=Math.max(s.start.line,0),S=Math.max(s.end.line,0);let j=this._lineOffsets;const z=Ys(r.text,!1,l);if(S-h===z.length)for(let re=0,Y=z.length;re<Y;re++)j[re+h+1]=z[re];else z.length<1e4?j.splice(h+1,S-h,...z):this._lineOffsets=j=j.slice(0,h+1).concat(z,j.slice(S+1));const ae=r.text.length-(c-l);if(ae!==0)for(let re=h+1+z.length,Y=j.length;re<Y;re++)j[re]=j[re]+ae}else if(tr.isFull(r))this._content=r.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=n}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=Ys(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);const n=this.getLineOffsets();let r=0,s=n.length;if(s===0)return{line:0,character:e};for(;r<s;){const c=Math.floor((r+s)/2);n[c]>e?s=c:r=c+1}const l=r-1;return e=this.ensureBeforeEOL(e,n[l]),{line:l,character:e-n[l]}}offsetAt(e){const n=this.getLineOffsets();if(e.line>=n.length)return this._content.length;if(e.line<0)return 0;const r=n[e.line];if(e.character<=0)return r;const s=e.line+1<n.length?n[e.line+1]:this._content.length,l=Math.min(r+e.character,s);return this.ensureBeforeEOL(l,r)}ensureBeforeEOL(e,n){for(;e>n&&Qs(this._content.charCodeAt(e-1));)e--;return e}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){const n=e;return n!=null&&typeof n.text=="string"&&n.range!==void 0&&(n.rangeLength===void 0||typeof n.rangeLength=="number")}static isFull(e){const n=e;return n!=null&&typeof n.text=="string"&&n.range===void 0&&n.rangeLength===void 0}}var Xr;(function(i){function e(s,l,c,h){return new tr(s,l,c,h)}i.create=e;function n(s,l,c){if(s instanceof tr)return s.update(l,c),s;throw new Error("TextDocument.update: document must be created by TextDocument.create")}i.update=n;function r(s,l){const c=s.getText(),h=Yr(l.map(bi),(z,ae)=>{const re=z.range.start.line-ae.range.start.line;return re===0?z.range.start.character-ae.range.start.character:re});let S=0;const j=[];for(const z of h){const ae=s.offsetAt(z.range.start);if(ae<S)throw new Error("Overlapping edit");ae>S&&j.push(c.substring(S,ae)),z.newText.length&&j.push(z.newText),S=s.offsetAt(z.range.end)}return j.push(c.substr(S)),j.join("")}i.applyEdits=r})(Xr||(Xr={}));function Yr(i,e){if(i.length<=1)return i;const n=i.length/2|0,r=i.slice(0,n),s=i.slice(n);Yr(r,e),Yr(s,e);let l=0,c=0,h=0;for(;l<r.length&&c<s.length;)e(r[l],s[c])<=0?i[h++]=r[l++]:i[h++]=s[c++];for(;l<r.length;)i[h++]=r[l++];for(;c<s.length;)i[h++]=s[c++];return i}function Ys(i,e,n=0){const r=e?[n]:[];for(let s=0;s<i.length;s++){const l=i.charCodeAt(s);Qs(l)&&(l===13&&s+1<i.length&&i.charCodeAt(s+1)===10&&s++,r.push(n+s+1))}return r}function Qs(i){return i===13||i===10}function Zs(i){const e=i.start,n=i.end;return e.line>n.line||e.line===n.line&&e.character>n.character?{start:n,end:e}:i}function bi(i){const e=Zs(i.range);return e!==i.range?{newText:i.newText,range:e}:i}var xt=R("./node_modules/vscode-uri/lib/esm/index.mjs"),He;(function(i){i[i.Changed=0]="Changed",i[i.Parsed=1]="Parsed",i[i.IndexedContent=2]="IndexedContent",i[i.ComputedScopes=3]="ComputedScopes",i[i.Linked=4]="Linked",i[i.IndexedReferences=5]="IndexedReferences",i[i.Validated=6]="Validated"})(He||(He={}));class nr{constructor(e){this.serviceRegistry=e.ServiceRegistry,this.textDocuments=e.workspace.TextDocuments,this.fileSystemProvider=e.workspace.FileSystemProvider}async fromUri(e,n=Ke.XO.None){const r=await this.fileSystemProvider.readFile(e);return this.createAsync(e,r,n)}fromTextDocument(e,n,r){return n=n??xt.r.parse(e.uri),Ke.XO.is(r)?this.createAsync(n,e,r):this.create(n,e,r)}fromString(e,n,r){return Ke.XO.is(r)?this.createAsync(n,e,r):this.create(n,e,r)}fromModel(e,n){return this.create(n,{$model:e})}create(e,n,r){if(typeof n=="string"){const s=this.parse(e,n,r);return this.createLangiumDocument(s,e,void 0,n)}else if("$model"in n){const s={value:n.$model,parserErrors:[],lexerErrors:[]};return this.createLangiumDocument(s,e)}else{const s=this.parse(e,n.getText(),r);return this.createLangiumDocument(s,e,n)}}async createAsync(e,n,r){if(typeof n=="string"){const s=await this.parseAsync(e,n,r);return this.createLangiumDocument(s,e,void 0,n)}else{const s=await this.parseAsync(e,n.getText(),r);return this.createLangiumDocument(s,e,n)}}createLangiumDocument(e,n,r,s){let l;if(r)l={parseResult:e,uri:n,state:He.Parsed,references:[],textDocument:r};else{const c=this.createTextDocumentGetter(n,s);l={parseResult:e,uri:n,state:He.Parsed,references:[],get textDocument(){return c()}}}return e.value.$document=l,l}async update(e,n){var r,s;const l=(r=e.parseResult.value.$cstNode)===null||r===void 0?void 0:r.root.fullText,c=(s=this.textDocuments)===null||s===void 0?void 0:s.get(e.uri.toString()),h=c?c.getText():await this.fileSystemProvider.readFile(e.uri);if(c)Object.defineProperty(e,"textDocument",{value:c});else{const S=this.createTextDocumentGetter(e.uri,h);Object.defineProperty(e,"textDocument",{get:S})}return l!==h&&(e.parseResult=await this.parseAsync(e.uri,h,n),e.parseResult.value.$document=e),e.state=He.Parsed,e}parse(e,n,r){return this.serviceRegistry.getServices(e).parser.LangiumParser.parse(n,r)}parseAsync(e,n,r){return this.serviceRegistry.getServices(e).parser.AsyncParser.parse(n,r)}createTextDocumentGetter(e,n){const r=this.serviceRegistry;let s;return()=>s??(s=Xr.create(e.toString(),r.getServices(e).LanguageMetaData.languageId,0,n??""))}}class Mi{constructor(e){this.documentMap=new Map,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.serviceRegistry=e.ServiceRegistry}get all(){return(0,at.Td)(this.documentMap.values())}addDocument(e){const n=e.uri.toString();if(this.documentMap.has(n))throw new Error(`A document with the URI '${n}' is already present.`);this.documentMap.set(n,e)}getDocument(e){const n=e.toString();return this.documentMap.get(n)}async getOrCreateDocument(e,n){let r=this.getDocument(e);return r||(r=await this.langiumDocumentFactory.fromUri(e,n),this.addDocument(r),r)}createDocument(e,n,r){if(r)return this.langiumDocumentFactory.fromString(n,e,r).then(s=>(this.addDocument(s),s));{const s=this.langiumDocumentFactory.fromString(n,e);return this.addDocument(s),s}}hasDocument(e){return this.documentMap.has(e.toString())}invalidateDocument(e){const n=e.toString(),r=this.documentMap.get(n);return r&&(this.serviceRegistry.getServices(e).references.Linker.unlink(r),r.state=He.Changed,r.precomputedScopes=void 0,r.diagnostics=void 0),r}deleteDocument(e){const n=e.toString(),r=this.documentMap.get(n);return r&&(r.state=He.Changed,this.documentMap.delete(n)),r}}const Qr=Symbol("ref_resolving");class vr{constructor(e){this.reflection=e.shared.AstReflection,this.langiumDocuments=()=>e.shared.workspace.LangiumDocuments,this.scopeProvider=e.references.ScopeProvider,this.astNodeLocator=e.workspace.AstNodeLocator}async link(e,n=Ke.XO.None){for(const r of(0,Ie.jm)(e.parseResult.value))await Tt(n),(0,Ie.DM)(r).forEach(s=>this.doLink(s,e))}doLink(e,n){var r;const s=e.reference;if(s._ref===void 0){s._ref=Qr;try{const l=this.getCandidate(e);if((0,Ue.Zl)(l))s._ref=l;else if(s._nodeDescription=l,this.langiumDocuments().hasDocument(l.documentUri)){const c=this.loadAstNode(l);s._ref=c??this.createLinkingError(e,l)}else s._ref=void 0}catch(l){console.error(`An error occurred while resolving reference to '${s.$refText}':`,l);const c=(r=l.message)!==null&&r!==void 0?r:String(l);s._ref=Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${s.$refText}': ${c}`})}n.references.push(s)}}unlink(e){for(const n of e.references)delete n._ref,delete n._nodeDescription;e.references=[]}getCandidate(e){const r=this.scopeProvider.getScope(e).getElement(e.reference.$refText);return r??this.createLinkingError(e)}buildReference(e,n,r,s){const l=this,c={$refNode:r,$refText:s,get ref(){var h;if((0,Ue.ng)(this._ref))return this._ref;if((0,Ue.Nr)(this._nodeDescription)){const S=l.loadAstNode(this._nodeDescription);this._ref=S??l.createLinkingError({reference:c,container:e,property:n},this._nodeDescription)}else if(this._ref===void 0){this._ref=Qr;const S=(0,Ie.cQ)(e).$document,j=l.getLinkedNode({reference:c,container:e,property:n});if(j.error&&S&&S.state<He.ComputedScopes)return this._ref=void 0;this._ref=(h=j.node)!==null&&h!==void 0?h:j.error,this._nodeDescription=j.descr,S?.references.push(this)}else if(this._ref===Qr)throw new Error(`Cyclic reference resolution detected: ${l.astNodeLocator.getAstNodePath(e)}/${n} (symbol '${s}')`);return(0,Ue.ng)(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return(0,Ue.Zl)(this._ref)?this._ref:void 0}};return c}getLinkedNode(e){var n;try{const r=this.getCandidate(e);if((0,Ue.Zl)(r))return{error:r};const s=this.loadAstNode(r);return s?{node:s,descr:r}:{descr:r,error:this.createLinkingError(e,r)}}catch(r){console.error(`An error occurred while resolving reference to '${e.reference.$refText}':`,r);const s=(n=r.message)!==null&&n!==void 0?n:String(r);return{error:Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${e.reference.$refText}': ${s}`})}}}loadAstNode(e){if(e.node)return e.node;const n=this.langiumDocuments().getDocument(e.documentUri);if(n)return this.astNodeLocator.getAstNode(n.parseResult.value,e.path)}createLinkingError(e,n){const r=(0,Ie.cQ)(e.container).$document;r&&r.state<He.ComputedScopes&&console.warn(`Attempted reference resolution before document reached ComputedScopes state (${r.uri}).`);const s=this.reflection.getReferenceType(e);return Object.assign(Object.assign({},e),{message:`Could not resolve reference to ${s} named '${e.reference.$refText}'.`,targetDescription:n})}}function Di(i){return typeof i.name=="string"}class Js{getName(e){if(Di(e))return e.name}getNameNode(e){return(0,M.qO)(e.$cstNode,"name")}}var tn;(function(i){i.basename=xt.A.basename,i.dirname=xt.A.dirname,i.extname=xt.A.extname,i.joinPath=xt.A.joinPath,i.resolvePath=xt.A.resolvePath;function e(s,l){return s?.toString()===l?.toString()}i.equals=e;function n(s,l){const c=typeof s=="string"?s:s.path,h=typeof l=="string"?l:l.path,S=c.split("/").filter(Y=>Y.length>0),j=h.split("/").filter(Y=>Y.length>0);let z=0;for(;z<S.length&&S[z]===j[z];z++);const ae="../".repeat(S.length-z),re=j.slice(z).join("/");return ae+re}i.relative=n;function r(s){return xt.r.parse(s.toString()).toString()}i.normalize=r})(tn||(tn={}));class qs{constructor(e){this.nameProvider=e.references.NameProvider,this.index=e.shared.workspace.IndexManager,this.nodeLocator=e.workspace.AstNodeLocator}findDeclaration(e){if(e){const n=(0,M.Rp)(e),r=e.astNode;if(n&&r){const s=r[n.feature];if((0,Ue.A_)(s))return s.ref;if(Array.isArray(s)){for(const l of s)if((0,Ue.A_)(l)&&l.$refNode&&l.$refNode.offset<=e.offset&&l.$refNode.end>=e.end)return l.ref}}if(r){const s=this.nameProvider.getNameNode(r);if(s&&(s===e||(0,v.pO)(e,s)))return r}}}findDeclarationNode(e){const n=this.findDeclaration(e);if(n?.$cstNode){const r=this.nameProvider.getNameNode(n);return r??n.$cstNode}}findReferences(e,n){const r=[];if(n.includeDeclaration){const l=this.getReferenceToSelf(e);l&&r.push(l)}let s=this.index.findAllReferences(e,this.nodeLocator.getAstNodePath(e));return n.documentUri&&(s=s.filter(l=>tn.equals(l.sourceUri,n.documentUri))),r.push(...s),(0,at.Td)(r)}getReferenceToSelf(e){const n=this.nameProvider.getNameNode(e);if(n){const r=(0,Ie.YE)(e),s=this.nodeLocator.getAstNodePath(e);return{sourceUri:r.uri,sourcePath:s,targetUri:r.uri,targetPath:s,segment:(0,v.SX)(n),local:!0}}}}class Nn{constructor(e){if(this.map=new Map,e)for(const[n,r]of e)this.add(n,r)}get size(){return at.iD.sum((0,at.Td)(this.map.values()).map(e=>e.length))}clear(){this.map.clear()}delete(e,n){if(n===void 0)return this.map.delete(e);{const r=this.map.get(e);if(r){const s=r.indexOf(n);if(s>=0)return r.length===1?this.map.delete(e):r.splice(s,1),!0}return!1}}get(e){var n;return(n=this.map.get(e))!==null&&n!==void 0?n:[]}has(e,n){if(n===void 0)return this.map.has(e);{const r=this.map.get(e);return r?r.indexOf(n)>=0:!1}}add(e,n){return this.map.has(e)?this.map.get(e).push(n):this.map.set(e,[n]),this}addAll(e,n){return this.map.has(e)?this.map.get(e).push(...n):this.map.set(e,Array.from(n)),this}forEach(e){this.map.forEach((n,r)=>n.forEach(s=>e(s,r,this)))}[Symbol.iterator](){return this.entries().iterator()}entries(){return(0,at.Td)(this.map.entries()).flatMap(([e,n])=>n.map(r=>[e,r]))}keys(){return(0,at.Td)(this.map.keys())}values(){return(0,at.Td)(this.map.values()).flat()}entriesGroupedByKey(){return(0,at.Td)(this.map.entries())}}class Zr{get size(){return this.map.size}constructor(e){if(this.map=new Map,this.inverse=new Map,e)for(const[n,r]of e)this.set(n,r)}clear(){this.map.clear(),this.inverse.clear()}set(e,n){return this.map.set(e,n),this.inverse.set(n,e),this}get(e){return this.map.get(e)}getKey(e){return this.inverse.get(e)}delete(e){const n=this.map.get(e);return n!==void 0?(this.map.delete(e),this.inverse.delete(n),!0):!1}}class ji{constructor(e){this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider}async computeExports(e,n=Ke.XO.None){return this.computeExportsForNode(e.parseResult.value,e,void 0,n)}async computeExportsForNode(e,n,r=Ie.VN,s=Ke.XO.None){const l=[];this.exportNode(e,l,n);for(const c of r(e))await Tt(s),this.exportNode(c,l,n);return l}exportNode(e,n,r){const s=this.nameProvider.getName(e);s&&n.push(this.descriptions.createDescription(e,s,r))}async computeLocalScopes(e,n=Ke.XO.None){const r=e.parseResult.value,s=new Nn;for(const l of(0,Ie.Uo)(r))await Tt(n),this.processNode(l,e,s);return s}processNode(e,n,r){const s=e.$container;if(s){const l=this.nameProvider.getName(e);l&&r.add(s,this.descriptions.createDescription(e,l,n))}}}class ze{constructor(e,n,r){var s;this.elements=e,this.outerScope=n,this.caseInsensitive=(s=r?.caseInsensitive)!==null&&s!==void 0?s:!1}getAllElements(){return this.outerScope?this.elements.concat(this.outerScope.getAllElements()):this.elements}getElement(e){const n=this.caseInsensitive?this.elements.find(r=>r.name.toLowerCase()===e.toLowerCase()):this.elements.find(r=>r.name===e);if(n)return n;if(this.outerScope)return this.outerScope.getElement(e)}}class Jr{constructor(e,n,r){var s;this.elements=new Map,this.caseInsensitive=(s=r?.caseInsensitive)!==null&&s!==void 0?s:!1;for(const l of e){const c=this.caseInsensitive?l.name.toLowerCase():l.name;this.elements.set(c,l)}this.outerScope=n}getElement(e){const n=this.caseInsensitive?e.toLowerCase():e,r=this.elements.get(n);if(r)return r;if(this.outerScope)return this.outerScope.getElement(e)}getAllElements(){let e=(0,at.Td)(this.elements.values());return this.outerScope&&(e=e.concat(this.outerScope.getAllElements())),e}}const ya={getElement(){},getAllElements(){return at.B5}};class ei{constructor(){this.toDispose=[],this.isDisposed=!1}onDispose(e){this.toDispose.push(e)}dispose(){this.throwIfDisposed(),this.clear(),this.isDisposed=!0,this.toDispose.forEach(e=>e.dispose())}throwIfDisposed(){if(this.isDisposed)throw new Error("This cache has already been disposed")}}class Fi extends ei{constructor(){super(...arguments),this.cache=new Map}has(e){return this.throwIfDisposed(),this.cache.has(e)}set(e,n){this.throwIfDisposed(),this.cache.set(e,n)}get(e,n){if(this.throwIfDisposed(),this.cache.has(e))return this.cache.get(e);if(n){const r=n();return this.cache.set(e,r),r}else return}delete(e){return this.throwIfDisposed(),this.cache.delete(e)}clear(){this.throwIfDisposed(),this.cache.clear()}}class ti extends ei{constructor(e){super(),this.cache=new Map,this.converter=e??(n=>n)}has(e,n){return this.throwIfDisposed(),this.cacheForContext(e).has(n)}set(e,n,r){this.throwIfDisposed(),this.cacheForContext(e).set(n,r)}get(e,n,r){this.throwIfDisposed();const s=this.cacheForContext(e);if(s.has(n))return s.get(n);if(r){const l=r();return s.set(n,l),l}else return}delete(e,n){return this.throwIfDisposed(),this.cacheForContext(e).delete(n)}clear(e){if(this.throwIfDisposed(),e){const n=this.converter(e);this.cache.delete(n)}else this.cache.clear()}cacheForContext(e){const n=this.converter(e);let r=this.cache.get(n);return r||(r=new Map,this.cache.set(n,r)),r}}class Aa extends ti{constructor(e,n){super(r=>r.toString()),n?(this.toDispose.push(e.workspace.DocumentBuilder.onDocumentPhase(n,r=>{this.clear(r.uri.toString())})),this.toDispose.push(e.workspace.DocumentBuilder.onUpdate((r,s)=>{for(const l of s)this.clear(l)}))):this.toDispose.push(e.workspace.DocumentBuilder.onUpdate((r,s)=>{const l=r.concat(s);for(const c of l)this.clear(c)}))}}class Ui extends Fi{constructor(e,n){super(),n?(this.toDispose.push(e.workspace.DocumentBuilder.onBuildPhase(n,()=>{this.clear()})),this.toDispose.push(e.workspace.DocumentBuilder.onUpdate((r,s)=>{s.length>0&&this.clear()}))):this.toDispose.push(e.workspace.DocumentBuilder.onUpdate(()=>{this.clear()}))}}class ni{constructor(e){this.reflection=e.shared.AstReflection,this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider,this.indexManager=e.shared.workspace.IndexManager,this.globalScopeCache=new Ui(e.shared)}getScope(e){const n=[],r=this.reflection.getReferenceType(e),s=(0,Ie.YE)(e.container).precomputedScopes;if(s){let c=e.container;do{const h=s.get(c);h.length>0&&n.push((0,at.Td)(h).filter(S=>this.reflection.isSubtype(S.type,r))),c=c.$container}while(c)}let l=this.getGlobalScope(r,e);for(let c=n.length-1;c>=0;c--)l=this.createScope(n[c],l);return l}createScope(e,n,r){return new ze((0,at.Td)(e),n,r)}createScopeForNodes(e,n,r){const s=(0,at.Td)(e).map(l=>{const c=this.nameProvider.getName(l);if(c)return this.descriptions.createDescription(l,c)}).nonNullable();return new ze(s,n,r)}getGlobalScope(e,n){return this.globalScopeCache.get(e,()=>new Jr(this.indexManager.allElements(e)))}}function ri(i){return typeof i.$comment=="string"}function Er(i){return typeof i=="object"&&!!i&&("$ref"in i||"$error"in i)}class Gi{constructor(e){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.langiumDocuments=e.shared.workspace.LangiumDocuments,this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider,this.commentProvider=e.documentation.CommentProvider}serialize(e,n){const r=n??{},s=n?.replacer,l=(h,S)=>this.replacer(h,S,r),c=s?(h,S)=>s(h,S,l):l;try{return this.currentDocument=(0,Ie.YE)(e),JSON.stringify(e,c,n?.space)}finally{this.currentDocument=void 0}}deserialize(e,n){const r=n??{},s=JSON.parse(e);return this.linkNode(s,s,r),s}replacer(e,n,{refText:r,sourceText:s,textRegions:l,comments:c,uriConverter:h}){var S,j,z,ae;if(!this.ignoreProperties.has(e))if((0,Ue.A_)(n)){const re=n.ref,Y=r?n.$refText:void 0;if(re){const je=(0,Ie.YE)(re);let We="";this.currentDocument&&this.currentDocument!==je&&(h?We=h(je.uri,n):We=je.uri.toString());const nt=this.astNodeLocator.getAstNodePath(re);return{$ref:`${We}#${nt}`,$refText:Y}}else return{$error:(j=(S=n.error)===null||S===void 0?void 0:S.message)!==null&&j!==void 0?j:"Could not resolve reference",$refText:Y}}else if((0,Ue.ng)(n)){let re;if(l&&(re=this.addAstNodeRegionWithAssignmentsTo(Object.assign({},n)),(!e||n.$document)&&re?.$textRegion&&(re.$textRegion.documentURI=(z=this.currentDocument)===null||z===void 0?void 0:z.uri.toString())),s&&!e&&(re??(re=Object.assign({},n)),re.$sourceText=(ae=n.$cstNode)===null||ae===void 0?void 0:ae.text),c){re??(re=Object.assign({},n));const Y=this.commentProvider.getComment(n);Y&&(re.$comment=Y.replace(/\r/g,""))}return re??n}else return n}addAstNodeRegionWithAssignmentsTo(e){const n=r=>({offset:r.offset,end:r.end,length:r.length,range:r.range});if(e.$cstNode){const r=e.$textRegion=n(e.$cstNode),s=r.assignments={};return Object.keys(e).filter(l=>!l.startsWith("$")).forEach(l=>{const c=(0,M.Bd)(e.$cstNode,l).map(n);c.length!==0&&(s[l]=c)}),e}}linkNode(e,n,r,s,l,c){for(const[S,j]of Object.entries(e))if(Array.isArray(j))for(let z=0;z<j.length;z++){const ae=j[z];Er(ae)?j[z]=this.reviveReference(e,S,n,ae,r):(0,Ue.ng)(ae)&&this.linkNode(ae,n,r,e,S,z)}else Er(j)?e[S]=this.reviveReference(e,S,n,j,r):(0,Ue.ng)(j)&&this.linkNode(j,n,r,e,S);const h=e;h.$container=s,h.$containerProperty=l,h.$containerIndex=c}reviveReference(e,n,r,s,l){let c=s.$refText,h=s.$error;if(s.$ref){const S=this.getRefNode(r,s.$ref,l.uriConverter);if((0,Ue.ng)(S))return c||(c=this.nameProvider.getName(S)),{$refText:c??"",ref:S};h=S}if(h){const S={$refText:c??""};return S.error={container:e,property:n,message:h,reference:S},S}else return}getRefNode(e,n,r){try{const s=n.indexOf("#");if(s===0){const S=this.astNodeLocator.getAstNode(e,n.substring(1));return S||"Could not resolve path: "+n}if(s<0){const S=r?r(n):xt.r.parse(n),j=this.langiumDocuments.getDocument(S);return j?j.parseResult.value:"Could not find document for URI: "+n}const l=r?r(n.substring(0,s)):xt.r.parse(n.substring(0,s)),c=this.langiumDocuments.getDocument(l);if(!c)return"Could not find document for URI: "+n;if(s===n.length-1)return c.parseResult.value;const h=this.astNodeLocator.getAstNode(c.parseResult.value,n.substring(s+1));return h||"Could not resolve URI: "+n}catch(s){return String(s)}}}class si{get map(){return this.fileExtensionMap}constructor(e){this.languageIdMap=new Map,this.fileExtensionMap=new Map,this.textDocuments=e?.workspace.TextDocuments}register(e){const n=e.LanguageMetaData;for(const r of n.fileExtensions)this.fileExtensionMap.has(r)&&console.warn(`The file extension ${r} is used by multiple languages. It is now assigned to '${n.languageId}'.`),this.fileExtensionMap.set(r,e);this.languageIdMap.set(n.languageId,e),this.languageIdMap.size===1?this.singleton=e:this.singleton=void 0}getServices(e){var n,r;if(this.singleton!==void 0)return this.singleton;if(this.languageIdMap.size===0)throw new Error("The service registry is empty. Use `register` to register the services of a language.");const s=(r=(n=this.textDocuments)===null||n===void 0?void 0:n.get(e))===null||r===void 0?void 0:r.languageId;if(s!==void 0){const h=this.languageIdMap.get(s);if(h)return h}const l=tn.extname(e),c=this.fileExtensionMap.get(l);if(!c)throw s?new Error(`The service registry contains no services for the extension '${l}' for language '${s}'.`):new Error(`The service registry contains no services for the extension '${l}'.`);return c}hasServices(e){try{return this.getServices(e),!0}catch{return!1}}get all(){return Array.from(this.languageIdMap.values())}}function nn(i){return{code:i}}var fn;(function(i){i.all=["fast","slow","built-in"]})(fn||(fn={}));class qr{constructor(e){this.entries=new Nn,this.entriesBefore=[],this.entriesAfter=[],this.reflection=e.shared.AstReflection}register(e,n=this,r="fast"){if(r==="built-in")throw new Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");for(const[s,l]of Object.entries(e)){const c=l;if(Array.isArray(c))for(const h of c){const S={check:this.wrapValidationException(h,n),category:r};this.addEntry(s,S)}else if(typeof c=="function"){const h={check:this.wrapValidationException(c,n),category:r};this.addEntry(s,h)}else(0,cn.d)(c)}}wrapValidationException(e,n){return async(r,s,l)=>{await this.handleException(()=>e.call(n,r,s,l),"An error occurred during validation",s,r)}}async handleException(e,n,r,s){try{await e()}catch(l){if(Tr(l))throw l;console.error(`${n}:`,l),l instanceof Error&&l.stack&&console.error(l.stack);const c=l instanceof Error?l.message:String(l);r("error",`${n}: ${c}`,{node:s})}}addEntry(e,n){if(e==="AstNode"){this.entries.add("AstNode",n);return}for(const r of this.reflection.getAllSubTypes(e))this.entries.add(r,n)}getChecks(e,n){let r=(0,at.Td)(this.entries.get(e)).concat(this.entries.get("AstNode"));return n&&(r=r.filter(s=>n.includes(s.category))),r.map(s=>s.check)}registerBeforeDocument(e,n=this){this.entriesBefore.push(this.wrapPreparationException(e,"An error occurred during set-up of the validation",n))}registerAfterDocument(e,n=this){this.entriesAfter.push(this.wrapPreparationException(e,"An error occurred during tear-down of the validation",n))}wrapPreparationException(e,n,r){return async(s,l,c,h)=>{await this.handleException(()=>e.call(r,s,l,c,h),n,l,s)}}get checksBefore(){return this.entriesBefore}get checksAfter(){return this.entriesAfter}}class Bi{constructor(e){this.validationRegistry=e.validation.ValidationRegistry,this.metadata=e.LanguageMetaData}async validateDocument(e,n={},r=Ke.XO.None){const s=e.parseResult,l=[];if(await Tt(r),(!n.categories||n.categories.includes("built-in"))&&(this.processLexingErrors(s,l,n),n.stopAfterLexingErrors&&l.some(c=>{var h;return((h=c.data)===null||h===void 0?void 0:h.code)===Nt.LexingError})||(this.processParsingErrors(s,l,n),n.stopAfterParsingErrors&&l.some(c=>{var h;return((h=c.data)===null||h===void 0?void 0:h.code)===Nt.ParsingError}))||(this.processLinkingErrors(e,l,n),n.stopAfterLinkingErrors&&l.some(c=>{var h;return((h=c.data)===null||h===void 0?void 0:h.code)===Nt.LinkingError}))))return l;try{l.push(...await this.validateAst(s.value,n,r))}catch(c){if(Tr(c))throw c;console.error("An error occurred during validation:",c)}return await Tt(r),l}processLexingErrors(e,n,r){var s,l,c;const h=[...e.lexerErrors,...(l=(s=e.lexerReport)===null||s===void 0?void 0:s.diagnostics)!==null&&l!==void 0?l:[]];for(const S of h){const j=(c=S.severity)!==null&&c!==void 0?c:"error",z={severity:es(j),range:{start:{line:S.line-1,character:S.column-1},end:{line:S.line-1,character:S.column+S.length-1}},message:S.message,data:Ki(j),source:this.getSource()};n.push(z)}}processParsingErrors(e,n,r){for(const s of e.parserErrors){let l;if(isNaN(s.token.startOffset)){if("previousToken"in s){const c=s.previousToken;if(isNaN(c.startOffset)){const h={line:0,character:0};l={start:h,end:h}}else{const h={line:c.endLine-1,character:c.endColumn};l={start:h,end:h}}}}else l=(0,v.wf)(s.token);if(l){const c={severity:es("error"),range:l,message:s.message,data:nn(Nt.ParsingError),source:this.getSource()};n.push(c)}}}processLinkingErrors(e,n,r){for(const s of e.references){const l=s.error;if(l){const c={node:l.container,property:l.property,index:l.index,data:{code:Nt.LinkingError,containerType:l.container.$type,property:l.property,refText:l.reference.$refText}};n.push(this.toDiagnostic("error",l.message,c))}}}async validateAst(e,n,r=Ke.XO.None){const s=[],l=(c,h,S)=>{s.push(this.toDiagnostic(c,h,S))};return await this.validateAstBefore(e,n,l,r),await this.validateAstNodes(e,n,l,r),await this.validateAstAfter(e,n,l,r),s}async validateAstBefore(e,n,r,s=Ke.XO.None){var l;const c=this.validationRegistry.checksBefore;for(const h of c)await Tt(s),await h(e,r,(l=n.categories)!==null&&l!==void 0?l:[],s)}async validateAstNodes(e,n,r,s=Ke.XO.None){await Promise.all((0,Ie.jm)(e).map(async l=>{await Tt(s);const c=this.validationRegistry.getChecks(l.$type,n.categories);for(const h of c)await h(l,r,s)}))}async validateAstAfter(e,n,r,s=Ke.XO.None){var l;const c=this.validationRegistry.checksAfter;for(const h of c)await Tt(s),await h(e,r,(l=n.categories)!==null&&l!==void 0?l:[],s)}toDiagnostic(e,n,r){return{message:n,range:ii(r),severity:es(e),code:r.code,codeDescription:r.codeDescription,tags:r.tags,relatedInformation:r.relatedInformation,data:r.data,source:this.getSource()}}getSource(){return this.metadata.languageId}}function ii(i){if(i.range)return i.range;let e;return typeof i.property=="string"?e=(0,M.qO)(i.node.$cstNode,i.property,i.index):typeof i.keyword=="string"&&(e=(0,M.SS)(i.node.$cstNode,i.keyword,i.index)),e??(e=i.node.$cstNode),e?e.range:{start:{line:0,character:0},end:{line:0,character:0}}}function es(i){switch(i){case"error":return 1;case"warning":return 2;case"info":return 3;case"hint":return 4;default:throw new Error("Invalid diagnostic severity: "+i)}}function Ki(i){switch(i){case"error":return nn(Nt.LexingError);case"warning":return nn(Nt.LexingWarning);case"info":return nn(Nt.LexingInfo);case"hint":return nn(Nt.LexingHint);default:throw new Error("Invalid diagnostic severity: "+i)}}var Nt;(function(i){i.LexingError="lexing-error",i.LexingWarning="lexing-warning",i.LexingInfo="lexing-info",i.LexingHint="lexing-hint",i.ParsingError="parsing-error",i.LinkingError="linking-error"})(Nt||(Nt={}));class Wi{constructor(e){this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider}createDescription(e,n,r){const s=r??(0,Ie.YE)(e);n??(n=this.nameProvider.getName(e));const l=this.astNodeLocator.getAstNodePath(e);if(!n)throw new Error(`Node at path ${l} has no name.`);let c;const h=()=>{var S;return c??(c=(0,v.SX)((S=this.nameProvider.getNameNode(e))!==null&&S!==void 0?S:e.$cstNode))};return{node:e,name:n,get nameSegment(){return h()},selectionSegment:(0,v.SX)(e.$cstNode),type:e.$type,documentUri:s.uri,path:l}}}class ai{constructor(e){this.nodeLocator=e.workspace.AstNodeLocator}async createDescriptions(e,n=Ke.XO.None){const r=[],s=e.parseResult.value;for(const l of(0,Ie.jm)(s))await Tt(n),(0,Ie.DM)(l).filter(c=>!(0,Ue.Zl)(c)).forEach(c=>{const h=this.createDescription(c);h&&r.push(h)});return r}createDescription(e){const n=e.reference.$nodeDescription,r=e.reference.$refNode;if(!n||!r)return;const s=(0,Ie.YE)(e.container).uri;return{sourceUri:s,sourcePath:this.nodeLocator.getAstNodePath(e.container),targetUri:n.documentUri,targetPath:n.path,segment:(0,v.SX)(r),local:tn.equals(n.documentUri,s)}}}class Vi{constructor(){this.segmentSeparator="/",this.indexSeparator="@"}getAstNodePath(e){if(e.$container){const n=this.getAstNodePath(e.$container),r=this.getPathSegment(e);return n+this.segmentSeparator+r}return""}getPathSegment({$containerProperty:e,$containerIndex:n}){if(!e)throw new Error("Missing '$containerProperty' in AST node.");return n!==void 0?e+this.indexSeparator+n:e}getAstNode(e,n){return n.split(this.segmentSeparator).reduce((s,l)=>{if(!s||l.length===0)return s;const c=l.indexOf(this.indexSeparator);if(c>0){const h=l.substring(0,c),S=parseInt(l.substring(c+1)),j=s[h];return j?.[S]}return s[l]},e)}}var Hi=R("./node_modules/vscode-jsonrpc/lib/common/events.js");class zi{constructor(e){this._ready=new zr,this.settings={},this.workspaceConfig=!1,this.onConfigurationSectionUpdateEmitter=new Hi.Emitter,this.serviceRegistry=e.ServiceRegistry}get ready(){return this._ready.promise}initialize(e){var n,r;this.workspaceConfig=(r=(n=e.capabilities.workspace)===null||n===void 0?void 0:n.configuration)!==null&&r!==void 0?r:!1}async initialized(e){if(this.workspaceConfig){if(e.register){const n=this.serviceRegistry.all;e.register({section:n.map(r=>this.toSectionName(r.LanguageMetaData.languageId))})}if(e.fetchConfiguration){const n=this.serviceRegistry.all.map(s=>({section:this.toSectionName(s.LanguageMetaData.languageId)})),r=await e.fetchConfiguration(n);n.forEach((s,l)=>{this.updateSectionConfiguration(s.section,r[l])})}}this._ready.resolve()}updateConfiguration(e){e.settings&&Object.keys(e.settings).forEach(n=>{const r=e.settings[n];this.updateSectionConfiguration(n,r),this.onConfigurationSectionUpdateEmitter.fire({section:n,configuration:r})})}updateSectionConfiguration(e,n){this.settings[e]=n}async getConfiguration(e,n){await this.ready;const r=this.toSectionName(e);if(this.settings[r])return this.settings[r][n]}toSectionName(e){return`${e}`}get onConfigurationSectionUpdate(){return this.onConfigurationSectionUpdateEmitter.event}}var $n;(function(i){function e(n){return{dispose:async()=>await n()}}i.create=e})($n||($n={}));class Rr{constructor(e){this.updateBuildOptions={validation:{categories:["built-in","fast"]}},this.updateListeners=[],this.buildPhaseListeners=new Nn,this.documentPhaseListeners=new Nn,this.buildState=new Map,this.documentBuildWaiters=new Map,this.currentState=He.Changed,this.langiumDocuments=e.workspace.LangiumDocuments,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.textDocuments=e.workspace.TextDocuments,this.indexManager=e.workspace.IndexManager,this.serviceRegistry=e.ServiceRegistry}async build(e,n={},r=Ke.XO.None){var s,l;for(const c of e){const h=c.uri.toString();if(c.state===He.Validated){if(typeof n.validation=="boolean"&&n.validation)c.state=He.IndexedReferences,c.diagnostics=void 0,this.buildState.delete(h);else if(typeof n.validation=="object"){const S=this.buildState.get(h),j=(s=S?.result)===null||s===void 0?void 0:s.validationChecks;if(j){const ae=((l=n.validation.categories)!==null&&l!==void 0?l:fn.all).filter(re=>!j.includes(re));ae.length>0&&(this.buildState.set(h,{completed:!1,options:{validation:Object.assign(Object.assign({},n.validation),{categories:ae})},result:S.result}),c.state=He.IndexedReferences)}}}else this.buildState.delete(h)}this.currentState=He.Changed,await this.emitUpdate(e.map(c=>c.uri),[]),await this.buildDocuments(e,n,r)}async update(e,n,r=Ke.XO.None){this.currentState=He.Changed;for(const c of n)this.langiumDocuments.deleteDocument(c),this.buildState.delete(c.toString()),this.indexManager.remove(c);for(const c of e){if(!this.langiumDocuments.invalidateDocument(c)){const S=this.langiumDocumentFactory.fromModel({$type:"INVALID"},c);S.state=He.Changed,this.langiumDocuments.addDocument(S)}this.buildState.delete(c.toString())}const s=(0,at.Td)(e).concat(n).map(c=>c.toString()).toSet();this.langiumDocuments.all.filter(c=>!s.has(c.uri.toString())&&this.shouldRelink(c,s)).forEach(c=>{this.serviceRegistry.getServices(c.uri).references.Linker.unlink(c),c.state=Math.min(c.state,He.ComputedScopes),c.diagnostics=void 0}),await this.emitUpdate(e,n),await Tt(r);const l=this.sortDocuments(this.langiumDocuments.all.filter(c=>{var h;return c.state<He.Linked||!(!((h=this.buildState.get(c.uri.toString()))===null||h===void 0)&&h.completed)}).toArray());await this.buildDocuments(l,this.updateBuildOptions,r)}async emitUpdate(e,n){await Promise.all(this.updateListeners.map(r=>r(e,n)))}sortDocuments(e){let n=0,r=e.length-1;for(;n<r;){for(;n<e.length&&this.hasTextDocument(e[n]);)n++;for(;r>=0&&!this.hasTextDocument(e[r]);)r--;n<r&&([e[n],e[r]]=[e[r],e[n]])}return e}hasTextDocument(e){var n;return!!(!((n=this.textDocuments)===null||n===void 0)&&n.get(e.uri))}shouldRelink(e,n){return e.references.some(r=>r.error!==void 0)?!0:this.indexManager.isAffected(e,n)}onUpdate(e){return this.updateListeners.push(e),$n.create(()=>{const n=this.updateListeners.indexOf(e);n>=0&&this.updateListeners.splice(n,1)})}async buildDocuments(e,n,r){this.prepareBuild(e,n),await this.runCancelable(e,He.Parsed,r,l=>this.langiumDocumentFactory.update(l,r)),await this.runCancelable(e,He.IndexedContent,r,l=>this.indexManager.updateContent(l,r)),await this.runCancelable(e,He.ComputedScopes,r,async l=>{const c=this.serviceRegistry.getServices(l.uri).references.ScopeComputation;l.precomputedScopes=await c.computeLocalScopes(l,r)}),await this.runCancelable(e,He.Linked,r,l=>this.serviceRegistry.getServices(l.uri).references.Linker.link(l,r)),await this.runCancelable(e,He.IndexedReferences,r,l=>this.indexManager.updateReferences(l,r));const s=e.filter(l=>this.shouldValidate(l));await this.runCancelable(s,He.Validated,r,l=>this.validate(l,r));for(const l of e){const c=this.buildState.get(l.uri.toString());c&&(c.completed=!0)}}prepareBuild(e,n){for(const r of e){const s=r.uri.toString(),l=this.buildState.get(s);(!l||l.completed)&&this.buildState.set(s,{completed:!1,options:n,result:l?.result})}}async runCancelable(e,n,r,s){const l=e.filter(h=>h.state<n);for(const h of l)await Tt(r),await s(h),h.state=n,await this.notifyDocumentPhase(h,n,r);const c=e.filter(h=>h.state===n);await this.notifyBuildPhase(c,n,r),this.currentState=n}onBuildPhase(e,n){return this.buildPhaseListeners.add(e,n),$n.create(()=>{this.buildPhaseListeners.delete(e,n)})}onDocumentPhase(e,n){return this.documentPhaseListeners.add(e,n),$n.create(()=>{this.documentPhaseListeners.delete(e,n)})}waitUntil(e,n,r){let s;if(n&&"path"in n?s=n:r=n,r??(r=Ke.XO.None),s){const l=this.langiumDocuments.getDocument(s);if(l&&l.state>e)return Promise.resolve(s)}return this.currentState>=e?Promise.resolve(void 0):r.isCancellationRequested?Promise.reject(ft):new Promise((l,c)=>{const h=this.onBuildPhase(e,()=>{if(h.dispose(),S.dispose(),s){const j=this.langiumDocuments.getDocument(s);l(j?.uri)}else l(void 0)}),S=r.onCancellationRequested(()=>{h.dispose(),S.dispose(),c(ft)})})}async notifyDocumentPhase(e,n,r){const l=this.documentPhaseListeners.get(n).slice();for(const c of l)try{await c(e,r)}catch(h){if(!Tr(h))throw h}}async notifyBuildPhase(e,n,r){if(e.length===0)return;const l=this.buildPhaseListeners.get(n).slice();for(const c of l)await Tt(r),await c(e,r)}shouldValidate(e){return!!this.getBuildOptions(e).validation}async validate(e,n){var r,s;const l=this.serviceRegistry.getServices(e.uri).validation.DocumentValidator,c=this.getBuildOptions(e).validation,h=typeof c=="object"?c:void 0,S=await l.validateDocument(e,h,n);e.diagnostics?e.diagnostics.push(...S):e.diagnostics=S;const j=this.buildState.get(e.uri.toString());if(j){(r=j.result)!==null&&r!==void 0||(j.result={});const z=(s=h?.categories)!==null&&s!==void 0?s:fn.all;j.result.validationChecks?j.result.validationChecks.push(...z):j.result.validationChecks=[...z]}}getBuildOptions(e){var n,r;return(r=(n=this.buildState.get(e.uri.toString()))===null||n===void 0?void 0:n.options)!==null&&r!==void 0?r:{}}}class ts{constructor(e){this.symbolIndex=new Map,this.symbolByTypeIndex=new ti,this.referenceIndex=new Map,this.documents=e.workspace.LangiumDocuments,this.serviceRegistry=e.ServiceRegistry,this.astReflection=e.AstReflection}findAllReferences(e,n){const r=(0,Ie.YE)(e).uri,s=[];return this.referenceIndex.forEach(l=>{l.forEach(c=>{tn.equals(c.targetUri,r)&&c.targetPath===n&&s.push(c)})}),(0,at.Td)(s)}allElements(e,n){let r=(0,at.Td)(this.symbolIndex.keys());return n&&(r=r.filter(s=>!n||n.has(s))),r.map(s=>this.getFileDescriptions(s,e)).flat()}getFileDescriptions(e,n){var r;return n?this.symbolByTypeIndex.get(e,n,()=>{var l;return((l=this.symbolIndex.get(e))!==null&&l!==void 0?l:[]).filter(h=>this.astReflection.isSubtype(h.type,n))}):(r=this.symbolIndex.get(e))!==null&&r!==void 0?r:[]}remove(e){const n=e.toString();this.symbolIndex.delete(n),this.symbolByTypeIndex.clear(n),this.referenceIndex.delete(n)}async updateContent(e,n=Ke.XO.None){const s=await this.serviceRegistry.getServices(e.uri).references.ScopeComputation.computeExports(e,n),l=e.uri.toString();this.symbolIndex.set(l,s),this.symbolByTypeIndex.clear(l)}async updateReferences(e,n=Ke.XO.None){const s=await this.serviceRegistry.getServices(e.uri).workspace.ReferenceDescriptionProvider.createDescriptions(e,n);this.referenceIndex.set(e.uri.toString(),s)}isAffected(e,n){const r=this.referenceIndex.get(e.uri.toString());return r?r.some(s=>!s.local&&n.has(s.targetUri.toString())):!1}}class Xi{constructor(e){this.initialBuildOptions={},this._ready=new zr,this.serviceRegistry=e.ServiceRegistry,this.langiumDocuments=e.workspace.LangiumDocuments,this.documentBuilder=e.workspace.DocumentBuilder,this.fileSystemProvider=e.workspace.FileSystemProvider,this.mutex=e.workspace.WorkspaceLock}get ready(){return this._ready.promise}get workspaceFolders(){return this.folders}initialize(e){var n;this.folders=(n=e.workspaceFolders)!==null&&n!==void 0?n:void 0}initialized(e){return this.mutex.write(n=>{var r;return this.initializeWorkspace((r=this.folders)!==null&&r!==void 0?r:[],n)})}async initializeWorkspace(e,n=Ke.XO.None){const r=await this.performStartup(e);await Tt(n),await this.documentBuilder.build(r,this.initialBuildOptions,n)}async performStartup(e){const n=this.serviceRegistry.all.flatMap(l=>l.LanguageMetaData.fileExtensions),r=[],s=l=>{r.push(l),this.langiumDocuments.hasDocument(l.uri)||this.langiumDocuments.addDocument(l)};return await this.loadAdditionalDocuments(e,s),await Promise.all(e.map(l=>[l,this.getRootFolder(l)]).map(async l=>this.traverseFolder(...l,n,s))),this._ready.resolve(),r}loadAdditionalDocuments(e,n){return Promise.resolve()}getRootFolder(e){return xt.r.parse(e.uri)}async traverseFolder(e,n,r,s){const l=await this.fileSystemProvider.readDirectory(n);await Promise.all(l.map(async c=>{if(this.includeEntry(e,c,r)){if(c.isDirectory)await this.traverseFolder(e,c.uri,r,s);else if(c.isFile){const h=await this.langiumDocuments.getOrCreateDocument(c.uri);s(h)}}}))}includeEntry(e,n,r){const s=tn.basename(n.uri);if(s.startsWith("."))return!1;if(n.isDirectory)return s!=="node_modules"&&s!=="out";if(n.isFile){const l=tn.extname(n.uri);return r.includes(l)}return!1}}class Yi{buildUnexpectedCharactersMessage(e,n,r,s,l){return D.PW.buildUnexpectedCharactersMessage(e,n,r,s,l)}buildUnableToPopLexerModeMessage(e){return D.PW.buildUnableToPopLexerModeMessage(e)}}const Qi={mode:"full"};class Zi{constructor(e){this.errorMessageProvider=e.parser.LexerErrorMessageProvider,this.tokenBuilder=e.parser.TokenBuilder;const n=this.tokenBuilder.buildTokens(e.Grammar,{caseInsensitive:e.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(n);const r=li(n)?Object.values(n):n,s=e.LanguageMetaData.mode==="production";this.chevrotainLexer=new D.JG(r,{positionTracking:"full",skipValidations:s,errorMessageProvider:this.errorMessageProvider})}get definition(){return this.tokenTypes}tokenize(e,n=Qi){var r,s,l;const c=this.chevrotainLexer.tokenize(e);return{tokens:c.tokens,errors:c.errors,hidden:(r=c.groups.hidden)!==null&&r!==void 0?r:[],report:(l=(s=this.tokenBuilder).flushLexingReport)===null||l===void 0?void 0:l.call(s,e)}}toTokenTypeDictionary(e){if(li(e))return e;const n=oi(e)?Object.values(e.modes).flat():e,r={};return n.forEach(s=>r[s.name]=s),r}}function Ji(i){return Array.isArray(i)&&(i.length===0||"name"in i[0])}function oi(i){return i&&"modes"in i&&"defaultMode"in i}function li(i){return!Ji(i)&&!oi(i)}function qi(i,e,n){let r,s;typeof i=="string"?(s=e,r=n):(s=i.range.start,r=e),s||(s=Pe.create(0,0));const l=ui(i),c=rs(r),h=di({lines:l,position:s,options:c});return ta({index:0,tokens:h,position:s})}function ea(i,e){const n=rs(e),r=ui(i);if(r.length===0)return!1;const s=r[0],l=r[r.length-1],c=n.start,h=n.end;return!!c?.exec(s)&&!!h?.exec(l)}function ui(i){let e="";return typeof i=="string"?e=i:e=i.text,e.split(H.TH)}const ns=/\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy,ci=/\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu;function di(i){var e,n,r;const s=[];let l=i.position.line,c=i.position.character;for(let h=0;h<i.lines.length;h++){const S=h===0,j=h===i.lines.length-1;let z=i.lines[h],ae=0;if(S&&i.options.start){const Y=(e=i.options.start)===null||e===void 0?void 0:e.exec(z);Y&&(ae=Y.index+Y[0].length)}else{const Y=(n=i.options.line)===null||n===void 0?void 0:n.exec(z);Y&&(ae=Y.index+Y[0].length)}if(j){const Y=(r=i.options.end)===null||r===void 0?void 0:r.exec(z);Y&&(z=z.substring(0,Y.index))}if(z=z.substring(0,mi(z)),On(z,ae)>=z.length){if(s.length>0){const Y=Pe.create(l,c);s.push({type:"break",content:"",range:ne.create(Y,Y)})}}else{ns.lastIndex=ae;const Y=ns.exec(z);if(Y){const je=Y[0],We=Y[1],nt=Pe.create(l,c+ae),$t=Pe.create(l,c+ae+je.length);s.push({type:"tag",content:We,range:ne.create(nt,$t)}),ae+=je.length,ae=On(z,ae)}if(ae<z.length){const je=z.substring(ae),We=Array.from(je.matchAll(ci));s.push(...fi(We,je,l,c+ae))}}l++,c=0}return s.length>0&&s[s.length-1].type==="break"?s.slice(0,-1):s}function fi(i,e,n,r){const s=[];if(i.length===0){const l=Pe.create(n,r),c=Pe.create(n,r+e.length);s.push({type:"text",content:e,range:ne.create(l,c)})}else{let l=0;for(const h of i){const S=h.index,j=e.substring(l,S);j.length>0&&s.push({type:"text",content:e.substring(l,S),range:ne.create(Pe.create(n,l+r),Pe.create(n,S+r))});let z=j.length+1;const ae=h[1];if(s.push({type:"inline-tag",content:ae,range:ne.create(Pe.create(n,l+z+r),Pe.create(n,l+z+ae.length+r))}),z+=ae.length,h.length===4){z+=h[2].length;const re=h[3];s.push({type:"text",content:re,range:ne.create(Pe.create(n,l+z+r),Pe.create(n,l+z+re.length+r))})}else s.push({type:"text",content:"",range:ne.create(Pe.create(n,l+z+r),Pe.create(n,l+z+r))});l=S+h[0].length}const c=e.substring(l);c.length>0&&s.push({type:"text",content:c,range:ne.create(Pe.create(n,l+r),Pe.create(n,l+r+c.length))})}return s}const hi=/\S/,_r=/\s*$/;function On(i,e){const n=i.substring(e).match(hi);return n?e+n.index:i.length}function mi(i){const e=i.match(_r);if(e&&typeof e.index=="number")return e.index}function ta(i){var e,n,r,s;const l=Pe.create(i.position.line,i.position.character);if(i.tokens.length===0)return new Wt([],ne.create(l,l));const c=[];for(;i.index<i.tokens.length;){const j=na(i,c[c.length-1]);j&&c.push(j)}const h=(n=(e=c[0])===null||e===void 0?void 0:e.range.start)!==null&&n!==void 0?n:l,S=(s=(r=c[c.length-1])===null||r===void 0?void 0:r.range.end)!==null&&s!==void 0?s:l;return new Wt(c,ne.create(h,S))}function na(i,e){const n=i.tokens[i.index];if(n.type==="tag")return gi(i,!1);if(n.type==="text"||n.type==="inline-tag")return kr(i);ra(n,e),i.index++}function ra(i,e){if(e){const n=new Cr("",i.range);"inlines"in e?e.inlines.push(n):e.content.inlines.push(n)}}function kr(i){let e=i.tokens[i.index];const n=e;let r=e;const s=[];for(;e&&e.type!=="break"&&e.type!=="tag";)s.push(pi(i)),r=e,e=i.tokens[i.index];return new Ir(s,ne.create(n.range.start,r.range.end))}function pi(i){return i.tokens[i.index].type==="inline-tag"?gi(i,!0):yi(i)}function gi(i,e){const n=i.tokens[i.index++],r=n.content.substring(1),s=i.tokens[i.index];if(s?.type==="text")if(e){const l=yi(i);return new Ai(r,new Ir([l],l.range),e,ne.create(n.range.start,l.range.end))}else{const l=kr(i);return new Ai(r,l,e,ne.create(n.range.start,l.range.end))}else{const l=n.range;return new Ai(r,new Ir([],l),e,l)}}function yi(i){const e=i.tokens[i.index++];return new Cr(e.content,e.range)}function rs(i){if(!i)return rs({start:"/**",end:"*/",line:"*"});const{start:e,end:n,line:r}=i;return{start:ss(e,!0),end:ss(n,!1),line:ss(r,!0)}}function ss(i,e){if(typeof i=="string"||typeof i=="object"){const n=typeof i=="string"?(0,H.Nt)(i):i.source;return e?new RegExp(`^\\s*${n}`):new RegExp(`\\s*${n}\\s*$`)}else return i}class Wt{constructor(e,n){this.elements=e,this.range=n}getTag(e){return this.getAllTags().find(n=>n.name===e)}getTags(e){return this.getAllTags().filter(n=>n.name===e)}getAllTags(){return this.elements.filter(e=>"name"in e)}toString(){let e="";for(const n of this.elements)if(e.length===0)e=n.toString();else{const r=n.toString();e+=Sr(e)+r}return e.trim()}toMarkdown(e){let n="";for(const r of this.elements)if(n.length===0)n=r.toMarkdown(e);else{const s=r.toMarkdown(e);n+=Sr(n)+s}return n.trim()}}class Ai{constructor(e,n,r,s){this.name=e,this.content=n,this.inline=r,this.range=s}toString(){let e=`@${this.name}`;const n=this.content.toString();return this.content.inlines.length===1?e=`${e} ${n}`:this.content.inlines.length>1&&(e=`${e}
${n}`),this.inline?`{${e}}`:e}toMarkdown(e){var n,r;return(r=(n=e?.renderTag)===null||n===void 0?void 0:n.call(e,this))!==null&&r!==void 0?r:this.toMarkdownDefault(e)}toMarkdownDefault(e){const n=this.content.toMarkdown(e);if(this.inline){const l=sa(this.name,n,e??{});if(typeof l=="string")return l}let r="";e?.tag==="italic"||e?.tag===void 0?r="*":e?.tag==="bold"?r="**":e?.tag==="bold-italic"&&(r="***");let s=`${r}@${this.name}${r}`;return this.content.inlines.length===1?s=`${s} \u2014 ${n}`:this.content.inlines.length>1&&(s=`${s}
${n}`),this.inline?`{${s}}`:s}}function sa(i,e,n){var r,s;if(i==="linkplain"||i==="linkcode"||i==="link"){const l=e.indexOf(" ");let c=e;if(l>0){const S=On(e,l);c=e.substring(S),e=e.substring(0,l)}return(i==="linkcode"||i==="link"&&n.link==="code")&&(c=`\`${c}\``),(s=(r=n.renderLink)===null||r===void 0?void 0:r.call(n,e,c))!==null&&s!==void 0?s:Ti(e,c)}}function Ti(i,e){try{return xt.r.parse(i,!0),`[${e}](${i})`}catch{return i}}class Ir{constructor(e,n){this.inlines=e,this.range=n}toString(){let e="";for(let n=0;n<this.inlines.length;n++){const r=this.inlines[n],s=this.inlines[n+1];e+=r.toString(),s&&s.range.start.line>r.range.start.line&&(e+=`
`)}return e}toMarkdown(e){let n="";for(let r=0;r<this.inlines.length;r++){const s=this.inlines[r],l=this.inlines[r+1];n+=s.toMarkdown(e),l&&l.range.start.line>s.range.start.line&&(n+=`
`)}return n}}class Cr{constructor(e,n){this.text=e,this.range=n}toString(){return this.text}toMarkdown(){return this.text}}function Sr(i){return i.endsWith(`
`)?`
`:`

`}class is{constructor(e){this.indexManager=e.shared.workspace.IndexManager,this.commentProvider=e.documentation.CommentProvider}getDocumentation(e){const n=this.commentProvider.getComment(e);if(n&&ea(n))return qi(n).toMarkdown({renderLink:(s,l)=>this.documentationLinkRenderer(e,s,l),renderTag:s=>this.documentationTagRenderer(e,s)})}documentationLinkRenderer(e,n,r){var s;const l=(s=this.findNameInPrecomputedScopes(e,n))!==null&&s!==void 0?s:this.findNameInGlobalScope(e,n);if(l&&l.nameSegment){const c=l.nameSegment.range.start.line+1,h=l.nameSegment.range.start.character+1,S=l.documentUri.with({fragment:`L${c},${h}`});return`[${r}](${S.toString()})`}else return}documentationTagRenderer(e,n){}findNameInPrecomputedScopes(e,n){const s=(0,Ie.YE)(e).precomputedScopes;if(!s)return;let l=e;do{const h=s.get(l).find(S=>S.name===n);if(h)return h;l=l.$container}while(l)}findNameInGlobalScope(e,n){return this.indexManager.allElements().find(s=>s.name===n)}}class xr{constructor(e){this.grammarConfig=()=>e.parser.GrammarConfig}getComment(e){var n;return ri(e)?e.$comment:(n=(0,v.v)(e.$cstNode,this.grammarConfig().multilineCommentRules))===null||n===void 0?void 0:n.text}}class as{constructor(e){this.syncParser=e.parser.LangiumParser}parse(e,n){return Promise.resolve(this.syncParser.parse(e))}}class $a{constructor(e){this.threadCount=8,this.terminationDelay=200,this.workerPool=[],this.queue=[],this.hydrator=e.serializer.Hydrator}initializeWorkers(){for(;this.workerPool.length<this.threadCount;){const e=this.createWorker();e.onReady(()=>{if(this.queue.length>0){const n=this.queue.shift();n&&(e.lock(),n.resolve(e))}}),this.workerPool.push(e)}}async parse(e,n){const r=await this.acquireParserWorker(n),s=new Deferred;let l;const c=n.onCancellationRequested(()=>{l=setTimeout(()=>{this.terminateWorker(r)},this.terminationDelay)});return r.parse(e).then(h=>{const S=this.hydrator.hydrate(h);s.resolve(S)}).catch(h=>{s.reject(h)}).finally(()=>{c.dispose(),clearTimeout(l)}),s.promise}terminateWorker(e){e.terminate();const n=this.workerPool.indexOf(e);n>=0&&this.workerPool.splice(n,1)}async acquireParserWorker(e){this.initializeWorkers();for(const r of this.workerPool)if(r.ready)return r.lock(),r;const n=new Deferred;return e.onCancellationRequested(()=>{const r=this.queue.indexOf(n);r>=0&&this.queue.splice(r,1),n.reject(OperationCancelled)}),this.queue.push(n),n.promise}}class ia{get ready(){return this._ready}get onReady(){return this.onReadyEmitter.event}constructor(e,n,r,s){this.onReadyEmitter=new Emitter,this.deferred=new Deferred,this._ready=!0,this._parsing=!1,this.sendMessage=e,this._terminate=s,n(l=>{const c=l;this.deferred.resolve(c),this.unlock()}),r(l=>{this.deferred.reject(l),this.unlock()})}terminate(){this.deferred.reject(OperationCancelled),this._terminate()}lock(){this._ready=!1}unlock(){this._parsing=!1,this._ready=!0,this.onReadyEmitter.fire()}parse(e){if(this._parsing)throw new Error("Parser worker is busy");return this._parsing=!0,this.deferred=new Deferred,this.sendMessage(e),this.deferred.promise}}class aa{constructor(){this.previousTokenSource=new Ke.Qi,this.writeQueue=[],this.readQueue=[],this.done=!0}write(e){this.cancelWrite();const n=Pi();return this.previousTokenSource=n,this.enqueue(this.writeQueue,e,n.token)}read(e){return this.enqueue(this.readQueue,e)}enqueue(e,n,r=Ke.XO.None){const s=new zr,l={action:n,deferred:s,cancellationToken:r};return e.push(l),this.performNextOperation(),s.promise}async performNextOperation(){if(!this.done)return;const e=[];if(this.writeQueue.length>0)e.push(this.writeQueue.shift());else if(this.readQueue.length>0)e.push(...this.readQueue.splice(0,this.readQueue.length));else return;this.done=!1,await Promise.all(e.map(async({action:n,deferred:r,cancellationToken:s})=>{try{const l=await Promise.resolve().then(()=>n(s));r.resolve(l)}catch(l){Tr(l)?r.resolve(void 0):r.reject(l)}})),this.done=!0,this.performNextOperation()}cancelWrite(){this.previousTokenSource.cancel()}}class oa{constructor(e){this.grammarElementIdMap=new Zr,this.tokenTypeIdMap=new Zr,this.grammar=e.Grammar,this.lexer=e.parser.Lexer,this.linker=e.references.Linker}dehydrate(e){return{lexerErrors:e.lexerErrors,lexerReport:e.lexerReport?this.dehydrateLexerReport(e.lexerReport):void 0,parserErrors:e.parserErrors.map(n=>Object.assign(Object.assign({},n),{message:n.message})),value:this.dehydrateAstNode(e.value,this.createDehyrationContext(e.value))}}dehydrateLexerReport(e){return e}createDehyrationContext(e){const n=new Map,r=new Map;for(const s of(0,Ie.jm)(e))n.set(s,{});if(e.$cstNode)for(const s of(0,v.NS)(e.$cstNode))r.set(s,{});return{astNodes:n,cstNodes:r}}dehydrateAstNode(e,n){const r=n.astNodes.get(e);r.$type=e.$type,r.$containerIndex=e.$containerIndex,r.$containerProperty=e.$containerProperty,e.$cstNode!==void 0&&(r.$cstNode=this.dehydrateCstNode(e.$cstNode,n));for(const[s,l]of Object.entries(e))if(!s.startsWith("$"))if(Array.isArray(l)){const c=[];r[s]=c;for(const h of l)(0,Ue.ng)(h)?c.push(this.dehydrateAstNode(h,n)):(0,Ue.A_)(h)?c.push(this.dehydrateReference(h,n)):c.push(h)}else(0,Ue.ng)(l)?r[s]=this.dehydrateAstNode(l,n):(0,Ue.A_)(l)?r[s]=this.dehydrateReference(l,n):l!==void 0&&(r[s]=l);return r}dehydrateReference(e,n){const r={};return r.$refText=e.$refText,e.$refNode&&(r.$refNode=n.cstNodes.get(e.$refNode)),r}dehydrateCstNode(e,n){const r=n.cstNodes.get(e);return(0,Ue.br)(e)?r.fullText=e.fullText:r.grammarSource=this.getGrammarElementId(e.grammarSource),r.hidden=e.hidden,r.astNode=n.astNodes.get(e.astNode),(0,Ue.mD)(e)?r.content=e.content.map(s=>this.dehydrateCstNode(s,n)):(0,Ue.FC)(e)&&(r.tokenType=e.tokenType.name,r.offset=e.offset,r.length=e.length,r.startLine=e.range.start.line,r.startColumn=e.range.start.character,r.endLine=e.range.end.line,r.endColumn=e.range.end.character),r}hydrate(e){const n=e.value,r=this.createHydrationContext(n);return"$cstNode"in n&&this.hydrateCstNode(n.$cstNode,r),{lexerErrors:e.lexerErrors,lexerReport:e.lexerReport,parserErrors:e.parserErrors,value:this.hydrateAstNode(n,r)}}createHydrationContext(e){const n=new Map,r=new Map;for(const l of(0,Ie.jm)(e))n.set(l,{});let s;if(e.$cstNode)for(const l of(0,v.NS)(e.$cstNode)){let c;"fullText"in l?(c=new ln(l.fullText),s=c):"content"in l?c=new mr:"tokenType"in l&&(c=this.hydrateCstLeafNode(l)),c&&(r.set(l,c),c.root=s)}return{astNodes:n,cstNodes:r}}hydrateAstNode(e,n){const r=n.astNodes.get(e);r.$type=e.$type,r.$containerIndex=e.$containerIndex,r.$containerProperty=e.$containerProperty,e.$cstNode&&(r.$cstNode=n.cstNodes.get(e.$cstNode));for(const[s,l]of Object.entries(e))if(!s.startsWith("$"))if(Array.isArray(l)){const c=[];r[s]=c;for(const h of l)(0,Ue.ng)(h)?c.push(this.setParent(this.hydrateAstNode(h,n),r)):(0,Ue.A_)(h)?c.push(this.hydrateReference(h,r,s,n)):c.push(h)}else(0,Ue.ng)(l)?r[s]=this.setParent(this.hydrateAstNode(l,n),r):(0,Ue.A_)(l)?r[s]=this.hydrateReference(l,r,s,n):l!==void 0&&(r[s]=l);return r}setParent(e,n){return e.$container=n,e}hydrateReference(e,n,r,s){return this.linker.buildReference(n,r,s.cstNodes.get(e.$refNode),e.$refText)}hydrateCstNode(e,n,r=0){const s=n.cstNodes.get(e);if(typeof e.grammarSource=="number"&&(s.grammarSource=this.getGrammarElement(e.grammarSource)),s.astNode=n.astNodes.get(e.astNode),(0,Ue.mD)(s))for(const l of e.content){const c=this.hydrateCstNode(l,n,r++);s.content.push(c)}return s}hydrateCstLeafNode(e){const n=this.getTokenType(e.tokenType),r=e.offset,s=e.length,l=e.startLine,c=e.startColumn,h=e.endLine,S=e.endColumn,j=e.hidden;return new Ur(r,s,{start:{line:l,character:c},end:{line:h,character:S}},n,j)}getTokenType(e){return this.lexer.definition[e]}getGrammarElementId(e){if(e)return this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap(),this.grammarElementIdMap.get(e)}getGrammarElement(e){return this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap(),this.grammarElementIdMap.getKey(e)}createGrammarElementIdMap(){let e=0;for(const n of(0,Ie.jm)(this.grammar))(0,x.r1)(n)&&this.grammarElementIdMap.set(n,e++)}}function Nr(i){return{documentation:{CommentProvider:e=>new xr(e),DocumentationProvider:e=>new is(e)},parser:{AsyncParser:e=>new as(e),GrammarConfig:e=>P(e),LangiumParser:e=>zs(e),CompletionParser:e=>Hs(e),ValueConverter:()=>new qt.d,TokenBuilder:()=>new Li.Q,Lexer:e=>new Zi(e),ParserErrorMessageProvider:()=>new Fs,LexerErrorMessageProvider:()=>new Yi},workspace:{AstNodeLocator:()=>new Vi,AstNodeDescriptionProvider:e=>new Wi(e),ReferenceDescriptionProvider:e=>new ai(e)},references:{Linker:e=>new vr(e),NameProvider:()=>new Js,ScopeProvider:e=>new ni(e),ScopeComputation:e=>new ji(e),References:e=>new qs(e)},serializer:{Hydrator:e=>new oa(e),JsonSerializer:e=>new Gi(e)},validation:{DocumentValidator:e=>new Bi(e),ValidationRegistry:e=>new qr(e)},shared:()=>i.shared}}function la(i){return{ServiceRegistry:e=>new si(e),workspace:{LangiumDocuments:e=>new Mi(e),LangiumDocumentFactory:e=>new nr(e),DocumentBuilder:e=>new Rr(e),IndexManager:e=>new ts(e),WorkspaceManager:e=>new Xi(e),FileSystemProvider:e=>i.fileSystemProvider(e),WorkspaceLock:()=>new aa,ConfigurationProvider:e=>new zi(e)}}}},"./node_modules/langium/lib/dependency-injection.js":function(Le,J,R){R.d(J,{WQ:function(){return M}});var v;(function(k){k.merge=(A,I)=>U(U({},A),I)})(v||(v={}));function M(k,A,I,m,g,y,$,p,N){const b=[k,A,I,m,g,y,$,p,N].reduce(U,{});return P(b)}const H=Symbol("isProxy");function x(k){if(k&&k[H])for(const A of Object.values(k))x(A);return k}function P(k,A){const I=new Proxy({},{deleteProperty:()=>!1,set:()=>{throw new Error("Cannot set property on injected service container")},get:(m,g)=>g===H?!0:K(m,g,k,A||I),getOwnPropertyDescriptor:(m,g)=>(K(m,g,k,A||I),Object.getOwnPropertyDescriptor(m,g)),has:(m,g)=>g in k,ownKeys:()=>[...Object.getOwnPropertyNames(k)]});return I}const D=Symbol();function K(k,A,I,m){if(A in k){if(k[A]instanceof Error)throw new Error("Construction failure. Please make sure that your dependencies are constructable.",{cause:k[A]});if(k[A]===D)throw new Error('Cycle detected. Please make "'+String(A)+'" lazy. Visit https://langium.org/docs/reference/configuration-services/#resolving-cyclic-dependencies');return k[A]}else if(A in I){const g=I[A];k[A]=D;try{k[A]=typeof g=="function"?g(m):P(g,m)}catch(y){throw k[A]=y instanceof Error?y:void 0,y}return k[A]}else return}function U(k,A){if(A){for(const[I,m]of Object.entries(A))if(m!==void 0){const g=k[I];g!==null&&m!==null&&typeof g=="object"&&typeof m=="object"?k[I]=U(g,m):k[I]=m}}return k}},"./node_modules/langium/lib/languages/generated/ast.js":function(Le,J,R){R.d(J,{$g:function(){return Ct},Bg:function(){return jn},Ct:function(){return Je},Cz:function(){return le},D8:function(){return we},FO:function(){return Un},Fy:function(){return jt},GL:function(){return An},IZ:function(){return Gn},Mz:function(){return it},O4:function(){return St},QX:function(){return Pe},RP:function(){return de},S2:function(){return oe},SP:function(){return X},TF:function(){return qe},Tu:function(){return G},Xj:function(){return gn},_c:function(){return Fn},cY:function(){return Ie},fG:function(){return Re},jp:function(){return Mn},lF:function(){return be},r1:function(){return p},rE:function(){return pn},s7:function(){return L},vd:function(){return Yt},ve:function(){return an},wb:function(){return Xt},wh:function(){return Dn},z2:function(){return Tn}});var v=R("./node_modules/langium/lib/syntax-tree.js");const M={ID:/\^?[_a-zA-Z][\w_]*/,STRING:/"(\\.|[^"\\])*"|'(\\.|[^'\\])*'/,NUMBER:/NaN|-?((\d*\.\d+|\d+)([Ee][+-]?\d+)?|Infinity)/,RegexLiteral:/\/(?![*+?])(?:[^\r\n\[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])+\/[a-z]*/,WS:/\s+/,ML_COMMENT:/\/\*[\s\S]*?\*\//,SL_COMMENT:/\/\/[^\n\r]*/},H="AbstractRule";function x(B){return ne.isInstance(B,H)}const P="AbstractType";function D(B){return ne.isInstance(B,P)}const K="Condition";function U(B){return ne.isInstance(B,K)}function k(B){return A(B)||B==="current"||B==="entry"||B==="extends"||B==="false"||B==="fragment"||B==="grammar"||B==="hidden"||B==="import"||B==="interface"||B==="returns"||B==="terminal"||B==="true"||B==="type"||B==="infer"||B==="infers"||B==="with"||typeof B=="string"&&/\^?[_a-zA-Z][\w_]*/.test(B)}function A(B){return B==="string"||B==="number"||B==="boolean"||B==="Date"||B==="bigint"}const I="TypeDefinition";function m(B){return ne.isInstance(B,I)}const g="ValueLiteral";function y(B){return ne.isInstance(B,g)}const $="AbstractElement";function p(B){return ne.isInstance(B,$)}const N="ArrayLiteral";function b(B){return ne.isInstance(B,N)}const F="ArrayType";function V(B){return ne.isInstance(B,F)}const Z="BooleanLiteral";function le(B){return ne.isInstance(B,Z)}const ue="Conjunction";function G(B){return ne.isInstance(B,ue)}const te="Disjunction";function de(B){return ne.isInstance(B,te)}const ge="Grammar";function Ce(B){return ne.isInstance(B,ge)}const ve="GrammarImport";function Be(B){return ne.isInstance(B,ve)}const ee="InferredType";function X(B){return ne.isInstance(B,ee)}const se="Interface";function oe(B){return ne.isInstance(B,se)}const Ee="NamedArgument";function ye(B){return ne.isInstance(B,Ee)}const me="Negation";function Je(B){return ne.isInstance(B,me)}const ke="NumberLiteral";function Me(B){return ne.isInstance(B,ke)}const rt="Parameter";function ct(B){return ne.isInstance(B,rt)}const De="ParameterReference";function qe(B){return ne.isInstance(B,De)}const E="ParserRule";function L(B){return ne.isInstance(B,E)}const W="ReferenceType";function fe(B){return ne.isInstance(B,W)}const ce="ReturnType";function Re(B){return ne.isInstance(B,ce)}const Ae="SimpleType";function we(B){return ne.isInstance(B,Ae)}const Lt="StringLiteral";function Ht(B){return ne.isInstance(B,Lt)}const dt="TerminalRule";function pn(B){return ne.isInstance(B,dt)}const _t="Type";function gn(B){return ne.isInstance(B,_t)}const zt="TypeAttribute";function Xe(B){return ne.isInstance(B,zt)}const Pt="UnionType";function yn(B){return ne.isInstance(B,Pt)}const bt="Action";function an(B){return ne.isInstance(B,bt)}const Mt="Alternatives";function Mn(B){return ne.isInstance(B,Mt)}const Ve="Assignment";function Dn(B){return ne.isInstance(B,Ve)}const kt="CharacterRange";function jn(B){return ne.isInstance(B,kt)}const Gt="CrossReference";function Fn(B){return ne.isInstance(B,Gt)}const st="EndOfFile";function Un(B){return ne.isInstance(B,st)}const Et="Group";function Gn(B){return ne.isInstance(B,Et)}const ot="Keyword";function Xt(B){return ne.isInstance(B,ot)}const Dt="NegatedToken";function An(B){return ne.isInstance(B,Dt)}const It="RegexToken";function Yt(B){return ne.isInstance(B,It)}const et="RuleCall";function Ct(B){return ne.isInstance(B,et)}const ht="TerminalAlternatives";function jt(B){return ne.isInstance(B,ht)}const mt="TerminalGroup";function St(B){return ne.isInstance(B,mt)}const pt="TerminalRuleCall";function be(B){return ne.isInstance(B,pt)}const Ne="UnorderedGroup";function Ie(B){return ne.isInstance(B,Ne)}const Fe="UntilToken";function it(B){return ne.isInstance(B,Fe)}const Qe="Wildcard";function Tn(B){return ne.isInstance(B,Qe)}class Pe extends v.kD{getAllTypes(){return[$,H,P,bt,Mt,N,F,Ve,Z,kt,K,ue,Gt,te,st,ge,ve,Et,ee,se,ot,Ee,Dt,me,ke,rt,De,E,W,It,ce,et,Ae,Lt,ht,mt,dt,pt,_t,zt,I,Pt,Ne,Fe,g,Qe]}computeIsSubtype(Ft,lt){switch(Ft){case bt:case Mt:case Ve:case kt:case Gt:case st:case Et:case ot:case Dt:case It:case et:case ht:case mt:case pt:case Ne:case Fe:case Qe:return this.isSubtype($,lt);case N:case ke:case Lt:return this.isSubtype(g,lt);case F:case W:case Ae:case Pt:return this.isSubtype(I,lt);case Z:return this.isSubtype(K,lt)||this.isSubtype(g,lt);case ue:case te:case me:case De:return this.isSubtype(K,lt);case ee:case se:case _t:return this.isSubtype(P,lt);case E:return this.isSubtype(H,lt)||this.isSubtype(P,lt);case dt:return this.isSubtype(H,lt);default:return!1}}getReferenceType(Ft){const lt=`${Ft.container.$type}:${Ft.property}`;switch(lt){case"Action:type":case"CrossReference:type":case"Interface:superTypes":case"ParserRule:returnType":case"SimpleType:typeRef":return P;case"Grammar:hiddenTokens":case"ParserRule:hiddenTokens":case"RuleCall:rule":return H;case"Grammar:usedGrammars":return ge;case"NamedArgument:parameter":case"ParameterReference:parameter":return rt;case"TerminalRuleCall:rule":return dt;default:throw new Error(`${lt} is not a valid reference id.`)}}getTypeMetaData(Ft){switch(Ft){case $:return{name:$,properties:[{name:"cardinality"},{name:"lookahead"}]};case N:return{name:N,properties:[{name:"elements",defaultValue:[]}]};case F:return{name:F,properties:[{name:"elementType"}]};case Z:return{name:Z,properties:[{name:"true",defaultValue:!1}]};case ue:return{name:ue,properties:[{name:"left"},{name:"right"}]};case te:return{name:te,properties:[{name:"left"},{name:"right"}]};case ge:return{name:ge,properties:[{name:"definesHiddenTokens",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"imports",defaultValue:[]},{name:"interfaces",defaultValue:[]},{name:"isDeclared",defaultValue:!1},{name:"name"},{name:"rules",defaultValue:[]},{name:"types",defaultValue:[]},{name:"usedGrammars",defaultValue:[]}]};case ve:return{name:ve,properties:[{name:"path"}]};case ee:return{name:ee,properties:[{name:"name"}]};case se:return{name:se,properties:[{name:"attributes",defaultValue:[]},{name:"name"},{name:"superTypes",defaultValue:[]}]};case Ee:return{name:Ee,properties:[{name:"calledByName",defaultValue:!1},{name:"parameter"},{name:"value"}]};case me:return{name:me,properties:[{name:"value"}]};case ke:return{name:ke,properties:[{name:"value"}]};case rt:return{name:rt,properties:[{name:"name"}]};case De:return{name:De,properties:[{name:"parameter"}]};case E:return{name:E,properties:[{name:"dataType"},{name:"definesHiddenTokens",defaultValue:!1},{name:"definition"},{name:"entry",defaultValue:!1},{name:"fragment",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"inferredType"},{name:"name"},{name:"parameters",defaultValue:[]},{name:"returnType"},{name:"wildcard",defaultValue:!1}]};case W:return{name:W,properties:[{name:"referenceType"}]};case ce:return{name:ce,properties:[{name:"name"}]};case Ae:return{name:Ae,properties:[{name:"primitiveType"},{name:"stringType"},{name:"typeRef"}]};case Lt:return{name:Lt,properties:[{name:"value"}]};case dt:return{name:dt,properties:[{name:"definition"},{name:"fragment",defaultValue:!1},{name:"hidden",defaultValue:!1},{name:"name"},{name:"type"}]};case _t:return{name:_t,properties:[{name:"name"},{name:"type"}]};case zt:return{name:zt,properties:[{name:"defaultValue"},{name:"isOptional",defaultValue:!1},{name:"name"},{name:"type"}]};case Pt:return{name:Pt,properties:[{name:"types",defaultValue:[]}]};case bt:return{name:bt,properties:[{name:"cardinality"},{name:"feature"},{name:"inferredType"},{name:"lookahead"},{name:"operator"},{name:"type"}]};case Mt:return{name:Mt,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case Ve:return{name:Ve,properties:[{name:"cardinality"},{name:"feature"},{name:"lookahead"},{name:"operator"},{name:"terminal"}]};case kt:return{name:kt,properties:[{name:"cardinality"},{name:"left"},{name:"lookahead"},{name:"right"}]};case Gt:return{name:Gt,properties:[{name:"cardinality"},{name:"deprecatedSyntax",defaultValue:!1},{name:"lookahead"},{name:"terminal"},{name:"type"}]};case st:return{name:st,properties:[{name:"cardinality"},{name:"lookahead"}]};case Et:return{name:Et,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"guardCondition"},{name:"lookahead"}]};case ot:return{name:ot,properties:[{name:"cardinality"},{name:"lookahead"},{name:"value"}]};case Dt:return{name:Dt,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case It:return{name:It,properties:[{name:"cardinality"},{name:"lookahead"},{name:"regex"}]};case et:return{name:et,properties:[{name:"arguments",defaultValue:[]},{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case ht:return{name:ht,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case mt:return{name:mt,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case pt:return{name:pt,properties:[{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case Ne:return{name:Ne,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case Fe:return{name:Fe,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case Qe:return{name:Qe,properties:[{name:"cardinality"},{name:"lookahead"}]};default:return{name:Ft,properties:[]}}}}const ne=new Pe},"./node_modules/langium/lib/parser/token-builder.js":function(Le,J,R){R.d(J,{Q:function(){return K}});var v=R("./node_modules/chevrotain/lib/src/api.js"),M=R("./node_modules/langium/lib/languages/generated/ast.js"),H=R("./node_modules/langium/lib/utils/ast-utils.js"),x=R("./node_modules/langium/lib/utils/grammar-utils.js"),P=R("./node_modules/langium/lib/utils/regexp-utils.js"),D=R("./node_modules/langium/lib/utils/stream.js");class K{constructor(){this.diagnostics=[]}buildTokens(k,A){const I=(0,D.Td)((0,x.YV)(k,!1)),m=this.buildTerminalTokens(I),g=this.buildKeywordTokens(I,m,A);return m.forEach(y=>{const $=y.PATTERN;typeof $=="object"&&$&&"test"in $&&(0,P.Yv)($)?g.unshift(y):g.push(y)}),g}flushLexingReport(k){return{diagnostics:this.popDiagnostics()}}popDiagnostics(){const k=[...this.diagnostics];return this.diagnostics=[],k}buildTerminalTokens(k){return k.filter(M.rE).filter(A=>!A.fragment).map(A=>this.buildTerminalToken(A)).toArray()}buildTerminalToken(k){const A=(0,x.S)(k),I=this.requiresCustomPattern(A)?this.regexPatternFunction(A):A,m={name:k.name,PATTERN:I};return typeof I=="function"&&(m.LINE_BREAKS=!0),k.hidden&&(m.GROUP=(0,P.Yv)(A)?v.JG.SKIPPED:"hidden"),m}requiresCustomPattern(k){return k.flags.includes("u")||k.flags.includes("s")?!0:!!(k.source.includes("?<=")||k.source.includes("?<!"))}regexPatternFunction(k){const A=new RegExp(k,k.flags+"y");return(I,m)=>(A.lastIndex=m,A.exec(I))}buildKeywordTokens(k,A,I){return k.filter(M.s7).flatMap(m=>(0,H.Uo)(m).filter(M.wb)).distinct(m=>m.value).toArray().sort((m,g)=>g.value.length-m.value.length).map(m=>this.buildKeywordToken(m,A,!!I?.caseInsensitive))}buildKeywordToken(k,A,I){const m=this.buildKeywordPattern(k,I),g={name:k.value,PATTERN:m,LONGER_ALT:this.findLongerAlt(k,A)};return typeof m=="function"&&(g.LINE_BREAKS=!0),g}buildKeywordPattern(k,A){return A?new RegExp((0,P.Ao)(k.value)):k.value}findLongerAlt(k,A){return A.reduce((I,m)=>{const g=m?.PATTERN;return g?.source&&(0,P.PC)("^"+g.source+"$",k.value)&&I.push(m),I},[])}}},"./node_modules/langium/lib/parser/value-converter.js":function(Le,J,R){R.d(J,{d:function(){return H}});var v=R("./node_modules/langium/lib/languages/generated/ast.js"),M=R("./node_modules/langium/lib/utils/grammar-utils.js");class H{convert(D,K){let U=K.grammarSource;if((0,v._c)(U)&&(U=(0,M.g4)(U)),(0,v.$g)(U)){const k=U.rule.ref;if(!k)throw new Error("This cst node was not parsed by a rule.");return this.runConverter(k,D,K)}return D}runConverter(D,K,U){var k;switch(D.name.toUpperCase()){case"INT":return x.convertInt(K);case"STRING":return x.convertString(K);case"ID":return x.convertID(K)}switch((k=(0,M.P3)(D))===null||k===void 0?void 0:k.toLowerCase()){case"number":return x.convertNumber(K);case"boolean":return x.convertBoolean(K);case"bigint":return x.convertBigint(K);case"date":return x.convertDate(K);default:return K}}}var x;(function(P){function D(y){let $="";for(let p=1;p<y.length-1;p++){const N=y.charAt(p);if(N==="\\"){const b=y.charAt(++p);$+=K(b)}else $+=N}return $}P.convertString=D;function K(y){switch(y){case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";case"v":return"\v";case"0":return"\0";default:return y}}function U(y){return y.charAt(0)==="^"?y.substring(1):y}P.convertID=U;function k(y){return parseInt(y)}P.convertInt=k;function A(y){return BigInt(y)}P.convertBigint=A;function I(y){return new Date(y)}P.convertDate=I;function m(y){return Number(y)}P.convertNumber=m;function g(y){return y.toLowerCase()==="true"}P.convertBoolean=g})(x||(x={}))},"./node_modules/langium/lib/syntax-tree.js":function(Le,J,R){R.d(J,{A_:function(){return M},FC:function(){return K},Nr:function(){return H},Zl:function(){return x},br:function(){return U},kD:function(){return P},mD:function(){return D},ng:function(){return v}});function v(k){return typeof k=="object"&&k!==null&&typeof k.$type=="string"}function M(k){return typeof k=="object"&&k!==null&&typeof k.$refText=="string"}function H(k){return typeof k=="object"&&k!==null&&typeof k.name=="string"&&typeof k.type=="string"&&typeof k.path=="string"}function x(k){return typeof k=="object"&&k!==null&&v(k.container)&&M(k.reference)&&typeof k.message=="string"}class P{constructor(){this.subtypes={},this.allSubtypes={}}isInstance(A,I){return v(A)&&this.isSubtype(A.$type,I)}isSubtype(A,I){if(A===I)return!0;let m=this.subtypes[A];m||(m=this.subtypes[A]={});const g=m[I];if(g!==void 0)return g;{const y=this.computeIsSubtype(A,I);return m[I]=y,y}}getAllSubTypes(A){const I=this.allSubtypes[A];if(I)return I;{const m=this.getAllTypes(),g=[];for(const y of m)this.isSubtype(y,A)&&g.push(y);return this.allSubtypes[A]=g,g}}}function D(k){return typeof k=="object"&&k!==null&&Array.isArray(k.content)}function K(k){return typeof k=="object"&&k!==null&&typeof k.tokenType=="object"}function U(k){return D(k)&&typeof k.fullText=="string"}},"./node_modules/langium/lib/utils/ast-utils.js":function(Le,J,R){R.d(J,{DM:function(){return g},OP:function(){return $},SD:function(){return x},Uo:function(){return A},VN:function(){return k},XG:function(){return P},YE:function(){return K},cQ:function(){return U},jm:function(){return I}});var v=R("./node_modules/langium/lib/syntax-tree.js"),M=R("./node_modules/langium/lib/utils/stream.js"),H=R("./node_modules/langium/lib/utils/cst-utils.js");function x(b){for(const[F,V]of Object.entries(b))F.startsWith("$")||(Array.isArray(V)?V.forEach((Z,le)=>{(0,v.ng)(Z)&&(Z.$container=b,Z.$containerProperty=F,Z.$containerIndex=le)}):(0,v.ng)(V)&&(V.$container=b,V.$containerProperty=F))}function P(b,F){let V=b;for(;V;){if(F(V))return V;V=V.$container}}function D(b,F){let V=b;for(;V;){if(F(V))return!0;V=V.$container}return!1}function K(b){const V=U(b).$document;if(!V)throw new Error("AST node has no document.");return V}function U(b){for(;b.$container;)b=b.$container;return b}function k(b,F){if(!b)throw new Error("Node must be an AstNode.");const V=F?.range;return new M.fq(()=>({keys:Object.keys(b),keyIndex:0,arrayIndex:0}),Z=>{for(;Z.keyIndex<Z.keys.length;){const le=Z.keys[Z.keyIndex];if(!le.startsWith("$")){const ue=b[le];if((0,v.ng)(ue)){if(Z.keyIndex++,m(ue,V))return{done:!1,value:ue}}else if(Array.isArray(ue)){for(;Z.arrayIndex<ue.length;){const G=Z.arrayIndex++,te=ue[G];if((0,v.ng)(te)&&m(te,V))return{done:!1,value:te}}Z.arrayIndex=0}}Z.keyIndex++}return M.Rf})}function A(b,F){if(!b)throw new Error("Root node must be an AstNode.");return new M.Vj(b,V=>k(V,F))}function I(b,F){if(b){if(F?.range&&!m(b,F.range))return new M.Vj(b,()=>[])}else throw new Error("Root node must be an AstNode.");return new M.Vj(b,V=>k(V,F),{includeRoot:!0})}function m(b,F){var V;if(!F)return!0;const Z=(V=b.$cstNode)===null||V===void 0?void 0:V.range;return Z?(0,H.r4)(Z,F):!1}function g(b){return new M.fq(()=>({keys:Object.keys(b),keyIndex:0,arrayIndex:0}),F=>{for(;F.keyIndex<F.keys.length;){const V=F.keys[F.keyIndex];if(!V.startsWith("$")){const Z=b[V];if((0,v.A_)(Z))return F.keyIndex++,{done:!1,value:{reference:Z,container:b,property:V}};if(Array.isArray(Z)){for(;F.arrayIndex<Z.length;){const le=F.arrayIndex++,ue=Z[le];if((0,v.A_)(ue))return{done:!1,value:{reference:ue,container:b,property:V,index:le}}}F.arrayIndex=0}}F.keyIndex++}return M.Rf})}function y(b,F=K(b).parseResult.value){const V=[];return I(F).forEach(Z=>{g(Z).forEach(le=>{le.reference.ref===b&&V.push(le.reference)})}),stream(V)}function $(b,F){const V=b.getTypeMetaData(F.$type),Z=F;for(const le of V.properties)le.defaultValue!==void 0&&Z[le.name]===void 0&&(Z[le.name]=p(le.defaultValue))}function p(b){return Array.isArray(b)?[...b.map(p)]:b}function N(b,F){const V={$type:b.$type};for(const[Z,le]of Object.entries(b))if(!Z.startsWith("$"))if(isAstNode(le))V[Z]=N(le,F);else if(isReference(le))V[Z]=F(V,Z,le.$refNode,le.$refText);else if(Array.isArray(le)){const ue=[];for(const G of le)isAstNode(G)?ue.push(N(G,F)):isReference(G)?ue.push(F(V,Z,G.$refNode,G.$refText)):ue.push(G);V[Z]=ue}else V[Z]=le;return x(V),V}},"./node_modules/langium/lib/utils/cst-utils.js":function(Le,J,R){R.d(J,{El:function(){return I},NS:function(){return H},SX:function(){return K},pO:function(){return P},r4:function(){return A},v:function(){return g},wf:function(){return D}});var v=R("./node_modules/langium/lib/syntax-tree.js"),M=R("./node_modules/langium/lib/utils/stream.js");function H(G){return new M.Vj(G,te=>(0,v.mD)(te)?te.content:[],{includeRoot:!0})}function x(G){return H(G).filter(isLeafCstNode)}function P(G,te){for(;G.container;)if(G=G.container,G===te)return!0;return!1}function D(G){return{start:{character:G.startColumn-1,line:G.startLine-1},end:{character:G.endColumn,line:G.endLine-1}}}function K(G){if(!G)return;const{offset:te,end:de,range:ge}=G;return{range:ge,offset:te,end:de,length:de-te}}var U;(function(G){G[G.Before=0]="Before",G[G.After=1]="After",G[G.OverlapFront=2]="OverlapFront",G[G.OverlapBack=3]="OverlapBack",G[G.Inside=4]="Inside",G[G.Outside=5]="Outside"})(U||(U={}));function k(G,te){if(G.end.line<te.start.line||G.end.line===te.start.line&&G.end.character<=te.start.character)return U.Before;if(G.start.line>te.end.line||G.start.line===te.end.line&&G.start.character>=te.end.character)return U.After;const de=G.start.line>te.start.line||G.start.line===te.start.line&&G.start.character>=te.start.character,ge=G.end.line<te.end.line||G.end.line===te.end.line&&G.end.character<=te.end.character;return de&&ge?U.Inside:de?U.OverlapBack:ge?U.OverlapFront:U.Outside}function A(G,te){return k(G,te)>U.After}const I=/^[\w\p{L}]$/u;function m(G,te,de=I){if(G){if(te>0){const ge=te-G.offset,Ce=G.text.charAt(ge);de.test(Ce)||te--}return $(G,te)}}function g(G,te){if(G){const de=b(G,!0);if(de&&y(de,te))return de;if((0,v.br)(G)){const ge=G.content.findIndex(Ce=>!Ce.hidden);for(let Ce=ge-1;Ce>=0;Ce--){const ve=G.content[Ce];if(y(ve,te))return ve}}}}function y(G,te){return(0,v.FC)(G)&&te.includes(G.tokenType.name)}function $(G,te){if(isLeafCstNode(G))return G;if(isCompositeCstNode(G)){const de=N(G,te,!1);if(de)return $(de,te)}}function p(G,te){if(isLeafCstNode(G))return G;if(isCompositeCstNode(G)){const de=N(G,te,!0);if(de)return p(de,te)}}function N(G,te,de){let ge=0,Ce=G.content.length-1,ve;for(;ge<=Ce;){const Be=Math.floor((ge+Ce)/2),ee=G.content[Be];if(ee.offset<=te&&ee.end>te)return ee;ee.end<=te?(ve=de?ee:void 0,ge=Be+1):Ce=Be-1}return ve}function b(G,te=!0){for(;G.container;){const de=G.container;let ge=de.content.indexOf(G);for(;ge>0;){ge--;const Ce=de.content[ge];if(te||!Ce.hidden)return Ce}G=de}}function F(G,te=!0){for(;G.container;){const de=G.container;let ge=de.content.indexOf(G);const Ce=de.content.length-1;for(;ge<Ce;){ge++;const ve=de.content[ge];if(te||!ve.hidden)return ve}G=de}}function V(G){if(G.range.start.character===0)return G;const te=G.range.start.line;let de=G,ge;for(;G.container;){const Ce=G.container,ve=ge??Ce.content.indexOf(G);if(ve===0?(G=Ce,ge=void 0):(ge=ve-1,G=Ce.content[ge]),G.range.start.line!==te)break;de=G}return de}function Z(G,te){const de=le(G,te);return de?de.parent.content.slice(de.a+1,de.b):[]}function le(G,te){const de=ue(G),ge=ue(te);let Ce;for(let ve=0;ve<de.length&&ve<ge.length;ve++){const Be=de[ve],ee=ge[ve];if(Be.parent===ee.parent)Ce={parent:Be.parent,a:Be.index,b:ee.index};else break}return Ce}function ue(G){const te=[];for(;G.container;){const de=G.container,ge=de.content.indexOf(G);te.push({parent:de,index:ge}),G=de}return te.reverse()}},"./node_modules/langium/lib/utils/errors.js":function(Le,J,R){R.d(J,{W:function(){return v},d:function(){return M}});class v extends Error{constructor(x,P){super(x?`${P} at ${x.range.start.line}:${x.range.start.character}`:P)}}function M(H){throw new Error("Error! The input value was not handled.")}},"./node_modules/langium/lib/utils/grammar-utils.js":function(Le,J,R){R.d(J,{Bd:function(){return g},P3:function(){return oe},PV:function(){return Be},Rp:function(){return F},S:function(){return Ee},SS:function(){return N},U5:function(){return V},Uz:function(){return ee},Xq:function(){return de},YV:function(){return k},eb:function(){return m},g4:function(){return I},qO:function(){return y}});var v=R("./node_modules/langium/lib/utils/errors.js"),M=R("./node_modules/langium/lib/languages/generated/ast.js"),H=R("./node_modules/langium/lib/syntax-tree.js"),x=R("./node_modules/langium/lib/utils/ast-utils.js"),P=R("./node_modules/langium/lib/utils/cst-utils.js"),D=R("./node_modules/langium/lib/utils/regexp-utils.js");function K(E){return E.rules.find(L=>M.s7(L)&&L.entry)}function U(E){return E.rules.filter(L=>M.rE(L)&&L.hidden)}function k(E,L){const W=new Set,fe=K(E);if(!fe)return new Set(E.rules);const ce=[fe].concat(U(E));for(const Ae of ce)A(Ae,W,L);const Re=new Set;for(const Ae of E.rules)(W.has(Ae.name)||M.rE(Ae)&&Ae.hidden)&&Re.add(Ae);return Re}function A(E,L,W){L.add(E.name),(0,x.Uo)(E).forEach(fe=>{if(M.$g(fe)||W&&M.lF(fe)){const ce=fe.rule.ref;ce&&!L.has(ce.name)&&A(ce,L,W)}})}function I(E){if(E.terminal)return E.terminal;if(E.type.ref){const L=V(E.type.ref);return L?.terminal}}function m(E){return E.hidden&&!(0,D.Yv)(Ee(E))}function g(E,L){return!E||!L?[]:$(E,L,E.astNode,!0)}function y(E,L,W){if(!E||!L)return;const fe=$(E,L,E.astNode,!0);if(fe.length!==0)return W!==void 0?W=Math.max(0,Math.min(W,fe.length-1)):W=0,fe[W]}function $(E,L,W,fe){if(!fe){const ce=(0,x.XG)(E.grammarSource,M.wh);if(ce&&ce.feature===L)return[E]}return(0,H.mD)(E)&&E.astNode===W?E.content.flatMap(ce=>$(ce,L,W,!1)):[]}function p(E,L){return E?b(E,L,E?.astNode):[]}function N(E,L,W){if(!E)return;const fe=b(E,L,E?.astNode);if(fe.length!==0)return W!==void 0?W=Math.max(0,Math.min(W,fe.length-1)):W=0,fe[W]}function b(E,L,W){if(E.astNode!==W)return[];if(M.wb(E.grammarSource)&&E.grammarSource.value===L)return[E];const fe=(0,P.NS)(E).iterator();let ce;const Re=[];do if(ce=fe.next(),!ce.done){const Ae=ce.value;Ae.astNode===W?M.wb(Ae.grammarSource)&&Ae.grammarSource.value===L&&Re.push(Ae):fe.prune()}while(!ce.done);return Re}function F(E){var L;const W=E.astNode;for(;W===((L=E.container)===null||L===void 0?void 0:L.astNode);){const fe=(0,x.XG)(E.grammarSource,M.wh);if(fe)return fe;E=E.container}}function V(E){let L=E;return M.SP(L)&&(M.ve(L.$container)?L=L.$container.$container:M.s7(L.$container)?L=L.$container:(0,v.d)(L.$container)),Z(E,L,new Map)}function Z(E,L,W){var fe;function ce(Re,Ae){let we;return(0,x.XG)(Re,M.wh)||(we=Z(Ae,Ae,W)),W.set(E,we),we}if(W.has(E))return W.get(E);W.set(E,void 0);for(const Re of(0,x.Uo)(L)){if(M.wh(Re)&&Re.feature.toLowerCase()==="name")return W.set(E,Re),Re;if(M.$g(Re)&&M.s7(Re.rule.ref))return ce(Re,Re.rule.ref);if(M.D8(Re)&&(!((fe=Re.typeRef)===null||fe===void 0)&&fe.ref))return ce(Re,Re.typeRef.ref)}}function le(E){const L=E.$container;if(ast.isGroup(L)){const W=L.elements,fe=W.indexOf(E);for(let ce=fe-1;ce>=0;ce--){const Re=W[ce];if(ast.isAction(Re))return Re;{const Ae=streamAllContents(W[ce]).find(ast.isAction);if(Ae)return Ae}}}if(ast.isAbstractElement(L))return le(L)}function ue(E,L){return E==="?"||E==="*"||ast.isGroup(L)&&!!L.guardCondition}function G(E){return E==="*"||E==="+"}function te(E){return E==="+="}function de(E){return ge(E,new Set)}function ge(E,L){if(L.has(E))return!0;L.add(E);for(const W of(0,x.Uo)(E))if(M.$g(W)){if(!W.rule.ref||M.s7(W.rule.ref)&&!ge(W.rule.ref,L))return!1}else{if(M.wh(W))return!1;if(M.ve(W))return!1}return!!E.definition}function Ce(E){return ve(E.type,new Set)}function ve(E,L){if(L.has(E))return!0;if(L.add(E),ast.isArrayType(E))return!1;if(ast.isReferenceType(E))return!1;if(ast.isUnionType(E))return E.types.every(W=>ve(W,L));if(ast.isSimpleType(E)){if(E.primitiveType!==void 0)return!0;if(E.stringType!==void 0)return!0;if(E.typeRef!==void 0){const W=E.typeRef.ref;return ast.isType(W)?ve(W.type,L):!1}else return!1}else return!1}function Be(E){if(E.inferredType)return E.inferredType.name;if(E.dataType)return E.dataType;if(E.returnType){const L=E.returnType.ref;if(L){if(M.s7(L))return L.name;if(M.S2(L)||M.Xj(L))return L.name}}}function ee(E){var L;if(M.s7(E))return de(E)?E.name:(L=Be(E))!==null&&L!==void 0?L:E.name;if(M.S2(E)||M.Xj(E)||M.fG(E))return E.name;if(M.ve(E)){const W=X(E);if(W)return W}else if(M.SP(E))return E.name;throw new Error("Cannot get name of Unknown Type")}function X(E){var L;if(E.inferredType)return E.inferredType.name;if(!((L=E.type)===null||L===void 0)&&L.ref)return ee(E.type.ref)}function se(E){var L,W,fe;return ast.isTerminalRule(E)?(W=(L=E.type)===null||L===void 0?void 0:L.name)!==null&&W!==void 0?W:"string":de(E)?E.name:(fe=Be(E))!==null&&fe!==void 0?fe:E.name}function oe(E){var L,W,fe;return M.rE(E)?(W=(L=E.type)===null||L===void 0?void 0:L.name)!==null&&W!==void 0?W:"string":(fe=Be(E))!==null&&fe!==void 0?fe:E.name}function Ee(E){const L={s:!1,i:!1,u:!1},W=me(E.definition,L),fe=Object.entries(L).filter(([,ce])=>ce).map(([ce])=>ce).join("");return new RegExp(W,fe)}const ye=/[\s\S]/.source;function me(E,L){if(M.Fy(E))return Je(E);if(M.O4(E))return ke(E);if(M.Bg(E))return ct(E);if(M.lF(E)){const W=E.rule.ref;if(!W)throw new Error("Missing rule reference.");return qe(me(W.definition),{cardinality:E.cardinality,lookahead:E.lookahead})}else{if(M.GL(E))return rt(E);if(M.Mz(E))return Me(E);if(M.vd(E)){const W=E.regex.lastIndexOf("/"),fe=E.regex.substring(1,W),ce=E.regex.substring(W+1);return L&&(L.i=ce.includes("i"),L.s=ce.includes("s"),L.u=ce.includes("u")),qe(fe,{cardinality:E.cardinality,lookahead:E.lookahead,wrap:!1})}else{if(M.z2(E))return qe(ye,{cardinality:E.cardinality,lookahead:E.lookahead});throw new Error(`Invalid terminal element: ${E?.$type}`)}}}function Je(E){return qe(E.elements.map(L=>me(L)).join("|"),{cardinality:E.cardinality,lookahead:E.lookahead})}function ke(E){return qe(E.elements.map(L=>me(L)).join(""),{cardinality:E.cardinality,lookahead:E.lookahead})}function Me(E){return qe(`${ye}*?${me(E.terminal)}`,{cardinality:E.cardinality,lookahead:E.lookahead})}function rt(E){return qe(`(?!${me(E.terminal)})${ye}*?`,{cardinality:E.cardinality,lookahead:E.lookahead})}function ct(E){return E.right?qe(`[${De(E.left)}-${De(E.right)}]`,{cardinality:E.cardinality,lookahead:E.lookahead,wrap:!1}):qe(De(E.left),{cardinality:E.cardinality,lookahead:E.lookahead,wrap:!1})}function De(E){return(0,D.Nt)(E.value)}function qe(E,L){var W;return(L.wrap!==!1||L.lookahead)&&(E=`(${(W=L.lookahead)!==null&&W!==void 0?W:""}${E})`),L.cardinality?`${E}${L.cardinality}`:E}},"./node_modules/langium/lib/utils/regexp-utils.js":function(Le,J,R){R.d(J,{Ao:function(){return I},Nt:function(){return A},PC:function(){return m},TH:function(){return M},Yv:function(){return k},lU:function(){return K}});var v=R("./node_modules/@chevrotain/regexp-to-ast/lib/src/api.js");const M=/\r?\n/gm,H=new v.H;class x extends v.z{constructor(){super(...arguments),this.isStarting=!0,this.endRegexpStack=[],this.multiline=!1}get endRegex(){return this.endRegexpStack.join("")}reset($){this.multiline=!1,this.regex=$,this.startRegexp="",this.isStarting=!0,this.endRegexpStack=[]}visitGroup($){$.quantifier&&(this.isStarting=!1,this.endRegexpStack=[])}visitCharacter($){const p=String.fromCharCode($.value);if(!this.multiline&&p===`
`&&(this.multiline=!0),$.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const N=A(p);this.endRegexpStack.push(N),this.isStarting&&(this.startRegexp+=N)}}visitSet($){if(!this.multiline){const p=this.regex.substring($.loc.begin,$.loc.end),N=new RegExp(p);this.multiline=!!`
`.match(N)}if($.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const p=this.regex.substring($.loc.begin,$.loc.end);this.endRegexpStack.push(p),this.isStarting&&(this.startRegexp+=p)}}visitChildren($){$.type==="Group"&&$.quantifier||super.visitChildren($)}}const P=new x;function D(y){try{typeof y!="string"&&(y=y.source),y=`/${y}/`;const $=H.pattern(y),p=[];for(const N of $.value.value)P.reset(y),P.visit(N),p.push({start:P.startRegexp,end:P.endRegex});return p}catch{return[]}}function K(y){try{return typeof y=="string"&&(y=new RegExp(y)),y=y.toString(),P.reset(y),P.visit(H.pattern(y)),P.multiline}catch{return!1}}const U=`\f
\r	\v \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF`.split("");function k(y){const $=typeof y=="string"?new RegExp(y):y;return U.some(p=>$.test(p))}function A(y){return y.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function I(y){return Array.prototype.map.call(y,$=>/\w/.test($)?`[${$.toLowerCase()}${$.toUpperCase()}]`:A($)).join("")}function m(y,$){const p=g(y),N=$.match(p);return!!N&&N[0].length>0}function g(y){typeof y=="string"&&(y=new RegExp(y));const $=y,p=y.source;let N=0;function b(){let F="",V;function Z(ue){F+=p.substr(N,ue),N+=ue}function le(ue){F+="(?:"+p.substr(N,ue)+"|$)",N+=ue}for(;N<p.length;)switch(p[N]){case"\\":switch(p[N+1]){case"c":le(3);break;case"x":le(4);break;case"u":$.unicode?p[N+2]==="{"?le(p.indexOf("}",N)-N+1):le(6):le(2);break;case"p":case"P":$.unicode?le(p.indexOf("}",N)-N+1):le(2);break;case"k":le(p.indexOf(">",N)-N+1);break;default:le(2);break}break;case"[":V=/\[(?:\\.|.)*?\]/g,V.lastIndex=N,V=V.exec(p)||[],le(V[0].length);break;case"|":case"^":case"$":case"*":case"+":case"?":Z(1);break;case"{":V=/\{\d+,?\d*\}/g,V.lastIndex=N,V=V.exec(p),V?Z(V[0].length):le(1);break;case"(":if(p[N+1]==="?")switch(p[N+2]){case":":F+="(?:",N+=3,F+=b()+"|$)";break;case"=":F+="(?=",N+=3,F+=b()+")";break;case"!":V=N,N+=3,b(),F+=p.substr(V,N-V);break;case"<":switch(p[N+3]){case"=":case"!":V=N,N+=4,b(),F+=p.substr(V,N-V);break;default:Z(p.indexOf(">",N)-N+1),F+=b()+"|$)";break}break}else Z(1),F+=b()+"|$)";break;case")":return++N,F;default:le(1);break}return F}return new RegExp(b(),y.flags)}},"./node_modules/langium/lib/utils/stream.js":function(Le,J,R){R.d(J,{B5:function(){return x},Rf:function(){return P},Td:function(){return D},Vj:function(){return K},fq:function(){return v},iD:function(){return U}});class v{constructor(A,I){this.startFn=A,this.nextFn=I}iterator(){const A={state:this.startFn(),next:()=>this.nextFn(A.state),[Symbol.iterator]:()=>A};return A}[Symbol.iterator](){return this.iterator()}isEmpty(){return!!this.iterator().next().done}count(){const A=this.iterator();let I=0,m=A.next();for(;!m.done;)I++,m=A.next();return I}toArray(){const A=[],I=this.iterator();let m;do m=I.next(),m.value!==void 0&&A.push(m.value);while(!m.done);return A}toSet(){return new Set(this)}toMap(A,I){const m=this.map(g=>[A?A(g):g,I?I(g):g]);return new Map(m)}toString(){return this.join()}concat(A){return new v(()=>({first:this.startFn(),firstDone:!1,iterator:A[Symbol.iterator]()}),I=>{let m;if(!I.firstDone){do if(m=this.nextFn(I.first),!m.done)return m;while(!m.done);I.firstDone=!0}do if(m=I.iterator.next(),!m.done)return m;while(!m.done);return P})}join(A=","){const I=this.iterator();let m="",g,y=!1;do g=I.next(),g.done||(y&&(m+=A),m+=M(g.value)),y=!0;while(!g.done);return m}indexOf(A,I=0){const m=this.iterator();let g=0,y=m.next();for(;!y.done;){if(g>=I&&y.value===A)return g;y=m.next(),g++}return-1}every(A){const I=this.iterator();let m=I.next();for(;!m.done;){if(!A(m.value))return!1;m=I.next()}return!0}some(A){const I=this.iterator();let m=I.next();for(;!m.done;){if(A(m.value))return!0;m=I.next()}return!1}forEach(A){const I=this.iterator();let m=0,g=I.next();for(;!g.done;)A(g.value,m),g=I.next(),m++}map(A){return new v(this.startFn,I=>{const{done:m,value:g}=this.nextFn(I);return m?P:{done:!1,value:A(g)}})}filter(A){return new v(this.startFn,I=>{let m;do if(m=this.nextFn(I),!m.done&&A(m.value))return m;while(!m.done);return P})}nonNullable(){return this.filter(A=>A!=null)}reduce(A,I){const m=this.iterator();let g=I,y=m.next();for(;!y.done;)g===void 0?g=y.value:g=A(g,y.value),y=m.next();return g}reduceRight(A,I){return this.recursiveReduce(this.iterator(),A,I)}recursiveReduce(A,I,m){const g=A.next();if(g.done)return m;const y=this.recursiveReduce(A,I,m);return y===void 0?g.value:I(y,g.value)}find(A){const I=this.iterator();let m=I.next();for(;!m.done;){if(A(m.value))return m.value;m=I.next()}}findIndex(A){const I=this.iterator();let m=0,g=I.next();for(;!g.done;){if(A(g.value))return m;g=I.next(),m++}return-1}includes(A){const I=this.iterator();let m=I.next();for(;!m.done;){if(m.value===A)return!0;m=I.next()}return!1}flatMap(A){return new v(()=>({this:this.startFn()}),I=>{do{if(I.iterator){const y=I.iterator.next();if(y.done)I.iterator=void 0;else return y}const{done:m,value:g}=this.nextFn(I.this);if(!m){const y=A(g);if(H(y))I.iterator=y[Symbol.iterator]();else return{done:!1,value:y}}}while(I.iterator);return P})}flat(A){if(A===void 0&&(A=1),A<=0)return this;const I=A>1?this.flat(A-1):this;return new v(()=>({this:I.startFn()}),m=>{do{if(m.iterator){const $=m.iterator.next();if($.done)m.iterator=void 0;else return $}const{done:g,value:y}=I.nextFn(m.this);if(!g)if(H(y))m.iterator=y[Symbol.iterator]();else return{done:!1,value:y}}while(m.iterator);return P})}head(){const I=this.iterator().next();if(!I.done)return I.value}tail(A=1){return new v(()=>{const I=this.startFn();for(let m=0;m<A;m++)if(this.nextFn(I).done)return I;return I},this.nextFn)}limit(A){return new v(()=>({size:0,state:this.startFn()}),I=>(I.size++,I.size>A?P:this.nextFn(I.state)))}distinct(A){return new v(()=>({set:new Set,internalState:this.startFn()}),I=>{let m;do if(m=this.nextFn(I.internalState),!m.done){const g=A?A(m.value):m.value;if(!I.set.has(g))return I.set.add(g),m}while(!m.done);return P})}exclude(A,I){const m=new Set;for(const g of A){const y=I?I(g):g;m.add(y)}return this.filter(g=>{const y=I?I(g):g;return!m.has(y)})}}function M(k){return typeof k=="string"?k:typeof k>"u"?"undefined":typeof k.toString=="function"?k.toString():Object.prototype.toString.call(k)}function H(k){return!!k&&typeof k[Symbol.iterator]=="function"}const x=new v(()=>{},()=>P),P=Object.freeze({done:!0,value:void 0});function D(...k){if(k.length===1){const A=k[0];if(A instanceof v)return A;if(H(A))return new v(()=>A[Symbol.iterator](),I=>I.next());if(typeof A.length=="number")return new v(()=>({index:0}),I=>I.index<A.length?{done:!1,value:A[I.index++]}:P)}return k.length>1?new v(()=>({collIndex:0,arrIndex:0}),A=>{do{if(A.iterator){const I=A.iterator.next();if(!I.done)return I;A.iterator=void 0}if(A.array){if(A.arrIndex<A.array.length)return{done:!1,value:A.array[A.arrIndex++]};A.array=void 0,A.arrIndex=0}if(A.collIndex<k.length){const I=k[A.collIndex++];H(I)?A.iterator=I[Symbol.iterator]():I&&typeof I.length=="number"&&(A.array=I)}}while(A.iterator||A.array||A.collIndex<k.length);return P}):x}class K extends v{constructor(A,I,m){super(()=>({iterators:m?.includeRoot?[[A][Symbol.iterator]()]:[I(A)[Symbol.iterator]()],pruned:!1}),g=>{for(g.pruned&&(g.iterators.pop(),g.pruned=!1);g.iterators.length>0;){const $=g.iterators[g.iterators.length-1].next();if($.done)g.iterators.pop();else return g.iterators.push(I($.value)[Symbol.iterator]()),$}return P})}iterator(){const A={state:this.startFn(),next:()=>this.nextFn(A.state),prune:()=>{A.state.pruned=!0},[Symbol.iterator]:()=>A};return A}}var U;(function(k){function A(y){return y.reduce(($,p)=>$+p,0)}k.sum=A;function I(y){return y.reduce(($,p)=>$*p,0)}k.product=I;function m(y){return y.reduce(($,p)=>Math.min($,p))}k.min=m;function g(y){return y.reduce(($,p)=>Math.max($,p))}k.max=g})(U||(U={}))},"./node_modules/langium/lib/workspace/file-system-provider.js":function(Le,J,R){R.d(J,{D:function(){return M}});class v{readFile(){throw new Error("No file system is available.")}async readDirectory(){return[]}}const M={fileSystemProvider:()=>new v}},"./node_modules/lodash-es/clone.js":function(Le,J,R){var v=R("./node_modules/lodash-es/_baseClone.js"),M=4;function H(x){return(0,v.A)(x,M)}J.A=H},"./node_modules/lodash-es/flatMap.js":function(Le,J,R){var v=R("./node_modules/lodash-es/_baseFlatten.js"),M=R("./node_modules/lodash-es/map.js");function H(x,P){return(0,v.A)((0,M.A)(x,P),1)}J.A=H},"./node_modules/vscode-jsonrpc/lib/common/cancellation.js":function(Le,J,R){var v;v={value:!0},J.Qi=J.XO=void 0;const M=R("./node_modules/vscode-jsonrpc/lib/common/ral.js"),H=R("./node_modules/vscode-jsonrpc/lib/common/is.js"),x=R("./node_modules/vscode-jsonrpc/lib/common/events.js");var P;(function(k){k.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:x.Event.None}),k.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:x.Event.None});function A(I){const m=I;return m&&(m===k.None||m===k.Cancelled||H.boolean(m.isCancellationRequested)&&!!m.onCancellationRequested)}k.is=A})(P||(J.XO=P={}));const D=Object.freeze(function(k,A){const I=(0,M.default)().timer.setTimeout(k.bind(A),0);return{dispose(){I.dispose()}}});class K{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?D:(this._emitter||(this._emitter=new x.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}class U{get token(){return this._token||(this._token=new K),this._token}cancel(){this._token?this._token.cancel():this._token=P.Cancelled}dispose(){this._token?this._token instanceof K&&this._token.dispose():this._token=P.None}}J.Qi=U},"./node_modules/vscode-jsonrpc/lib/common/events.js":function(Le,J,R){Object.defineProperty(J,"__esModule",{value:!0}),J.Emitter=J.Event=void 0;const v=R("./node_modules/vscode-jsonrpc/lib/common/ral.js");var M;(function(P){const D={dispose(){}};P.None=function(){return D}})(M||(J.Event=M={}));class H{add(D,K=null,U){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(D),this._contexts.push(K),Array.isArray(U)&&U.push({dispose:()=>this.remove(D,K)})}remove(D,K=null){if(!this._callbacks)return;let U=!1;for(let k=0,A=this._callbacks.length;k<A;k++)if(this._callbacks[k]===D)if(this._contexts[k]===K){this._callbacks.splice(k,1),this._contexts.splice(k,1);return}else U=!0;if(U)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...D){if(!this._callbacks)return[];const K=[],U=this._callbacks.slice(0),k=this._contexts.slice(0);for(let A=0,I=U.length;A<I;A++)try{K.push(U[A].apply(k[A],D))}catch(m){(0,v.default)().console.error(m)}return K}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}}class x{constructor(D){this._options=D}get event(){return this._event||(this._event=(D,K,U)=>{this._callbacks||(this._callbacks=new H),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(D,K);const k={dispose:()=>{this._callbacks&&(this._callbacks.remove(D,K),k.dispose=x._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(U)&&U.push(k),k}),this._event}fire(D){this._callbacks&&this._callbacks.invoke.call(this._callbacks,D)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}J.Emitter=x,x._noop=function(){}},"./node_modules/vscode-jsonrpc/lib/common/is.js":function(Le,J){Object.defineProperty(J,"__esModule",{value:!0}),J.stringArray=J.array=J.func=J.error=J.number=J.string=J.boolean=void 0;function R(K){return K===!0||K===!1}J.boolean=R;function v(K){return typeof K=="string"||K instanceof String}J.string=v;function M(K){return typeof K=="number"||K instanceof Number}J.number=M;function H(K){return K instanceof Error}J.error=H;function x(K){return typeof K=="function"}J.func=x;function P(K){return Array.isArray(K)}J.array=P;function D(K){return P(K)&&K.every(U=>v(U))}J.stringArray=D},"./node_modules/vscode-jsonrpc/lib/common/ral.js":function(Le,J){Object.defineProperty(J,"__esModule",{value:!0});let R;function v(){if(R===void 0)throw new Error("No runtime abstraction layer installed");return R}(function(M){function H(x){if(x===void 0)throw new Error("No runtime abstraction layer provided");R=x}M.install=H})(v||(v={})),J.default=v},"./node_modules/vscode-uri/lib/esm/index.mjs":function(Le,J,R){R.d(J,{A:function(){return H},r:function(){return M}});var v;(()=>{"use strict";var x={470:U=>{function k(m){if(typeof m!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(m))}function A(m,g){for(var y,$="",p=0,N=-1,b=0,F=0;F<=m.length;++F){if(F<m.length)y=m.charCodeAt(F);else{if(y===47)break;y=47}if(y===47){if(!(N===F-1||b===1))if(N!==F-1&&b===2){if($.length<2||p!==2||$.charCodeAt($.length-1)!==46||$.charCodeAt($.length-2)!==46){if($.length>2){var V=$.lastIndexOf("/");if(V!==$.length-1){V===-1?($="",p=0):p=($=$.slice(0,V)).length-1-$.lastIndexOf("/"),N=F,b=0;continue}}else if($.length===2||$.length===1){$="",p=0,N=F,b=0;continue}}g&&($.length>0?$+="/..":$="..",p=2)}else $.length>0?$+="/"+m.slice(N+1,F):$=m.slice(N+1,F),p=F-N-1;N=F,b=0}else y===46&&b!==-1?++b:b=-1}return $}var I={resolve:function(){for(var m,g="",y=!1,$=arguments.length-1;$>=-1&&!y;$--){var p;$>=0?p=arguments[$]:(m===void 0&&(m=process.cwd()),p=m),k(p),p.length!==0&&(g=p+"/"+g,y=p.charCodeAt(0)===47)}return g=A(g,!y),y?g.length>0?"/"+g:"/":g.length>0?g:"."},normalize:function(m){if(k(m),m.length===0)return".";var g=m.charCodeAt(0)===47,y=m.charCodeAt(m.length-1)===47;return(m=A(m,!g)).length!==0||g||(m="."),m.length>0&&y&&(m+="/"),g?"/"+m:m},isAbsolute:function(m){return k(m),m.length>0&&m.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var m,g=0;g<arguments.length;++g){var y=arguments[g];k(y),y.length>0&&(m===void 0?m=y:m+="/"+y)}return m===void 0?".":I.normalize(m)},relative:function(m,g){if(k(m),k(g),m===g||(m=I.resolve(m))===(g=I.resolve(g)))return"";for(var y=1;y<m.length&&m.charCodeAt(y)===47;++y);for(var $=m.length,p=$-y,N=1;N<g.length&&g.charCodeAt(N)===47;++N);for(var b=g.length-N,F=p<b?p:b,V=-1,Z=0;Z<=F;++Z){if(Z===F){if(b>F){if(g.charCodeAt(N+Z)===47)return g.slice(N+Z+1);if(Z===0)return g.slice(N+Z)}else p>F&&(m.charCodeAt(y+Z)===47?V=Z:Z===0&&(V=0));break}var le=m.charCodeAt(y+Z);if(le!==g.charCodeAt(N+Z))break;le===47&&(V=Z)}var ue="";for(Z=y+V+1;Z<=$;++Z)Z!==$&&m.charCodeAt(Z)!==47||(ue.length===0?ue+="..":ue+="/..");return ue.length>0?ue+g.slice(N+V):(N+=V,g.charCodeAt(N)===47&&++N,g.slice(N))},_makeLong:function(m){return m},dirname:function(m){if(k(m),m.length===0)return".";for(var g=m.charCodeAt(0),y=g===47,$=-1,p=!0,N=m.length-1;N>=1;--N)if((g=m.charCodeAt(N))===47){if(!p){$=N;break}}else p=!1;return $===-1?y?"/":".":y&&$===1?"//":m.slice(0,$)},basename:function(m,g){if(g!==void 0&&typeof g!="string")throw new TypeError('"ext" argument must be a string');k(m);var y,$=0,p=-1,N=!0;if(g!==void 0&&g.length>0&&g.length<=m.length){if(g.length===m.length&&g===m)return"";var b=g.length-1,F=-1;for(y=m.length-1;y>=0;--y){var V=m.charCodeAt(y);if(V===47){if(!N){$=y+1;break}}else F===-1&&(N=!1,F=y+1),b>=0&&(V===g.charCodeAt(b)?--b==-1&&(p=y):(b=-1,p=F))}return $===p?p=F:p===-1&&(p=m.length),m.slice($,p)}for(y=m.length-1;y>=0;--y)if(m.charCodeAt(y)===47){if(!N){$=y+1;break}}else p===-1&&(N=!1,p=y+1);return p===-1?"":m.slice($,p)},extname:function(m){k(m);for(var g=-1,y=0,$=-1,p=!0,N=0,b=m.length-1;b>=0;--b){var F=m.charCodeAt(b);if(F!==47)$===-1&&(p=!1,$=b+1),F===46?g===-1?g=b:N!==1&&(N=1):g!==-1&&(N=-1);else if(!p){y=b+1;break}}return g===-1||$===-1||N===0||N===1&&g===$-1&&g===y+1?"":m.slice(g,$)},format:function(m){if(m===null||typeof m!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof m);return function(g,y){var $=y.dir||y.root,p=y.base||(y.name||"")+(y.ext||"");return $?$===y.root?$+p:$+"/"+p:p}(0,m)},parse:function(m){k(m);var g={root:"",dir:"",base:"",ext:"",name:""};if(m.length===0)return g;var y,$=m.charCodeAt(0),p=$===47;p?(g.root="/",y=1):y=0;for(var N=-1,b=0,F=-1,V=!0,Z=m.length-1,le=0;Z>=y;--Z)if(($=m.charCodeAt(Z))!==47)F===-1&&(V=!1,F=Z+1),$===46?N===-1?N=Z:le!==1&&(le=1):N!==-1&&(le=-1);else if(!V){b=Z+1;break}return N===-1||F===-1||le===0||le===1&&N===F-1&&N===b+1?F!==-1&&(g.base=g.name=b===0&&p?m.slice(1,F):m.slice(b,F)):(b===0&&p?(g.name=m.slice(1,N),g.base=m.slice(1,F)):(g.name=m.slice(b,N),g.base=m.slice(b,F)),g.ext=m.slice(N,F)),b>0?g.dir=m.slice(0,b-1):p&&(g.dir="/"),g},sep:"/",delimiter:":",win32:null,posix:null};I.posix=I,U.exports=I}},P={};function D(U){var k=P[U];if(k!==void 0)return k.exports;var A=P[U]={exports:{}};return x[U](A,A.exports,D),A.exports}D.d=(U,k)=>{for(var A in k)D.o(k,A)&&!D.o(U,A)&&Object.defineProperty(U,A,{enumerable:!0,get:k[A]})},D.o=(U,k)=>Object.prototype.hasOwnProperty.call(U,k),D.r=U=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(U,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(U,"__esModule",{value:!0})};var K={};(()=>{let U;D.r(K),D.d(K,{URI:()=>p,Utils:()=>Be}),typeof process=="object"?U=process.platform==="win32":typeof navigator=="object"&&(U=navigator.userAgent.indexOf("Windows")>=0);const k=/^\w[\w\d+.-]*$/,A=/^\//,I=/^\/\//;function m(ee,X){if(!ee.scheme&&X)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${ee.authority}", path: "${ee.path}", query: "${ee.query}", fragment: "${ee.fragment}"}`);if(ee.scheme&&!k.test(ee.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(ee.path){if(ee.authority){if(!A.test(ee.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(I.test(ee.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}const g="",y="/",$=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class p{constructor(X,se,oe,Ee,ye,me=!1){bn(this,"scheme");bn(this,"authority");bn(this,"path");bn(this,"query");bn(this,"fragment");typeof X=="object"?(this.scheme=X.scheme||g,this.authority=X.authority||g,this.path=X.path||g,this.query=X.query||g,this.fragment=X.fragment||g):(this.scheme=function(Je,ke){return Je||ke?Je:"file"}(X,me),this.authority=se||g,this.path=function(Je,ke){switch(Je){case"https":case"http":case"file":ke?ke[0]!==y&&(ke=y+ke):ke=y}return ke}(this.scheme,oe||g),this.query=Ee||g,this.fragment=ye||g,m(this,me))}static isUri(X){return X instanceof p||!!X&&typeof X.authority=="string"&&typeof X.fragment=="string"&&typeof X.path=="string"&&typeof X.query=="string"&&typeof X.scheme=="string"&&typeof X.fsPath=="string"&&typeof X.with=="function"&&typeof X.toString=="function"}get fsPath(){return le(this,!1)}with(X){if(!X)return this;let{scheme:se,authority:oe,path:Ee,query:ye,fragment:me}=X;return se===void 0?se=this.scheme:se===null&&(se=g),oe===void 0?oe=this.authority:oe===null&&(oe=g),Ee===void 0?Ee=this.path:Ee===null&&(Ee=g),ye===void 0?ye=this.query:ye===null&&(ye=g),me===void 0?me=this.fragment:me===null&&(me=g),se===this.scheme&&oe===this.authority&&Ee===this.path&&ye===this.query&&me===this.fragment?this:new b(se,oe,Ee,ye,me)}static parse(X,se=!1){const oe=$.exec(X);return oe?new b(oe[2]||g,de(oe[4]||g),de(oe[5]||g),de(oe[7]||g),de(oe[9]||g),se):new b(g,g,g,g,g)}static file(X){let se=g;if(U&&(X=X.replace(/\\/g,y)),X[0]===y&&X[1]===y){const oe=X.indexOf(y,2);oe===-1?(se=X.substring(2),X=y):(se=X.substring(2,oe),X=X.substring(oe)||y)}return new b("file",se,X,g,g)}static from(X){const se=new b(X.scheme,X.authority,X.path,X.query,X.fragment);return m(se,!0),se}toString(X=!1){return ue(this,X)}toJSON(){return this}static revive(X){if(X){if(X instanceof p)return X;{const se=new b(X);return se._formatted=X.external,se._fsPath=X._sep===N?X.fsPath:null,se}}return X}}const N=U?1:void 0;class b extends p{constructor(){super(...arguments);bn(this,"_formatted",null);bn(this,"_fsPath",null)}get fsPath(){return this._fsPath||(this._fsPath=le(this,!1)),this._fsPath}toString(se=!1){return se?ue(this,!0):(this._formatted||(this._formatted=ue(this,!1)),this._formatted)}toJSON(){const se={$mid:1};return this._fsPath&&(se.fsPath=this._fsPath,se._sep=N),this._formatted&&(se.external=this._formatted),this.path&&(se.path=this.path),this.scheme&&(se.scheme=this.scheme),this.authority&&(se.authority=this.authority),this.query&&(se.query=this.query),this.fragment&&(se.fragment=this.fragment),se}}const F={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function V(ee,X,se){let oe,Ee=-1;for(let ye=0;ye<ee.length;ye++){const me=ee.charCodeAt(ye);if(me>=97&&me<=122||me>=65&&me<=90||me>=48&&me<=57||me===45||me===46||me===95||me===126||X&&me===47||se&&me===91||se&&me===93||se&&me===58)Ee!==-1&&(oe+=encodeURIComponent(ee.substring(Ee,ye)),Ee=-1),oe!==void 0&&(oe+=ee.charAt(ye));else{oe===void 0&&(oe=ee.substr(0,ye));const Je=F[me];Je!==void 0?(Ee!==-1&&(oe+=encodeURIComponent(ee.substring(Ee,ye)),Ee=-1),oe+=Je):Ee===-1&&(Ee=ye)}}return Ee!==-1&&(oe+=encodeURIComponent(ee.substring(Ee))),oe!==void 0?oe:ee}function Z(ee){let X;for(let se=0;se<ee.length;se++){const oe=ee.charCodeAt(se);oe===35||oe===63?(X===void 0&&(X=ee.substr(0,se)),X+=F[oe]):X!==void 0&&(X+=ee[se])}return X!==void 0?X:ee}function le(ee,X){let se;return se=ee.authority&&ee.path.length>1&&ee.scheme==="file"?`//${ee.authority}${ee.path}`:ee.path.charCodeAt(0)===47&&(ee.path.charCodeAt(1)>=65&&ee.path.charCodeAt(1)<=90||ee.path.charCodeAt(1)>=97&&ee.path.charCodeAt(1)<=122)&&ee.path.charCodeAt(2)===58?X?ee.path.substr(1):ee.path[1].toLowerCase()+ee.path.substr(2):ee.path,U&&(se=se.replace(/\//g,"\\")),se}function ue(ee,X){const se=X?Z:V;let oe="",{scheme:Ee,authority:ye,path:me,query:Je,fragment:ke}=ee;if(Ee&&(oe+=Ee,oe+=":"),(ye||Ee==="file")&&(oe+=y,oe+=y),ye){let Me=ye.indexOf("@");if(Me!==-1){const rt=ye.substr(0,Me);ye=ye.substr(Me+1),Me=rt.lastIndexOf(":"),Me===-1?oe+=se(rt,!1,!1):(oe+=se(rt.substr(0,Me),!1,!1),oe+=":",oe+=se(rt.substr(Me+1),!1,!0)),oe+="@"}ye=ye.toLowerCase(),Me=ye.lastIndexOf(":"),Me===-1?oe+=se(ye,!1,!0):(oe+=se(ye.substr(0,Me),!1,!0),oe+=ye.substr(Me))}if(me){if(me.length>=3&&me.charCodeAt(0)===47&&me.charCodeAt(2)===58){const Me=me.charCodeAt(1);Me>=65&&Me<=90&&(me=`/${String.fromCharCode(Me+32)}:${me.substr(3)}`)}else if(me.length>=2&&me.charCodeAt(1)===58){const Me=me.charCodeAt(0);Me>=65&&Me<=90&&(me=`${String.fromCharCode(Me+32)}:${me.substr(2)}`)}oe+=se(me,!0,!1)}return Je&&(oe+="?",oe+=se(Je,!1,!1)),ke&&(oe+="#",oe+=X?ke:V(ke,!1,!1)),oe}function G(ee){try{return decodeURIComponent(ee)}catch{return ee.length>3?ee.substr(0,3)+G(ee.substr(3)):ee}}const te=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function de(ee){return ee.match(te)?ee.replace(te,X=>G(X)):ee}var ge=D(470);const Ce=ge.posix||ge,ve="/";var Be;(function(ee){ee.joinPath=function(X,...se){return X.with({path:Ce.join(X.path,...se)})},ee.resolvePath=function(X,...se){let oe=X.path,Ee=!1;oe[0]!==ve&&(oe=ve+oe,Ee=!0);let ye=Ce.resolve(oe,...se);return Ee&&ye[0]===ve&&!X.authority&&(ye=ye.substring(1)),X.with({path:ye})},ee.dirname=function(X){if(X.path.length===0||X.path===ve)return X;let se=Ce.dirname(X.path);return se.length===1&&se.charCodeAt(0)===46&&(se=""),X.with({path:se})},ee.basename=function(X){return Ce.basename(X.path)},ee.extname=function(X){return Ce.extname(X.path)}})(Be||(Be={}))})(),v=K})();const{URI:M,Utils:H}=v}}]);
