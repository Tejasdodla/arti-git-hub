"use strict";(self.webpackChunkforgejo=self.webpackChunkforgejo||[]).push([["vendors-node_modules_mermaid_dist_chunks_mermaid_core_requirementDiagram-KVF5MWMF_mjs"],{"./node_modules/mermaid/dist/chunks/mermaid.core/chunk-RZ5BOZE2.mjs":function(nt,ve,p){p.d(ve,{A:function(){return Ke},P:function(){return Fe}});var $=p("./node_modules/mermaid/dist/chunks/mermaid.core/chunk-YTJNT7DU.mjs"),ie=p("./node_modules/d3/src/index.js"),Ke=(0,$.K2)((T,N)=>{let I;return N==="sandbox"&&(I=(0,ie.Ltv)("#i"+T)),(N==="sandbox"?(0,ie.Ltv)(I.nodes()[0].contentDocument.body):(0,ie.Ltv)("body")).select(`[id="${T}"]`)},"getDiagramElement"),Fe=(0,$.K2)((T,N,I,r)=>{T.attr("class",I);const{width:v,height:ge,x:Ve,y:Me}=Ue(T,N);(0,$.a$)(T,ge,v,r);const Ie=Be(Ve,Me,v,ge,N);T.attr("viewBox",Ie),$.Rm.debug(`viewBox configured: ${Ie} with padding: ${N}`)},"setupViewPortForSVG"),Ue=(0,$.K2)((T,N)=>{const I=T.node()?.getBBox()||{width:0,height:0,x:0,y:0};return{width:I.width+N*2,height:I.height+N*2,x:I.x,y:I.y}},"calculateDimensionsWithPadding"),Be=(0,$.K2)((T,N,I,r,v)=>`${T-v} ${N-v} ${I} ${r}`,"createViewBox")},"./node_modules/mermaid/dist/chunks/mermaid.core/requirementDiagram-KVF5MWMF.mjs":function(nt,ve,p){var re;p.d(ve,{diagram:function(){return lt}});var $=p("./node_modules/mermaid/dist/chunks/mermaid.core/chunk-RZ5BOZE2.mjs"),ie=p("./node_modules/mermaid/dist/chunks/mermaid.core/chunk-TYCBKAJE.mjs"),Ke=p("./node_modules/mermaid/dist/chunks/mermaid.core/chunk-IIMUDSI4.mjs"),Fe=p("./node_modules/mermaid/dist/chunks/mermaid.core/chunk-VV3M67IP.mjs"),Ue=p("./node_modules/mermaid/dist/chunks/mermaid.core/chunk-HRU6DDCH.mjs"),Be=p("./node_modules/mermaid/dist/chunks/mermaid.core/chunk-K557N5IZ.mjs"),T=p("./node_modules/mermaid/dist/chunks/mermaid.core/chunk-H2D2JQ3I.mjs"),N=p("./node_modules/mermaid/dist/chunks/mermaid.core/chunk-C3MQ5ANM.mjs"),I=p("./node_modules/mermaid/dist/chunks/mermaid.core/chunk-O4NI6UNU.mjs"),r=p("./node_modules/mermaid/dist/chunks/mermaid.core/chunk-YTJNT7DU.mjs"),v=function(){var e=(0,r.K2)(function(j,i,a,o){for(a=a||{},o=j.length;o--;a[j[o]]=i);return a},"o"),c=[1,3],m=[1,4],u=[1,5],n=[1,6],h=[5,6,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,77,89,90],d=[1,22],k=[2,7],g=[1,26],C=[1,27],V=[1,28],M=[1,29],q=[1,33],O=[1,34],x=[1,35],L=[1,36],P=[1,37],w=[1,38],K=[1,24],F=[1,31],U=[1,32],B=[1,30],f=[1,39],R=[1,40],E=[5,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,77,89,90],W=[1,61],ne=[89,90],Ye=[5,8,9,11,13,21,22,23,24,27,29,41,42,43,44,45,46,54,61,63,72,74,75,76,77,80,81,82,83,84,85,86,87,88,89,90],Se=[27,29],je=[1,70],We=[1,71],Qe=[1,72],He=[1,73],Ge=[1,74],ze=[1,75],Je=[1,76],le=[1,83],Q=[1,80],ce=[1,84],oe=[1,85],he=[1,86],ue=[1,87],me=[1,88],de=[1,89],_e=[1,90],Ee=[1,91],fe=[1,92],Te=[5,8,9,11,13,21,22,23,24,27,41,42,43,44,45,46,54,72,74,75,76,77,80,81,82,83,84,85,86,87,88,89,90],H=[63,64],Ze=[1,101],Xe=[5,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,76,77,89,90],A=[5,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,75,76,77,80,81,82,83,84,85,86,87,88,89,90],G=[1,110],z=[1,106],J=[1,107],Z=[1,108],X=[1,109],ee=[1,111],Re=[1,116],ke=[1,117],be=[1,114],pe=[1,115],qe={trace:(0,r.K2)(function(){},"trace"),yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,acc_title:9,acc_title_value:10,acc_descr:11,acc_descr_value:12,acc_descr_multiline_value:13,requirementDef:14,elementDef:15,relationshipDef:16,direction:17,styleStatement:18,classDefStatement:19,classStatement:20,direction_tb:21,direction_bt:22,direction_rl:23,direction_lr:24,requirementType:25,requirementName:26,STRUCT_START:27,requirementBody:28,STYLE_SEPARATOR:29,idList:30,ID:31,COLONSEP:32,id:33,TEXT:34,text:35,RISK:36,riskLevel:37,VERIFYMTHD:38,verifyType:39,STRUCT_STOP:40,REQUIREMENT:41,FUNCTIONAL_REQUIREMENT:42,INTERFACE_REQUIREMENT:43,PERFORMANCE_REQUIREMENT:44,PHYSICAL_REQUIREMENT:45,DESIGN_CONSTRAINT:46,LOW_RISK:47,MED_RISK:48,HIGH_RISK:49,VERIFY_ANALYSIS:50,VERIFY_DEMONSTRATION:51,VERIFY_INSPECTION:52,VERIFY_TEST:53,ELEMENT:54,elementName:55,elementBody:56,TYPE:57,type:58,DOCREF:59,ref:60,END_ARROW_L:61,relationship:62,LINE:63,END_ARROW_R:64,CONTAINS:65,COPIES:66,DERIVES:67,SATISFIES:68,VERIFIES:69,REFINES:70,TRACES:71,CLASSDEF:72,stylesOpt:73,CLASS:74,ALPHA:75,COMMA:76,STYLE:77,style:78,styleComponent:79,NUM:80,COLON:81,UNIT:82,SPACE:83,BRKT:84,PCT:85,MINUS:86,LABEL:87,SEMICOLON:88,unqString:89,qString:90,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",9:"acc_title",10:"acc_title_value",11:"acc_descr",12:"acc_descr_value",13:"acc_descr_multiline_value",21:"direction_tb",22:"direction_bt",23:"direction_rl",24:"direction_lr",27:"STRUCT_START",29:"STYLE_SEPARATOR",31:"ID",32:"COLONSEP",34:"TEXT",36:"RISK",38:"VERIFYMTHD",40:"STRUCT_STOP",41:"REQUIREMENT",42:"FUNCTIONAL_REQUIREMENT",43:"INTERFACE_REQUIREMENT",44:"PERFORMANCE_REQUIREMENT",45:"PHYSICAL_REQUIREMENT",46:"DESIGN_CONSTRAINT",47:"LOW_RISK",48:"MED_RISK",49:"HIGH_RISK",50:"VERIFY_ANALYSIS",51:"VERIFY_DEMONSTRATION",52:"VERIFY_INSPECTION",53:"VERIFY_TEST",54:"ELEMENT",57:"TYPE",59:"DOCREF",61:"END_ARROW_L",63:"LINE",64:"END_ARROW_R",65:"CONTAINS",66:"COPIES",67:"DERIVES",68:"SATISFIES",69:"VERIFIES",70:"REFINES",71:"TRACES",72:"CLASSDEF",74:"CLASS",75:"ALPHA",76:"COMMA",77:"STYLE",80:"NUM",81:"COLON",82:"UNIT",83:"SPACE",84:"BRKT",85:"PCT",86:"MINUS",87:"LABEL",88:"SEMICOLON",89:"unqString",90:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,2],[4,2],[4,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[17,1],[17,1],[17,1],[17,1],[14,5],[14,7],[28,5],[28,5],[28,5],[28,5],[28,2],[28,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[37,1],[37,1],[37,1],[39,1],[39,1],[39,1],[39,1],[15,5],[15,7],[56,5],[56,5],[56,2],[56,1],[16,5],[16,5],[62,1],[62,1],[62,1],[62,1],[62,1],[62,1],[62,1],[19,3],[20,3],[20,3],[30,1],[30,3],[30,1],[30,3],[18,3],[73,1],[73,3],[78,1],[78,2],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[26,1],[26,1],[33,1],[33,1],[35,1],[35,1],[55,1],[55,1],[58,1],[58,1],[60,1],[60,1]],performAction:(0,r.K2)(function(i,a,o,s,_,t,ye){var l=t.length-1;switch(_){case 4:this.$=t[l].trim(),s.setAccTitle(this.$);break;case 5:case 6:this.$=t[l].trim(),s.setAccDescription(this.$);break;case 7:this.$=[];break;case 17:s.setDirection("TB");break;case 18:s.setDirection("BT");break;case 19:s.setDirection("RL");break;case 20:s.setDirection("LR");break;case 21:s.addRequirement(t[l-3],t[l-4]);break;case 22:s.addRequirement(t[l-5],t[l-6]),s.setClass([t[l-5]],t[l-3]);break;case 23:s.setNewReqId(t[l-2]);break;case 24:s.setNewReqText(t[l-2]);break;case 25:s.setNewReqRisk(t[l-2]);break;case 26:s.setNewReqVerifyMethod(t[l-2]);break;case 29:this.$=s.RequirementType.REQUIREMENT;break;case 30:this.$=s.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 31:this.$=s.RequirementType.INTERFACE_REQUIREMENT;break;case 32:this.$=s.RequirementType.PERFORMANCE_REQUIREMENT;break;case 33:this.$=s.RequirementType.PHYSICAL_REQUIREMENT;break;case 34:this.$=s.RequirementType.DESIGN_CONSTRAINT;break;case 35:this.$=s.RiskLevel.LOW_RISK;break;case 36:this.$=s.RiskLevel.MED_RISK;break;case 37:this.$=s.RiskLevel.HIGH_RISK;break;case 38:this.$=s.VerifyType.VERIFY_ANALYSIS;break;case 39:this.$=s.VerifyType.VERIFY_DEMONSTRATION;break;case 40:this.$=s.VerifyType.VERIFY_INSPECTION;break;case 41:this.$=s.VerifyType.VERIFY_TEST;break;case 42:s.addElement(t[l-3]);break;case 43:s.addElement(t[l-5]),s.setClass([t[l-5]],t[l-3]);break;case 44:s.setNewElementType(t[l-2]);break;case 45:s.setNewElementDocRef(t[l-2]);break;case 48:s.addRelationship(t[l-2],t[l],t[l-4]);break;case 49:s.addRelationship(t[l-2],t[l-4],t[l]);break;case 50:this.$=s.Relationships.CONTAINS;break;case 51:this.$=s.Relationships.COPIES;break;case 52:this.$=s.Relationships.DERIVES;break;case 53:this.$=s.Relationships.SATISFIES;break;case 54:this.$=s.Relationships.VERIFIES;break;case 55:this.$=s.Relationships.REFINES;break;case 56:this.$=s.Relationships.TRACES;break;case 57:this.$=t[l-2],s.defineClass(t[l-1],t[l]);break;case 58:s.setClass(t[l-1],t[l]);break;case 59:s.setClass([t[l-2]],t[l]);break;case 60:case 62:this.$=[t[l]];break;case 61:case 63:this.$=t[l-2].concat([t[l]]);break;case 64:this.$=t[l-2],s.setCssStyle(t[l-1],t[l]);break;case 65:this.$=[t[l]];break;case 66:t[l-2].push(t[l]),this.$=t[l-2];break;case 68:this.$=t[l-1]+t[l];break}},"anonymous"),table:[{3:1,4:2,6:c,9:m,11:u,13:n},{1:[3]},{3:8,4:2,5:[1,7],6:c,9:m,11:u,13:n},{5:[1,9]},{10:[1,10]},{12:[1,11]},e(h,[2,6]),{3:12,4:2,6:c,9:m,11:u,13:n},{1:[2,2]},{4:17,5:d,7:13,8:k,9:m,11:u,13:n,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:g,22:C,23:V,24:M,25:23,33:25,41:q,42:O,43:x,44:L,45:P,46:w,54:K,72:F,74:U,77:B,89:f,90:R},e(h,[2,4]),e(h,[2,5]),{1:[2,1]},{8:[1,41]},{4:17,5:d,7:42,8:k,9:m,11:u,13:n,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:g,22:C,23:V,24:M,25:23,33:25,41:q,42:O,43:x,44:L,45:P,46:w,54:K,72:F,74:U,77:B,89:f,90:R},{4:17,5:d,7:43,8:k,9:m,11:u,13:n,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:g,22:C,23:V,24:M,25:23,33:25,41:q,42:O,43:x,44:L,45:P,46:w,54:K,72:F,74:U,77:B,89:f,90:R},{4:17,5:d,7:44,8:k,9:m,11:u,13:n,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:g,22:C,23:V,24:M,25:23,33:25,41:q,42:O,43:x,44:L,45:P,46:w,54:K,72:F,74:U,77:B,89:f,90:R},{4:17,5:d,7:45,8:k,9:m,11:u,13:n,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:g,22:C,23:V,24:M,25:23,33:25,41:q,42:O,43:x,44:L,45:P,46:w,54:K,72:F,74:U,77:B,89:f,90:R},{4:17,5:d,7:46,8:k,9:m,11:u,13:n,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:g,22:C,23:V,24:M,25:23,33:25,41:q,42:O,43:x,44:L,45:P,46:w,54:K,72:F,74:U,77:B,89:f,90:R},{4:17,5:d,7:47,8:k,9:m,11:u,13:n,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:g,22:C,23:V,24:M,25:23,33:25,41:q,42:O,43:x,44:L,45:P,46:w,54:K,72:F,74:U,77:B,89:f,90:R},{4:17,5:d,7:48,8:k,9:m,11:u,13:n,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:g,22:C,23:V,24:M,25:23,33:25,41:q,42:O,43:x,44:L,45:P,46:w,54:K,72:F,74:U,77:B,89:f,90:R},{4:17,5:d,7:49,8:k,9:m,11:u,13:n,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:g,22:C,23:V,24:M,25:23,33:25,41:q,42:O,43:x,44:L,45:P,46:w,54:K,72:F,74:U,77:B,89:f,90:R},{4:17,5:d,7:50,8:k,9:m,11:u,13:n,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:g,22:C,23:V,24:M,25:23,33:25,41:q,42:O,43:x,44:L,45:P,46:w,54:K,72:F,74:U,77:B,89:f,90:R},{26:51,89:[1,52],90:[1,53]},{55:54,89:[1,55],90:[1,56]},{29:[1,59],61:[1,57],63:[1,58]},e(E,[2,17]),e(E,[2,18]),e(E,[2,19]),e(E,[2,20]),{30:60,33:62,75:W,89:f,90:R},{30:63,33:62,75:W,89:f,90:R},{30:64,33:62,75:W,89:f,90:R},e(ne,[2,29]),e(ne,[2,30]),e(ne,[2,31]),e(ne,[2,32]),e(ne,[2,33]),e(ne,[2,34]),e(Ye,[2,81]),e(Ye,[2,82]),{1:[2,3]},{8:[2,8]},{8:[2,9]},{8:[2,10]},{8:[2,11]},{8:[2,12]},{8:[2,13]},{8:[2,14]},{8:[2,15]},{8:[2,16]},{27:[1,65],29:[1,66]},e(Se,[2,79]),e(Se,[2,80]),{27:[1,67],29:[1,68]},e(Se,[2,85]),e(Se,[2,86]),{62:69,65:je,66:We,67:Qe,68:He,69:Ge,70:ze,71:Je},{62:77,65:je,66:We,67:Qe,68:He,69:Ge,70:ze,71:Je},{30:78,33:62,75:W,89:f,90:R},{73:79,75:le,76:Q,78:81,79:82,80:ce,81:oe,82:he,83:ue,84:me,85:de,86:_e,87:Ee,88:fe},e(Te,[2,60]),e(Te,[2,62]),{73:93,75:le,76:Q,78:81,79:82,80:ce,81:oe,82:he,83:ue,84:me,85:de,86:_e,87:Ee,88:fe},{30:94,33:62,75:W,76:Q,89:f,90:R},{5:[1,95]},{30:96,33:62,75:W,89:f,90:R},{5:[1,97]},{30:98,33:62,75:W,89:f,90:R},{63:[1,99]},e(H,[2,50]),e(H,[2,51]),e(H,[2,52]),e(H,[2,53]),e(H,[2,54]),e(H,[2,55]),e(H,[2,56]),{64:[1,100]},e(E,[2,59],{76:Q}),e(E,[2,64],{76:Ze}),{33:103,75:[1,102],89:f,90:R},e(Xe,[2,65],{79:104,75:le,80:ce,81:oe,82:he,83:ue,84:me,85:de,86:_e,87:Ee,88:fe}),e(A,[2,67]),e(A,[2,69]),e(A,[2,70]),e(A,[2,71]),e(A,[2,72]),e(A,[2,73]),e(A,[2,74]),e(A,[2,75]),e(A,[2,76]),e(A,[2,77]),e(A,[2,78]),e(E,[2,57],{76:Ze}),e(E,[2,58],{76:Q}),{5:G,28:105,31:z,34:J,36:Z,38:X,40:ee},{27:[1,112],76:Q},{5:Re,40:ke,56:113,57:be,59:pe},{27:[1,118],76:Q},{33:119,89:f,90:R},{33:120,89:f,90:R},{75:le,78:121,79:82,80:ce,81:oe,82:he,83:ue,84:me,85:de,86:_e,87:Ee,88:fe},e(Te,[2,61]),e(Te,[2,63]),e(A,[2,68]),e(E,[2,21]),{32:[1,122]},{32:[1,123]},{32:[1,124]},{32:[1,125]},{5:G,28:126,31:z,34:J,36:Z,38:X,40:ee},e(E,[2,28]),{5:[1,127]},e(E,[2,42]),{32:[1,128]},{32:[1,129]},{5:Re,40:ke,56:130,57:be,59:pe},e(E,[2,47]),{5:[1,131]},e(E,[2,48]),e(E,[2,49]),e(Xe,[2,66],{79:104,75:le,80:ce,81:oe,82:he,83:ue,84:me,85:de,86:_e,87:Ee,88:fe}),{33:132,89:f,90:R},{35:133,89:[1,134],90:[1,135]},{37:136,47:[1,137],48:[1,138],49:[1,139]},{39:140,50:[1,141],51:[1,142],52:[1,143],53:[1,144]},e(E,[2,27]),{5:G,28:145,31:z,34:J,36:Z,38:X,40:ee},{58:146,89:[1,147],90:[1,148]},{60:149,89:[1,150],90:[1,151]},e(E,[2,46]),{5:Re,40:ke,56:152,57:be,59:pe},{5:[1,153]},{5:[1,154]},{5:[2,83]},{5:[2,84]},{5:[1,155]},{5:[2,35]},{5:[2,36]},{5:[2,37]},{5:[1,156]},{5:[2,38]},{5:[2,39]},{5:[2,40]},{5:[2,41]},e(E,[2,22]),{5:[1,157]},{5:[2,87]},{5:[2,88]},{5:[1,158]},{5:[2,89]},{5:[2,90]},e(E,[2,43]),{5:G,28:159,31:z,34:J,36:Z,38:X,40:ee},{5:G,28:160,31:z,34:J,36:Z,38:X,40:ee},{5:G,28:161,31:z,34:J,36:Z,38:X,40:ee},{5:G,28:162,31:z,34:J,36:Z,38:X,40:ee},{5:Re,40:ke,56:163,57:be,59:pe},{5:Re,40:ke,56:164,57:be,59:pe},e(E,[2,23]),e(E,[2,24]),e(E,[2,25]),e(E,[2,26]),e(E,[2,44]),e(E,[2,45])],defaultActions:{8:[2,2],12:[2,1],41:[2,3],42:[2,8],43:[2,9],44:[2,10],45:[2,11],46:[2,12],47:[2,13],48:[2,14],49:[2,15],50:[2,16],134:[2,83],135:[2,84],137:[2,35],138:[2,36],139:[2,37],141:[2,38],142:[2,39],143:[2,40],144:[2,41],147:[2,87],148:[2,88],150:[2,89],151:[2,90]},parseError:(0,r.K2)(function(i,a){if(a.recoverable)this.trace(i);else{var o=new Error(i);throw o.hash=a,o}},"parseError"),parse:(0,r.K2)(function(i){var a=this,o=[0],s=[],_=[null],t=[],ye=this.table,l="",Ce=0,et=0,tt=0,ot=2,st=1,ht=t.slice.call(arguments,1),b=Object.create(this.lexer),te={yy:{}};for(var Oe in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Oe)&&(te.yy[Oe]=this.yy[Oe]);b.setInput(i,te.yy),te.yy.lexer=b,te.yy.parser=this,typeof b.yylloc>"u"&&(b.yylloc={});var xe=b.yylloc;t.push(xe);var ut=b.options&&b.options.ranges;typeof te.yy.parseError=="function"?this.parseError=te.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function mt(S){o.length=o.length-2*S,_.length=_.length-S,t.length=t.length-S}(0,r.K2)(mt,"popStack");function it(){var S;return S=s.pop()||b.lex()||st,typeof S!="number"&&(S instanceof Array&&(s=S,S=s.pop()),S=a.symbols_[S]||S),S}(0,r.K2)(it,"lex");for(var y,Le,se,D,dt,Pe,ae={},Ae,Y,rt,De;;){if(se=o[o.length-1],this.defaultActions[se]?D=this.defaultActions[se]:((y===null||typeof y>"u")&&(y=it()),D=ye[se]&&ye[se][y]),typeof D>"u"||!D.length||!D[0]){var we="";De=[];for(Ae in ye[se])this.terminals_[Ae]&&Ae>ot&&De.push("'"+this.terminals_[Ae]+"'");b.showPosition?we="Parse error on line "+(Ce+1)+`:
`+b.showPosition()+`
Expecting `+De.join(", ")+", got '"+(this.terminals_[y]||y)+"'":we="Parse error on line "+(Ce+1)+": Unexpected "+(y==st?"end of input":"'"+(this.terminals_[y]||y)+"'"),this.parseError(we,{text:b.match,token:this.terminals_[y]||y,line:b.yylineno,loc:xe,expected:De})}if(D[0]instanceof Array&&D.length>1)throw new Error("Parse Error: multiple actions possible at state: "+se+", token: "+y);switch(D[0]){case 1:o.push(y),_.push(b.yytext),t.push(b.yylloc),o.push(D[1]),y=null,Le?(y=Le,Le=null):(et=b.yyleng,l=b.yytext,Ce=b.yylineno,xe=b.yylloc,tt>0&&tt--);break;case 2:if(Y=this.productions_[D[1]][1],ae.$=_[_.length-Y],ae._$={first_line:t[t.length-(Y||1)].first_line,last_line:t[t.length-1].last_line,first_column:t[t.length-(Y||1)].first_column,last_column:t[t.length-1].last_column},ut&&(ae._$.range=[t[t.length-(Y||1)].range[0],t[t.length-1].range[1]]),Pe=this.performAction.apply(ae,[l,et,Ce,te.yy,D[1],_,t].concat(ht)),typeof Pe<"u")return Pe;Y&&(o=o.slice(0,-1*Y*2),_=_.slice(0,-1*Y),t=t.slice(0,-1*Y)),o.push(this.productions_[D[1]][0]),_.push(ae.$),t.push(ae._$),rt=ye[o[o.length-2]][o[o.length-1]],o.push(rt);break;case 3:return!0}}return!0},"parse")},ct=function(){var j={EOF:1,parseError:(0,r.K2)(function(a,o){if(this.yy.parser)this.yy.parser.parseError(a,o);else throw new Error(a)},"parseError"),setInput:(0,r.K2)(function(i,a){return this.yy=a||this.yy||{},this._input=i,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:(0,r.K2)(function(){var i=this._input[0];this.yytext+=i,this.yyleng++,this.offset++,this.match+=i,this.matched+=i;var a=i.match(/(?:\r\n?|\n).*/g);return a?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),i},"input"),unput:(0,r.K2)(function(i){var a=i.length,o=i.split(/(?:\r\n?|\n)/g);this._input=i+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-a),this.offset-=a;var s=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),o.length-1&&(this.yylineno-=o.length-1);var _=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:o?(o.length===s.length?this.yylloc.first_column:0)+s[s.length-o.length].length-o[0].length:this.yylloc.first_column-a},this.options.ranges&&(this.yylloc.range=[_[0],_[0]+this.yyleng-a]),this.yyleng=this.yytext.length,this},"unput"),more:(0,r.K2)(function(){return this._more=!0,this},"more"),reject:(0,r.K2)(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:(0,r.K2)(function(i){this.unput(this.match.slice(i))},"less"),pastInput:(0,r.K2)(function(){var i=this.matched.substr(0,this.matched.length-this.match.length);return(i.length>20?"...":"")+i.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:(0,r.K2)(function(){var i=this.match;return i.length<20&&(i+=this._input.substr(0,20-i.length)),(i.substr(0,20)+(i.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:(0,r.K2)(function(){var i=this.pastInput(),a=new Array(i.length+1).join("-");return i+this.upcomingInput()+`
`+a+"^"},"showPosition"),test_match:(0,r.K2)(function(i,a){var o,s,_;if(this.options.backtrack_lexer&&(_={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(_.yylloc.range=this.yylloc.range.slice(0))),s=i[0].match(/(?:\r\n?|\n).*/g),s&&(this.yylineno+=s.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:s?s[s.length-1].length-s[s.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+i[0].length},this.yytext+=i[0],this.match+=i[0],this.matches=i,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(i[0].length),this.matched+=i[0],o=this.performAction.call(this,this.yy,this,a,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(var t in _)this[t]=_[t];return!1}return!1},"test_match"),next:(0,r.K2)(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var i,a,o,s;this._more||(this.yytext="",this.match="");for(var _=this._currentRules(),t=0;t<_.length;t++)if(o=this._input.match(this.rules[_[t]]),o&&(!a||o[0].length>a[0].length)){if(a=o,s=t,this.options.backtrack_lexer){if(i=this.test_match(o,_[t]),i!==!1)return i;if(this._backtrack){a=!1;continue}else return!1}else if(!this.options.flex)break}return a?(i=this.test_match(a,_[s]),i!==!1?i:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:(0,r.K2)(function(){var a=this.next();return a||this.lex()},"lex"),begin:(0,r.K2)(function(a){this.conditionStack.push(a)},"begin"),popState:(0,r.K2)(function(){var a=this.conditionStack.length-1;return a>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:(0,r.K2)(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:(0,r.K2)(function(a){return a=this.conditionStack.length-1-Math.abs(a||0),a>=0?this.conditionStack[a]:"INITIAL"},"topState"),pushState:(0,r.K2)(function(a){this.begin(a)},"pushState"),stateStackSize:(0,r.K2)(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:(0,r.K2)(function(a,o,s,_){var t=_;switch(s){case 0:return"title";case 1:return this.begin("acc_title"),9;break;case 2:return this.popState(),"acc_title_value";break;case 3:return this.begin("acc_descr"),11;break;case 4:return this.popState(),"acc_descr_value";break;case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:return 21;case 9:return 22;case 10:return 23;case 11:return 24;case 12:return 5;case 13:break;case 14:break;case 15:break;case 16:return 8;case 17:return 6;case 18:return 27;case 19:return 40;case 20:return 29;case 21:return 32;case 22:return 31;case 23:return 34;case 24:return 36;case 25:return 38;case 26:return 41;case 27:return 42;case 28:return 43;case 29:return 44;case 30:return 45;case 31:return 46;case 32:return 47;case 33:return 48;case 34:return 49;case 35:return 50;case 36:return 51;case 37:return 52;case 38:return 53;case 39:return 54;case 40:return 65;case 41:return 66;case 42:return 67;case 43:return 68;case 44:return 69;case 45:return 70;case 46:return 71;case 47:return 57;case 48:return 59;case 49:return this.begin("style"),77;break;case 50:return 75;case 51:return 81;case 52:return 88;case 53:return"PERCENT";case 54:return 86;case 55:return 84;case 56:break;case 57:this.begin("string");break;case 58:this.popState();break;case 59:return this.begin("style"),72;break;case 60:return this.begin("style"),74;break;case 61:return 61;case 62:return 64;case 63:return 63;case 64:this.begin("string");break;case 65:this.popState();break;case 66:return"qString";case 67:return o.yytext=o.yytext.trim(),89;break;case 68:return 75;case 69:return 80;case 70:return 76}},"anonymous"),rules:[/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::{3})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:style\b)/i,/^(?:\w+)/i,/^(?::)/i,/^(?:;)/i,/^(?:%)/i,/^(?:-)/i,/^(?:#)/i,/^(?: )/i,/^(?:["])/i,/^(?:\n)/i,/^(?:classDef\b)/i,/^(?:class\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^:,\r\n\{\<\>\-\=]*)/i,/^(?:\w+)/i,/^(?:[0-9]+)/i,/^(?:,)/i],conditions:{acc_descr_multiline:{rules:[6,7,68,69,70],inclusive:!1},acc_descr:{rules:[4,68,69,70],inclusive:!1},acc_title:{rules:[2,68,69,70],inclusive:!1},style:{rules:[50,51,52,53,54,55,56,57,58,68,69,70],inclusive:!1},unqString:{rules:[68,69,70],inclusive:!1},token:{rules:[68,69,70],inclusive:!1},string:{rules:[65,66,68,69,70],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,59,60,61,62,63,64,67,68,69,70],inclusive:!0}}};return j}();qe.lexer=ct;function Ne(){this.yy={}}return(0,r.K2)(Ne,"Parser"),Ne.prototype=qe,qe.Parser=Ne,new Ne}();v.parser=v;var ge=v,Ve=(re=class{constructor(){this.relations=[],this.latestRequirement=this.getInitialRequirement(),this.requirements=new Map,this.latestElement=this.getInitialElement(),this.elements=new Map,this.classes=new Map,this.direction="TB",this.RequirementType={REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},this.RiskLevel={LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},this.VerifyType={VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},this.Relationships={CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},this.setAccTitle=r.SV,this.getAccTitle=r.iN,this.setAccDescription=r.EI,this.getAccDescription=r.m7,this.setDiagramTitle=r.ke,this.getDiagramTitle=r.ab,this.getConfig=(0,r.K2)(()=>(0,r.D7)().requirement,"getConfig"),this.clear(),this.setDirection=this.setDirection.bind(this),this.addRequirement=this.addRequirement.bind(this),this.setNewReqId=this.setNewReqId.bind(this),this.setNewReqRisk=this.setNewReqRisk.bind(this),this.setNewReqText=this.setNewReqText.bind(this),this.setNewReqVerifyMethod=this.setNewReqVerifyMethod.bind(this),this.addElement=this.addElement.bind(this),this.setNewElementType=this.setNewElementType.bind(this),this.setNewElementDocRef=this.setNewElementDocRef.bind(this),this.addRelationship=this.addRelationship.bind(this),this.setCssStyle=this.setCssStyle.bind(this),this.setClass=this.setClass.bind(this),this.defineClass=this.defineClass.bind(this),this.setAccTitle=this.setAccTitle.bind(this),this.setAccDescription=this.setAccDescription.bind(this)}getDirection(){return this.direction}setDirection(c){this.direction=c}resetLatestRequirement(){this.latestRequirement=this.getInitialRequirement()}resetLatestElement(){this.latestElement=this.getInitialElement()}getInitialRequirement(){return{requirementId:"",text:"",risk:"",verifyMethod:"",name:"",type:"",cssStyles:[],classes:["default"]}}getInitialElement(){return{name:"",type:"",docRef:"",cssStyles:[],classes:["default"]}}addRequirement(c,m){return this.requirements.has(c)||this.requirements.set(c,{name:c,type:m,requirementId:this.latestRequirement.requirementId,text:this.latestRequirement.text,risk:this.latestRequirement.risk,verifyMethod:this.latestRequirement.verifyMethod,cssStyles:[],classes:["default"]}),this.resetLatestRequirement(),this.requirements.get(c)}getRequirements(){return this.requirements}setNewReqId(c){this.latestRequirement!==void 0&&(this.latestRequirement.requirementId=c)}setNewReqText(c){this.latestRequirement!==void 0&&(this.latestRequirement.text=c)}setNewReqRisk(c){this.latestRequirement!==void 0&&(this.latestRequirement.risk=c)}setNewReqVerifyMethod(c){this.latestRequirement!==void 0&&(this.latestRequirement.verifyMethod=c)}addElement(c){return this.elements.has(c)||(this.elements.set(c,{name:c,type:this.latestElement.type,docRef:this.latestElement.docRef,cssStyles:[],classes:["default"]}),r.Rm.info("Added new element: ",c)),this.resetLatestElement(),this.elements.get(c)}getElements(){return this.elements}setNewElementType(c){this.latestElement!==void 0&&(this.latestElement.type=c)}setNewElementDocRef(c){this.latestElement!==void 0&&(this.latestElement.docRef=c)}addRelationship(c,m,u){this.relations.push({type:c,src:m,dst:u})}getRelationships(){return this.relations}clear(){this.relations=[],this.resetLatestRequirement(),this.requirements=new Map,this.resetLatestElement(),this.elements=new Map,this.classes=new Map,(0,r.IU)()}setCssStyle(c,m){for(const u of c){const n=this.requirements.get(u)??this.elements.get(u);if(!m||!n)return;for(const h of m)h.includes(",")?n.cssStyles.push(...h.split(",")):n.cssStyles.push(h)}}setClass(c,m){for(const u of c){const n=this.requirements.get(u)??this.elements.get(u);if(n)for(const h of m){n.classes.push(h);const d=this.classes.get(h)?.styles;d&&n.cssStyles.push(...d)}}}defineClass(c,m){for(const u of c){let n=this.classes.get(u);n===void 0&&(n={id:u,styles:[],textStyles:[]},this.classes.set(u,n)),m&&m.forEach(function(h){if(/color/.exec(h)){const d=h.replace("fill","bgFill");n.textStyles.push(d)}n.styles.push(h)}),this.requirements.forEach(h=>{h.classes.includes(u)&&h.cssStyles.push(...m.flatMap(d=>d.split(",")))}),this.elements.forEach(h=>{h.classes.includes(u)&&h.cssStyles.push(...m.flatMap(d=>d.split(",")))})}}getClasses(){return this.classes}getData(){const c=(0,r.D7)(),m=[],u=[];for(const n of this.requirements.values()){const h=n;h.id=n.name,h.cssStyles=n.cssStyles,h.cssClasses=n.classes.join(" "),h.shape="requirementBox",h.look=c.look,m.push(h)}for(const n of this.elements.values()){const h=n;h.shape="requirementBox",h.look=c.look,h.id=n.name,h.cssStyles=n.cssStyles,h.cssClasses=n.classes.join(" "),m.push(h)}for(const n of this.relations){let h=0;const d=n.type===this.Relationships.CONTAINS,k={id:`${n.src}-${n.dst}-${h}`,start:this.requirements.get(n.src)?.name??this.elements.get(n.src)?.name,end:this.requirements.get(n.dst)?.name??this.elements.get(n.dst)?.name,label:`&lt;&lt;${n.type}&gt;&gt;`,classes:"relationshipLine",style:["fill:none",d?"":"stroke-dasharray: 10,7"],labelpos:"c",thickness:"normal",type:"normal",pattern:d?"normal":"dashed",arrowTypeStart:d?"requirement_contains":"",arrowTypeEnd:d?"":"requirement_arrow",look:c.look};u.push(k),h++}return{nodes:m,edges:u,other:{},config:c,direction:this.getDirection()}}},(0,r.K2)(re,"RequirementDB"),re),Me=(0,r.K2)(e=>`

  marker {
    fill: ${e.relationColor};
    stroke: ${e.relationColor};
  }

  marker.cross {
    stroke: ${e.lineColor};
  }

  svg {
    font-family: ${e.fontFamily};
    font-size: ${e.fontSize};
  }

  .reqBox {
    fill: ${e.requirementBackground};
    fill-opacity: 1.0;
    stroke: ${e.requirementBorderColor};
    stroke-width: ${e.requirementBorderSize};
  }
  
  .reqTitle, .reqLabel{
    fill:  ${e.requirementTextColor};
  }
  .reqLabelBox {
    fill: ${e.relationLabelBackground};
    fill-opacity: 1.0;
  }

  .req-title-line {
    stroke: ${e.requirementBorderColor};
    stroke-width: ${e.requirementBorderSize};
  }
  .relationshipLine {
    stroke: ${e.relationColor};
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: ${e.relationLabelColor};
  }
  .divider {
    stroke: ${e.nodeBorder};
    stroke-width: 1;
  }
  .label {
    font-family: ${e.fontFamily};
    color: ${e.nodeTextColor||e.textColor};
  }
  .label text,span {
    fill: ${e.nodeTextColor||e.textColor};
    color: ${e.nodeTextColor||e.textColor};
  }
  .labelBkg {
    background-color: ${e.edgeLabelBackground};
  }

`,"getStyles"),Ie=Me,$e={};(0,r.VA)($e,{draw:()=>at});var at=(0,r.K2)(async function(e,c,m,u){r.Rm.info("REF0:"),r.Rm.info("Drawing requirement diagram (unified)",c);const{securityLevel:n,state:h,layout:d}=(0,r.D7)(),k=u.db.getData(),g=(0,$.A)(c,n);k.type=u.type,k.layoutAlgorithm=(0,ie.q7)(d),k.nodeSpacing=h?.nodeSpacing??50,k.rankSpacing=h?.rankSpacing??50,k.markers=["requirement_contains","requirement_arrow"],k.diagramId=c,await(0,ie.XX)(k,g);const C=8;I._K.insertTitle(g,"requirementDiagramTitleText",h?.titleTopMargin??25,u.db.getDiagramTitle()),(0,$.P)(g,C,"requirementDiagram",h?.useMaxWidth??!0)},"draw"),lt={parser:ge,get db(){return new Ve},renderer:$e,styles:Ie}}}]);
